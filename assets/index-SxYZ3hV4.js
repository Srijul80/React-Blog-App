(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function pd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var mf={exports:{}},yl={},gf={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function oS(){if(By)return We;By=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function T(U){return U===null||typeof U!="object"?null:(U=w&&U[w]||U["@@iterator"],typeof U=="function"?U:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,z={};function F(U,X,fe){this.props=U,this.context=X,this.refs=z,this.updater=fe||C}F.prototype.isReactComponent={},F.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},F.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function W(){}W.prototype=F.prototype;function re(U,X,fe){this.props=U,this.context=X,this.refs=z,this.updater=fe||C}var ee=re.prototype=new W;ee.constructor=re,b(ee,F.prototype),ee.isPureReactComponent=!0;var de=Array.isArray,j=Object.prototype.hasOwnProperty,le={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function S(U,X,fe){var Ae,ke={},$e=null,He=null;if(X!=null)for(Ae in X.ref!==void 0&&(He=X.ref),X.key!==void 0&&($e=""+X.key),X)j.call(X,Ae)&&!N.hasOwnProperty(Ae)&&(ke[Ae]=X[Ae]);var qe=arguments.length-2;if(qe===1)ke.children=fe;else if(1<qe){for(var Le=Array(qe),st=0;st<qe;st++)Le[st]=arguments[st+2];ke.children=Le}if(U&&U.defaultProps)for(Ae in qe=U.defaultProps,qe)ke[Ae]===void 0&&(ke[Ae]=qe[Ae]);return{$$typeof:n,type:U,key:$e,ref:He,props:ke,_owner:le.current}}function A(U,X){return{$$typeof:n,type:U.type,key:X,ref:U.ref,props:U.props,_owner:U._owner}}function D(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function M(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(fe){return X[fe]})}var B=/\/+/g;function k(U,X){return typeof U=="object"&&U!==null&&U.key!=null?M(""+U.key):X.toString(36)}function at(U,X,fe,Ae,ke){var $e=typeof U;($e==="undefined"||$e==="boolean")&&(U=null);var He=!1;if(U===null)He=!0;else switch($e){case"string":case"number":He=!0;break;case"object":switch(U.$$typeof){case n:case e:He=!0}}if(He)return He=U,ke=ke(He),U=Ae===""?"."+k(He,0):Ae,de(ke)?(fe="",U!=null&&(fe=U.replace(B,"$&/")+"/"),at(ke,X,fe,"",function(st){return st})):ke!=null&&(D(ke)&&(ke=A(ke,fe+(!ke.key||He&&He.key===ke.key?"":(""+ke.key).replace(B,"$&/")+"/")+U)),X.push(ke)),1;if(He=0,Ae=Ae===""?".":Ae+":",de(U))for(var qe=0;qe<U.length;qe++){$e=U[qe];var Le=Ae+k($e,qe);He+=at($e,X,fe,Le,ke)}else if(Le=T(U),typeof Le=="function")for(U=Le.call(U),qe=0;!($e=U.next()).done;)$e=$e.value,Le=Ae+k($e,qe++),He+=at($e,X,fe,Le,ke);else if($e==="object")throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return He}function ze(U,X,fe){if(U==null)return U;var Ae=[],ke=0;return at(U,Ae,"","",function($e){return X.call(fe,$e,ke++)}),Ae}function dt(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(fe){(U._status===0||U._status===-1)&&(U._status=1,U._result=fe)},function(fe){(U._status===0||U._status===-1)&&(U._status=2,U._result=fe)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var Be={current:null},te={transition:null},_e={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:te,ReactCurrentOwner:le};function he(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:ze,forEach:function(U,X,fe){ze(U,function(){X.apply(this,arguments)},fe)},count:function(U){var X=0;return ze(U,function(){X++}),X},toArray:function(U){return ze(U,function(X){return X})||[]},only:function(U){if(!D(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},We.Component=F,We.Fragment=t,We.Profiler=o,We.PureComponent=re,We.StrictMode=i,We.Suspense=f,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_e,We.act=he,We.cloneElement=function(U,X,fe){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Ae=b({},U.props),ke=U.key,$e=U.ref,He=U._owner;if(X!=null){if(X.ref!==void 0&&($e=X.ref,He=le.current),X.key!==void 0&&(ke=""+X.key),U.type&&U.type.defaultProps)var qe=U.type.defaultProps;for(Le in X)j.call(X,Le)&&!N.hasOwnProperty(Le)&&(Ae[Le]=X[Le]===void 0&&qe!==void 0?qe[Le]:X[Le])}var Le=arguments.length-2;if(Le===1)Ae.children=fe;else if(1<Le){qe=Array(Le);for(var st=0;st<Le;st++)qe[st]=arguments[st+2];Ae.children=qe}return{$$typeof:n,type:U.type,key:ke,ref:$e,props:Ae,_owner:He}},We.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},We.createElement=S,We.createFactory=function(U){var X=S.bind(null,U);return X.type=U,X},We.createRef=function(){return{current:null}},We.forwardRef=function(U){return{$$typeof:h,render:U}},We.isValidElement=D,We.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:dt}},We.memo=function(U,X){return{$$typeof:m,type:U,compare:X===void 0?null:X}},We.startTransition=function(U){var X=te.transition;te.transition={};try{U()}finally{te.transition=X}},We.unstable_act=he,We.useCallback=function(U,X){return Be.current.useCallback(U,X)},We.useContext=function(U){return Be.current.useContext(U)},We.useDebugValue=function(){},We.useDeferredValue=function(U){return Be.current.useDeferredValue(U)},We.useEffect=function(U,X){return Be.current.useEffect(U,X)},We.useId=function(){return Be.current.useId()},We.useImperativeHandle=function(U,X,fe){return Be.current.useImperativeHandle(U,X,fe)},We.useInsertionEffect=function(U,X){return Be.current.useInsertionEffect(U,X)},We.useLayoutEffect=function(U,X){return Be.current.useLayoutEffect(U,X)},We.useMemo=function(U,X){return Be.current.useMemo(U,X)},We.useReducer=function(U,X,fe){return Be.current.useReducer(U,X,fe)},We.useRef=function(U){return Be.current.useRef(U)},We.useState=function(U){return Be.current.useState(U)},We.useSyncExternalStore=function(U,X,fe){return Be.current.useSyncExternalStore(U,X,fe)},We.useTransition=function(){return Be.current.useTransition()},We.version="18.3.1",We}var $y;function Ap(){return $y||($y=1,gf.exports=oS()),gf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function aS(){if(zy)return yl;zy=1;var n=Ap(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,m){var v,w={},T=null,C=null;m!==void 0&&(T=""+m),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(C=f.ref);for(v in f)i.call(f,v)&&!a.hasOwnProperty(v)&&(w[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)w[v]===void 0&&(w[v]=f[v]);return{$$typeof:e,type:h,key:T,ref:C,props:w,_owner:o.current}}return yl.Fragment=t,yl.jsx=u,yl.jsxs=u,yl}var Hy;function lS(){return Hy||(Hy=1,mf.exports=aS()),mf.exports}var x=lS(),mc={},yf={exports:{}},Bn={},_f={exports:{}},vf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function uS(){return Wy||(Wy=1,function(n){function e(te,_e){var he=te.length;te.push(_e);e:for(;0<he;){var U=he-1>>>1,X=te[U];if(0<o(X,_e))te[U]=_e,te[he]=X,he=U;else break e}}function t(te){return te.length===0?null:te[0]}function i(te){if(te.length===0)return null;var _e=te[0],he=te.pop();if(he!==_e){te[0]=he;e:for(var U=0,X=te.length,fe=X>>>1;U<fe;){var Ae=2*(U+1)-1,ke=te[Ae],$e=Ae+1,He=te[$e];if(0>o(ke,he))$e<X&&0>o(He,ke)?(te[U]=He,te[$e]=he,U=$e):(te[U]=ke,te[Ae]=he,U=Ae);else if($e<X&&0>o(He,he))te[U]=He,te[$e]=he,U=$e;else break e}}return _e}function o(te,_e){var he=te.sortIndex-_e.sortIndex;return he!==0?he:te.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],m=[],v=1,w=null,T=3,C=!1,b=!1,z=!1,F=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ee(te){for(var _e=t(m);_e!==null;){if(_e.callback===null)i(m);else if(_e.startTime<=te)i(m),_e.sortIndex=_e.expirationTime,e(f,_e);else break;_e=t(m)}}function de(te){if(z=!1,ee(te),!b)if(t(f)!==null)b=!0,dt(j);else{var _e=t(m);_e!==null&&Be(de,_e.startTime-te)}}function j(te,_e){b=!1,z&&(z=!1,W(S),S=-1),C=!0;var he=T;try{for(ee(_e),w=t(f);w!==null&&(!(w.expirationTime>_e)||te&&!M());){var U=w.callback;if(typeof U=="function"){w.callback=null,T=w.priorityLevel;var X=U(w.expirationTime<=_e);_e=n.unstable_now(),typeof X=="function"?w.callback=X:w===t(f)&&i(f),ee(_e)}else i(f);w=t(f)}if(w!==null)var fe=!0;else{var Ae=t(m);Ae!==null&&Be(de,Ae.startTime-_e),fe=!1}return fe}finally{w=null,T=he,C=!1}}var le=!1,N=null,S=-1,A=5,D=-1;function M(){return!(n.unstable_now()-D<A)}function B(){if(N!==null){var te=n.unstable_now();D=te;var _e=!0;try{_e=N(!0,te)}finally{_e?k():(le=!1,N=null)}}else le=!1}var k;if(typeof re=="function")k=function(){re(B)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,ze=at.port2;at.port1.onmessage=B,k=function(){ze.postMessage(null)}}else k=function(){F(B,0)};function dt(te){N=te,le||(le=!0,k())}function Be(te,_e){S=F(function(){te(n.unstable_now())},_e)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_continueExecution=function(){b||C||(b=!0,dt(j))},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(te){switch(T){case 1:case 2:case 3:var _e=3;break;default:_e=T}var he=T;T=_e;try{return te()}finally{T=he}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(te,_e){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var he=T;T=te;try{return _e()}finally{T=he}},n.unstable_scheduleCallback=function(te,_e,he){var U=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?U+he:U):he=U,te){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=he+X,te={id:v++,callback:_e,priorityLevel:te,startTime:he,expirationTime:X,sortIndex:-1},he>U?(te.sortIndex=he,e(m,te),t(f)===null&&te===t(m)&&(z?(W(S),S=-1):z=!0,Be(de,he-U))):(te.sortIndex=X,e(f,te),b||C||(b=!0,dt(j))),te},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(te){var _e=T;return function(){var he=T;T=_e;try{return te.apply(this,arguments)}finally{T=he}}}}(vf)),vf}var qy;function cS(){return qy||(qy=1,_f.exports=uS()),_f.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function dS(){if(Ky)return Bn;Ky=1;var n=Ap(),e=cS();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function T(r){return f.call(w,r)?!0:f.call(v,r)?!1:m.test(r)?w[r]=!0:(v[r]=!0,!1)}function C(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,s,l,d){if(s===null||typeof s>"u"||C(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function z(r,s,l,d,p,y,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=E}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){F[r]=new z(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];F[s]=new z(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){F[r]=new z(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){F[r]=new z(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){F[r]=new z(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){F[r]=new z(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){F[r]=new z(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){F[r]=new z(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){F[r]=new z(r,5,!1,r.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function re(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(W,re);F[s]=new z(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(W,re);F[s]=new z(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(W,re);F[s]=new z(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){F[r]=new z(r,1,!1,r.toLowerCase(),null,!1,!1)}),F.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){F[r]=new z(r,1,!1,r.toLowerCase(),null,!0,!0)});function ee(r,s,l,d){var p=F.hasOwnProperty(s)?F[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(b(s,l,p,d)&&(l=null),d||p===null?T(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,d=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var de=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),le=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),M=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),ze=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),Be=Symbol.for("react.offscreen"),te=Symbol.iterator;function _e(r){return r===null||typeof r!="object"?null:(r=te&&r[te]||r["@@iterator"],typeof r=="function"?r:null)}var he=Object.assign,U;function X(r){if(U===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);U=s&&s[1]||""}return`
`+U+r}var fe=!1;function Ae(r,s){if(!r||fe)return"";fe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(G){var d=G}Reflect.construct(r,[],s)}else{try{s.call()}catch(G){d=G}r.call(s.prototype)}else{try{throw Error()}catch(G){d=G}r()}}catch(G){if(G&&d&&typeof G.stack=="string"){for(var p=G.stack.split(`
`),y=d.stack.split(`
`),E=p.length-1,P=y.length-1;1<=E&&0<=P&&p[E]!==y[P];)P--;for(;1<=E&&0<=P;E--,P--)if(p[E]!==y[P]){if(E!==1||P!==1)do if(E--,P--,0>P||p[E]!==y[P]){var L=`
`+p[E].replace(" at new "," at ");return r.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",r.displayName)),L}while(1<=E&&0<=P);break}}}finally{fe=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?X(r):""}function ke(r){switch(r.tag){case 5:return X(r.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return r=Ae(r.type,!1),r;case 11:return r=Ae(r.type.render,!1),r;case 1:return r=Ae(r.type,!0),r;default:return""}}function $e(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case le:return"Portal";case A:return"Profiler";case S:return"StrictMode";case k:return"Suspense";case at:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case M:return(r.displayName||"Context")+".Consumer";case D:return(r._context.displayName||"Context")+".Provider";case B:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ze:return s=r.displayName||null,s!==null?s:$e(r.type)||"Memo";case dt:s=r._payload,r=r._init;try{return $e(r(s))}catch{}}return null}function He(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $e(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function qe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Le(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function st(r){var s=Le(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(E){d=""+E,y.call(this,E)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Xt(r){r._valueTracker||(r._valueTracker=st(r))}function Sn(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=Le(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function Pt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function cn(r,s){var l=s.checked;return he({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function nt(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=qe(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Hn(r,s){s=s.checked,s!=null&&ee(r,"checked",s,!1)}function Wn(r,s){Hn(r,s);var l=qe(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Fr(r,s.type,l):s.hasOwnProperty("defaultValue")&&Fr(r,s.type,qe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Fi(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Fr(r,s,l){(s!=="number"||Pt(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var qn=Array.isArray;function Ft(r,s,l,d){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&d&&(r[l].defaultSelected=!0)}else{for(l=""+qe(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function Kn(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return he({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function pr(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(qn(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:qe(l)}}function Gn(r,s){var l=qe(s.value),d=qe(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function dn(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Se(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ft(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Se(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var hn,$s=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,p)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(hn=hn||document.createElement("div"),hn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=hn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Jt(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Ur={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jr=["Webkit","ms","Moz","O"];Object.keys(Ur).forEach(function(r){jr.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Ur[s]=Ur[r]})});function Ui(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Ur.hasOwnProperty(r)&&Ur[r]?(""+s).trim():s+"px"}function zs(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=Ui(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,p):r[l]=p}}var ji=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Br(r,s){if(s){if(ji[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Bi(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mr=null;function $i(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ui=null,Dn=null,Qn=null;function gr(r){if(r=nl(r)){if(typeof ui!="function")throw Error(t(280));var s=r.stateNode;s&&(s=xu(s),ui(r.stateNode,r.type,s))}}function Rn(r){Dn?Qn?Qn.push(r):Qn=[r]:Dn=r}function Hs(){if(Dn){var r=Dn,s=Qn;if(Qn=Dn=null,gr(r),s)for(r=0;r<s.length;r++)gr(s[r])}}function ci(r,s){return r(s)}function O(){}var $=!1;function Q(r,s,l){if($)return r(s,l);$=!0;try{return ci(r,s,l)}finally{$=!1,(Dn!==null||Qn!==null)&&(O(),Hs())}}function J(r,s){var l=r.stateNode;if(l===null)return null;var d=xu(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var pe=!1;if(h)try{var ve={};Object.defineProperty(ve,"passive",{get:function(){pe=!0}}),window.addEventListener("test",ve,ve),window.removeEventListener("test",ve,ve)}catch{pe=!1}function Pe(r,s,l,d,p,y,E,P,L){var G=Array.prototype.slice.call(arguments,3);try{s.apply(l,G)}catch(ie){this.onError(ie)}}var me=!1,we=null,ue=!1,be=null,je={onError:function(r){me=!0,we=r}};function lt(r,s,l,d,p,y,E,P,L){me=!1,we=null,Pe.apply(je,arguments)}function kt(r,s,l,d,p,y,E,P,L){if(lt.apply(this,arguments),me){if(me){var G=we;me=!1,we=null}else throw Error(t(198));ue||(ue=!0,be=G)}}function Qe(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function rt(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function ut(r){if(Qe(r)!==r)throw Error(t(188))}function yr(r){var s=r.alternate;if(!s){if(s=Qe(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,d=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return ut(p),r;if(y===d)return ut(p),s;y=y.sibling}throw Error(t(188))}if(l.return!==d.return)l=p,d=y;else{for(var E=!1,P=p.child;P;){if(P===l){E=!0,l=p,d=y;break}if(P===d){E=!0,d=p,l=y;break}P=P.sibling}if(!E){for(P=y.child;P;){if(P===l){E=!0,l=y,d=p;break}if(P===d){E=!0,d=y,l=p;break}P=P.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function _r(r){return r=yr(r),r!==null?fn(r):null}function fn(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=fn(r);if(s!==null)return s;r=r.sibling}return null}var Zt=e.unstable_scheduleCallback,di=e.unstable_cancelCallback,$r=e.unstable_shouldYield,vr=e.unstable_requestPaint,ct=e.unstable_now,hi=e.unstable_getCurrentPriorityLevel,Ze=e.unstable_ImmediatePriority,_t=e.unstable_UserBlockingPriority,en=e.unstable_NormalPriority,Er=e.unstable_LowPriority,vt=e.unstable_IdlePriority,bn=null,pn=null;function No(r){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(bn,r,void 0,(r.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:lu,ja=Math.log,au=Math.LN2;function lu(r){return r>>>=0,r===0?32:31-(ja(r)/au|0)|0}var Do=64,bo=4194304;function zi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ws(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,p=r.suspendedLanes,y=r.pingedLanes,E=l&268435455;if(E!==0){var P=E&~p;P!==0?d=zi(P):(y&=E,y!==0&&(d=zi(y)))}else E=l&~p,E!==0?d=zi(E):y!==0&&(d=zi(y));if(d===0)return 0;if(s!==0&&s!==d&&!(s&p)&&(p=d&-d,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if(d&4&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-Cn(s),p=1<<l,d|=r[l],s&=~p;return d}function Hd(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fi(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var E=31-Cn(y),P=1<<E,L=p[E];L===-1?(!(P&l)||P&d)&&(p[E]=Hd(P,s)):L<=s&&(r.expiredLanes|=P),y&=~P}}function Yn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function qs(){var r=Do;return Do<<=1,!(Do&4194240)&&(Do=64),r}function Hi(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Wi(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Cn(s),r[s]=l}function mt(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-Cn(l),y=1<<p;s[p]=0,d[p]=-1,r[p]=-1,l&=~y}}function qi(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-Cn(l),p=1<<d;p&s|r[d]&s&&(r[d]|=s),l&=~p}}var Ye=0;function Ki(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var uu,Lo,cu,du,hu,Ba=!1,zr=[],tn=null,wr=null,Tr=null,Gi=new Map,ir=new Map,Hr=[],Wd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fu(r,s){switch(r){case"focusin":case"focusout":tn=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":Gi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ir.delete(s.pointerId)}}function Ln(r,s,l,d,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},s!==null&&(s=nl(s),s!==null&&Lo(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function qd(r,s,l,d,p){switch(s){case"focusin":return tn=Ln(tn,r,s,l,d,p),!0;case"dragenter":return wr=Ln(wr,r,s,l,d,p),!0;case"mouseover":return Tr=Ln(Tr,r,s,l,d,p),!0;case"pointerover":var y=p.pointerId;return Gi.set(y,Ln(Gi.get(y)||null,r,s,l,d,p)),!0;case"gotpointercapture":return y=p.pointerId,ir.set(y,Ln(ir.get(y)||null,r,s,l,d,p)),!0}return!1}function pu(r){var s=Xs(r.target);if(s!==null){var l=Qe(s);if(l!==null){if(s=l.tag,s===13){if(s=rt(l),s!==null){r.blockedOn=s,hu(r.priority,function(){cu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function pi(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Oo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);mr=d,l.target.dispatchEvent(d),mr=null}else return s=nl(l),s!==null&&Lo(s),r.blockedOn=l,!1;s.shift()}return!0}function Ks(r,s,l){pi(r)&&l.delete(s)}function mu(){Ba=!1,tn!==null&&pi(tn)&&(tn=null),wr!==null&&pi(wr)&&(wr=null),Tr!==null&&pi(Tr)&&(Tr=null),Gi.forEach(Ks),ir.forEach(Ks)}function Ir(r,s){r.blockedOn===s&&(r.blockedOn=null,Ba||(Ba=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,mu)))}function Sr(r){function s(p){return Ir(p,r)}if(0<zr.length){Ir(zr[0],r);for(var l=1;l<zr.length;l++){var d=zr[l];d.blockedOn===r&&(d.blockedOn=null)}}for(tn!==null&&Ir(tn,r),wr!==null&&Ir(wr,r),Tr!==null&&Ir(Tr,r),Gi.forEach(s),ir.forEach(s),l=0;l<Hr.length;l++)d=Hr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<Hr.length&&(l=Hr[0],l.blockedOn===null);)pu(l),l.blockedOn===null&&Hr.shift()}var mi=de.ReactCurrentBatchConfig,Qi=!0;function Tt(r,s,l,d){var p=Ye,y=mi.transition;mi.transition=null;try{Ye=1,$a(r,s,l,d)}finally{Ye=p,mi.transition=y}}function Kd(r,s,l,d){var p=Ye,y=mi.transition;mi.transition=null;try{Ye=4,$a(r,s,l,d)}finally{Ye=p,mi.transition=y}}function $a(r,s,l,d){if(Qi){var p=Oo(r,s,l,d);if(p===null)ih(r,s,d,Gs,l),fu(r,d);else if(qd(p,r,s,l,d))d.stopPropagation();else if(fu(r,d),s&4&&-1<Wd.indexOf(r)){for(;p!==null;){var y=nl(p);if(y!==null&&uu(y),y=Oo(r,s,l,d),y===null&&ih(r,s,d,Gs,l),y===p)break;p=y}p!==null&&d.stopPropagation()}else ih(r,s,d,null,l)}}var Gs=null;function Oo(r,s,l,d){if(Gs=null,r=$i(d),r=Xs(r),r!==null)if(s=Qe(r),s===null)r=null;else if(l=s.tag,l===13){if(r=rt(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Gs=r,null}function za(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hi()){case Ze:return 1;case _t:return 4;case en:case Er:return 16;case vt:return 536870912;default:return 16}default:return 16}}var Xn=null,Mo=null,On=null;function Ha(){if(On)return On;var r,s=Mo,l=s.length,d,p="value"in Xn?Xn.value:Xn.textContent,y=p.length;for(r=0;r<l&&s[r]===p[r];r++);var E=l-r;for(d=1;d<=E&&s[l-d]===p[y-d];d++);return On=p.slice(r,1<d?1-d:void 0)}function Vo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Wr(){return!0}function Wa(){return!1}function nn(r){function s(l,d,p,y,E){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var P in r)r.hasOwnProperty(P)&&(l=r[P],this[P]=l?l(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Wr:Wa,this.isPropagationStopped=Wa,this}return he(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Wr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Wr)},persist:function(){},isPersistent:Wr}),s}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fo=nn(Rr),qr=he({},Rr,{view:0,detail:0}),Gd=nn(qr),Uo,gi,Yi,Qs=he({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Yi&&(Yi&&r.type==="mousemove"?(Uo=r.screenX-Yi.screenX,gi=r.screenY-Yi.screenY):gi=Uo=0,Yi=r),Uo)},movementY:function(r){return"movementY"in r?r.movementY:gi}}),jo=nn(Qs),qa=he({},Qs,{dataTransfer:0}),gu=nn(qa),Bo=he({},qr,{relatedTarget:0}),$o=nn(Bo),yu=he({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),yi=nn(yu),_u=he({},Rr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),vu=nn(_u),Eu=he({},Rr,{data:0}),Ka=nn(Eu),zo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=wu[r])?!!s[r]:!1}function Kr(){return Tu}var c=he({},qr,{key:function(r){if(r.key){var s=zo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Vo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?An[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kr,charCode:function(r){return r.type==="keypress"?Vo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Vo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=nn(c),_=he({},Qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=nn(_),H=he({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kr}),Y=nn(H),ce=he({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),pt=nn(ce),Ut=he({},Qs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),et=nn(Ut),Wt=[9,13,27,32],bt=h&&"CompositionEvent"in window,sr=null;h&&"documentMode"in document&&(sr=document.documentMode);var Jn=h&&"TextEvent"in window&&!sr,Ys=h&&(!bt||sr&&8<sr&&11>=sr),Ho=" ",Om=!1;function Mm(r,s){switch(r){case"keyup":return Wt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Wo=!1;function iI(r,s){switch(r){case"compositionend":return Vm(s);case"keypress":return s.which!==32?null:(Om=!0,Ho);case"textInput":return r=s.data,r===Ho&&Om?null:r;default:return null}}function sI(r,s){if(Wo)return r==="compositionend"||!bt&&Mm(r,s)?(r=Ha(),On=Mo=Xn=null,Wo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ys&&s.locale!=="ko"?null:s.data;default:return null}}var oI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!oI[r.type]:s==="textarea"}function Um(r,s,l,d){Rn(d),s=Au(s,"onChange"),0<s.length&&(l=new Fo("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var Ga=null,Qa=null;function aI(r){rg(r,0)}function Iu(r){var s=Yo(r);if(Sn(s))return r}function lI(r,s){if(r==="change")return s}var jm=!1;if(h){var Qd;if(h){var Yd="oninput"in document;if(!Yd){var Bm=document.createElement("div");Bm.setAttribute("oninput","return;"),Yd=typeof Bm.oninput=="function"}Qd=Yd}else Qd=!1;jm=Qd&&(!document.documentMode||9<document.documentMode)}function $m(){Ga&&(Ga.detachEvent("onpropertychange",zm),Qa=Ga=null)}function zm(r){if(r.propertyName==="value"&&Iu(Qa)){var s=[];Um(s,Qa,r,$i(r)),Q(aI,s)}}function uI(r,s,l){r==="focusin"?($m(),Ga=s,Qa=l,Ga.attachEvent("onpropertychange",zm)):r==="focusout"&&$m()}function cI(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Iu(Qa)}function dI(r,s){if(r==="click")return Iu(s)}function hI(r,s){if(r==="input"||r==="change")return Iu(s)}function fI(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Cr=typeof Object.is=="function"?Object.is:fI;function Ya(r,s){if(Cr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(s,p)||!Cr(r[p],s[p]))return!1}return!0}function Hm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Wm(r,s){var l=Hm(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Hm(l)}}function qm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?qm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Km(){for(var r=window,s=Pt();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Pt(r.document)}return s}function Xd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function pI(r){var s=Km(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&qm(l.ownerDocument.documentElement,l)){if(d!==null&&Xd(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!r.extend&&y>d&&(p=d,d=y,y=p),p=Wm(l,y);var E=Wm(l,d);p&&E&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),y>d?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var mI=h&&"documentMode"in document&&11>=document.documentMode,qo=null,Jd=null,Xa=null,Zd=!1;function Gm(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Zd||qo==null||qo!==Pt(d)||(d=qo,"selectionStart"in d&&Xd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Xa&&Ya(Xa,d)||(Xa=d,d=Au(Jd,"onSelect"),0<d.length&&(s=new Fo("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=qo)))}function Su(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Ko={animationend:Su("Animation","AnimationEnd"),animationiteration:Su("Animation","AnimationIteration"),animationstart:Su("Animation","AnimationStart"),transitionend:Su("Transition","TransitionEnd")},eh={},Qm={};h&&(Qm=document.createElement("div").style,"AnimationEvent"in window||(delete Ko.animationend.animation,delete Ko.animationiteration.animation,delete Ko.animationstart.animation),"TransitionEvent"in window||delete Ko.transitionend.transition);function Ru(r){if(eh[r])return eh[r];if(!Ko[r])return r;var s=Ko[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Qm)return eh[r]=s[l];return r}var Ym=Ru("animationend"),Xm=Ru("animationiteration"),Jm=Ru("animationstart"),Zm=Ru("transitionend"),eg=new Map,tg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xi(r,s){eg.set(r,s),a(s,[r])}for(var th=0;th<tg.length;th++){var nh=tg[th],gI=nh.toLowerCase(),yI=nh[0].toUpperCase()+nh.slice(1);Xi(gI,"on"+yI)}Xi(Ym,"onAnimationEnd"),Xi(Xm,"onAnimationIteration"),Xi(Jm,"onAnimationStart"),Xi("dblclick","onDoubleClick"),Xi("focusin","onFocus"),Xi("focusout","onBlur"),Xi(Zm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_I=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ja));function ng(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,kt(d,s,void 0,r),r.currentTarget=null}function rg(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],p=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var E=d.length-1;0<=E;E--){var P=d[E],L=P.instance,G=P.currentTarget;if(P=P.listener,L!==y&&p.isPropagationStopped())break e;ng(p,P,G),y=L}else for(E=0;E<d.length;E++){if(P=d[E],L=P.instance,G=P.currentTarget,P=P.listener,L!==y&&p.isPropagationStopped())break e;ng(p,P,G),y=L}}}if(ue)throw r=be,ue=!1,be=null,r}function Et(r,s){var l=s[ch];l===void 0&&(l=s[ch]=new Set);var d=r+"__bubble";l.has(d)||(ig(s,r,2,!1),l.add(d))}function rh(r,s,l){var d=0;s&&(d|=4),ig(l,r,d,s)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function Za(r){if(!r[Cu]){r[Cu]=!0,i.forEach(function(l){l!=="selectionchange"&&(_I.has(l)||rh(l,!1,r),rh(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Cu]||(s[Cu]=!0,rh("selectionchange",!1,s))}}function ig(r,s,l,d){switch(za(s)){case 1:var p=Tt;break;case 4:p=Kd;break;default:p=$a}l=p.bind(null,s,l,r),p=void 0,!pe||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function ih(r,s,l,d,p){var y=d;if(!(s&1)&&!(s&2)&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var P=d.stateNode.containerInfo;if(P===p||P.nodeType===8&&P.parentNode===p)break;if(E===4)for(E=d.return;E!==null;){var L=E.tag;if((L===3||L===4)&&(L=E.stateNode.containerInfo,L===p||L.nodeType===8&&L.parentNode===p))return;E=E.return}for(;P!==null;){if(E=Xs(P),E===null)return;if(L=E.tag,L===5||L===6){d=y=E;continue e}P=P.parentNode}}d=d.return}Q(function(){var G=y,ie=$i(l),oe=[];e:{var ne=eg.get(r);if(ne!==void 0){var ge=Fo,Te=r;switch(r){case"keypress":if(Vo(l)===0)break e;case"keydown":case"keyup":ge=g;break;case"focusin":Te="focus",ge=$o;break;case"focusout":Te="blur",ge=$o;break;case"beforeblur":case"afterblur":ge=$o;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=Y;break;case Ym:case Xm:case Jm:ge=yi;break;case Zm:ge=pt;break;case"scroll":ge=Gd;break;case"wheel":ge=et;break;case"copy":case"cut":case"paste":ge=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=I}var Ie=(s&4)!==0,Nt=!Ie&&r==="scroll",q=Ie?ne!==null?ne+"Capture":null:ne;Ie=[];for(var V=G,K;V!==null;){K=V;var ae=K.stateNode;if(K.tag===5&&ae!==null&&(K=ae,q!==null&&(ae=J(V,q),ae!=null&&Ie.push(el(V,ae,K)))),Nt)break;V=V.return}0<Ie.length&&(ne=new ge(ne,Te,null,l,ie),oe.push({event:ne,listeners:Ie}))}}if(!(s&7)){e:{if(ne=r==="mouseover"||r==="pointerover",ge=r==="mouseout"||r==="pointerout",ne&&l!==mr&&(Te=l.relatedTarget||l.fromElement)&&(Xs(Te)||Te[_i]))break e;if((ge||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,ge?(Te=l.relatedTarget||l.toElement,ge=G,Te=Te?Xs(Te):null,Te!==null&&(Nt=Qe(Te),Te!==Nt||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(ge=null,Te=G),ge!==Te)){if(Ie=jo,ae="onMouseLeave",q="onMouseEnter",V="mouse",(r==="pointerout"||r==="pointerover")&&(Ie=I,ae="onPointerLeave",q="onPointerEnter",V="pointer"),Nt=ge==null?ne:Yo(ge),K=Te==null?ne:Yo(Te),ne=new Ie(ae,V+"leave",ge,l,ie),ne.target=Nt,ne.relatedTarget=K,ae=null,Xs(ie)===G&&(Ie=new Ie(q,V+"enter",Te,l,ie),Ie.target=K,Ie.relatedTarget=Nt,ae=Ie),Nt=ae,ge&&Te)t:{for(Ie=ge,q=Te,V=0,K=Ie;K;K=Go(K))V++;for(K=0,ae=q;ae;ae=Go(ae))K++;for(;0<V-K;)Ie=Go(Ie),V--;for(;0<K-V;)q=Go(q),K--;for(;V--;){if(Ie===q||q!==null&&Ie===q.alternate)break t;Ie=Go(Ie),q=Go(q)}Ie=null}else Ie=null;ge!==null&&sg(oe,ne,ge,Ie,!1),Te!==null&&Nt!==null&&sg(oe,Nt,Te,Ie,!0)}}e:{if(ne=G?Yo(G):window,ge=ne.nodeName&&ne.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ne.type==="file")var Re=lI;else if(Fm(ne))if(jm)Re=hI;else{Re=cI;var xe=uI}else(ge=ne.nodeName)&&ge.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(Re=dI);if(Re&&(Re=Re(r,G))){Um(oe,Re,l,ie);break e}xe&&xe(r,ne,G),r==="focusout"&&(xe=ne._wrapperState)&&xe.controlled&&ne.type==="number"&&Fr(ne,"number",ne.value)}switch(xe=G?Yo(G):window,r){case"focusin":(Fm(xe)||xe.contentEditable==="true")&&(qo=xe,Jd=G,Xa=null);break;case"focusout":Xa=Jd=qo=null;break;case"mousedown":Zd=!0;break;case"contextmenu":case"mouseup":case"dragend":Zd=!1,Gm(oe,l,ie);break;case"selectionchange":if(mI)break;case"keydown":case"keyup":Gm(oe,l,ie)}var Ne;if(bt)e:{switch(r){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Wo?Mm(r,l)&&(Me="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Me="onCompositionStart");Me&&(Ys&&l.locale!=="ko"&&(Wo||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Wo&&(Ne=Ha()):(Xn=ie,Mo="value"in Xn?Xn.value:Xn.textContent,Wo=!0)),xe=Au(G,Me),0<xe.length&&(Me=new Ka(Me,r,null,l,ie),oe.push({event:Me,listeners:xe}),Ne?Me.data=Ne:(Ne=Vm(l),Ne!==null&&(Me.data=Ne)))),(Ne=Jn?iI(r,l):sI(r,l))&&(G=Au(G,"onBeforeInput"),0<G.length&&(ie=new Ka("onBeforeInput","beforeinput",null,l,ie),oe.push({event:ie,listeners:G}),ie.data=Ne))}rg(oe,s)})}function el(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Au(r,s){for(var l=s+"Capture",d=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=J(r,l),y!=null&&d.unshift(el(r,y,p)),y=J(r,s),y!=null&&d.push(el(r,y,p))),r=r.return}return d}function Go(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function sg(r,s,l,d,p){for(var y=s._reactName,E=[];l!==null&&l!==d;){var P=l,L=P.alternate,G=P.stateNode;if(L!==null&&L===d)break;P.tag===5&&G!==null&&(P=G,p?(L=J(l,y),L!=null&&E.unshift(el(l,L,P))):p||(L=J(l,y),L!=null&&E.push(el(l,L,P)))),l=l.return}E.length!==0&&r.push({event:s,listeners:E})}var vI=/\r\n?/g,EI=/\u0000|\uFFFD/g;function og(r){return(typeof r=="string"?r:""+r).replace(vI,`
`).replace(EI,"")}function Pu(r,s,l){if(s=og(s),og(r)!==s&&l)throw Error(t(425))}function ku(){}var sh=null,oh=null;function ah(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var lh=typeof setTimeout=="function"?setTimeout:void 0,wI=typeof clearTimeout=="function"?clearTimeout:void 0,ag=typeof Promise=="function"?Promise:void 0,TI=typeof queueMicrotask=="function"?queueMicrotask:typeof ag<"u"?function(r){return ag.resolve(null).then(r).catch(II)}:lh;function II(r){setTimeout(function(){throw r})}function uh(r,s){var l=s,d=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){r.removeChild(p),Sr(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);Sr(s)}function Ji(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function lg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Qo=Math.random().toString(36).slice(2),Gr="__reactFiber$"+Qo,tl="__reactProps$"+Qo,_i="__reactContainer$"+Qo,ch="__reactEvents$"+Qo,SI="__reactListeners$"+Qo,RI="__reactHandles$"+Qo;function Xs(r){var s=r[Gr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[_i]||l[Gr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=lg(r);r!==null;){if(l=r[Gr])return l;r=lg(r)}return s}r=l,l=r.parentNode}return null}function nl(r){return r=r[Gr]||r[_i],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Yo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function xu(r){return r[tl]||null}var dh=[],Xo=-1;function Zi(r){return{current:r}}function wt(r){0>Xo||(r.current=dh[Xo],dh[Xo]=null,Xo--)}function gt(r,s){Xo++,dh[Xo]=r.current,r.current=s}var es={},mn=Zi(es),Mn=Zi(!1),Js=es;function Jo(r,s){var l=r.type.contextTypes;if(!l)return es;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function Vn(r){return r=r.childContextTypes,r!=null}function Nu(){wt(Mn),wt(mn)}function ug(r,s,l){if(mn.current!==es)throw Error(t(168));gt(mn,s),gt(Mn,l)}function cg(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(t(108,He(r)||"Unknown",p));return he({},l,d)}function Du(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||es,Js=mn.current,gt(mn,r),gt(Mn,Mn.current),!0}function dg(r,s,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=cg(r,s,Js),d.__reactInternalMemoizedMergedChildContext=r,wt(Mn),wt(mn),gt(mn,r)):wt(Mn),gt(Mn,l)}var vi=null,bu=!1,hh=!1;function hg(r){vi===null?vi=[r]:vi.push(r)}function CI(r){bu=!0,hg(r)}function ts(){if(!hh&&vi!==null){hh=!0;var r=0,s=Ye;try{var l=vi;for(Ye=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}vi=null,bu=!1}catch(p){throw vi!==null&&(vi=vi.slice(r+1)),Zt(Ze,ts),p}finally{Ye=s,hh=!1}}return null}var Zo=[],ea=0,Lu=null,Ou=0,or=[],ar=0,Zs=null,Ei=1,wi="";function eo(r,s){Zo[ea++]=Ou,Zo[ea++]=Lu,Lu=r,Ou=s}function fg(r,s,l){or[ar++]=Ei,or[ar++]=wi,or[ar++]=Zs,Zs=r;var d=Ei;r=wi;var p=32-Cn(d)-1;d&=~(1<<p),l+=1;var y=32-Cn(s)+p;if(30<y){var E=p-p%5;y=(d&(1<<E)-1).toString(32),d>>=E,p-=E,Ei=1<<32-Cn(s)+p|l<<p|d,wi=y+r}else Ei=1<<y|l<<p|d,wi=r}function fh(r){r.return!==null&&(eo(r,1),fg(r,1,0))}function ph(r){for(;r===Lu;)Lu=Zo[--ea],Zo[ea]=null,Ou=Zo[--ea],Zo[ea]=null;for(;r===Zs;)Zs=or[--ar],or[ar]=null,wi=or[--ar],or[ar]=null,Ei=or[--ar],or[ar]=null}var Zn=null,er=null,It=!1,Ar=null;function pg(r,s){var l=dr(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function mg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Zn=r,er=Ji(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Zn=r,er=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Zs!==null?{id:Ei,overflow:wi}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=dr(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,Zn=r,er=null,!0):!1;default:return!1}}function mh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function gh(r){if(It){var s=er;if(s){var l=s;if(!mg(r,s)){if(mh(r))throw Error(t(418));s=Ji(l.nextSibling);var d=Zn;s&&mg(r,s)?pg(d,l):(r.flags=r.flags&-4097|2,It=!1,Zn=r)}}else{if(mh(r))throw Error(t(418));r.flags=r.flags&-4097|2,It=!1,Zn=r}}}function gg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Zn=r}function Mu(r){if(r!==Zn)return!1;if(!It)return gg(r),It=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!ah(r.type,r.memoizedProps)),s&&(s=er)){if(mh(r))throw yg(),Error(t(418));for(;s;)pg(r,s),s=Ji(s.nextSibling)}if(gg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){er=Ji(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}er=null}}else er=Zn?Ji(r.stateNode.nextSibling):null;return!0}function yg(){for(var r=er;r;)r=Ji(r.nextSibling)}function ta(){er=Zn=null,It=!1}function yh(r){Ar===null?Ar=[r]:Ar.push(r)}var AI=de.ReactCurrentBatchConfig;function rl(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var p=d,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(E){var P=p.refs;E===null?delete P[y]:P[y]=E},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Vu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function _g(r){var s=r._init;return s(r._payload)}function vg(r){function s(q,V){if(r){var K=q.deletions;K===null?(q.deletions=[V],q.flags|=16):K.push(V)}}function l(q,V){if(!r)return null;for(;V!==null;)s(q,V),V=V.sibling;return null}function d(q,V){for(q=new Map;V!==null;)V.key!==null?q.set(V.key,V):q.set(V.index,V),V=V.sibling;return q}function p(q,V){return q=us(q,V),q.index=0,q.sibling=null,q}function y(q,V,K){return q.index=K,r?(K=q.alternate,K!==null?(K=K.index,K<V?(q.flags|=2,V):K):(q.flags|=2,V)):(q.flags|=1048576,V)}function E(q){return r&&q.alternate===null&&(q.flags|=2),q}function P(q,V,K,ae){return V===null||V.tag!==6?(V=uf(K,q.mode,ae),V.return=q,V):(V=p(V,K),V.return=q,V)}function L(q,V,K,ae){var Re=K.type;return Re===N?ie(q,V,K.props.children,ae,K.key):V!==null&&(V.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===dt&&_g(Re)===V.type)?(ae=p(V,K.props),ae.ref=rl(q,V,K),ae.return=q,ae):(ae=ac(K.type,K.key,K.props,null,q.mode,ae),ae.ref=rl(q,V,K),ae.return=q,ae)}function G(q,V,K,ae){return V===null||V.tag!==4||V.stateNode.containerInfo!==K.containerInfo||V.stateNode.implementation!==K.implementation?(V=cf(K,q.mode,ae),V.return=q,V):(V=p(V,K.children||[]),V.return=q,V)}function ie(q,V,K,ae,Re){return V===null||V.tag!==7?(V=lo(K,q.mode,ae,Re),V.return=q,V):(V=p(V,K),V.return=q,V)}function oe(q,V,K){if(typeof V=="string"&&V!==""||typeof V=="number")return V=uf(""+V,q.mode,K),V.return=q,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case j:return K=ac(V.type,V.key,V.props,null,q.mode,K),K.ref=rl(q,null,V),K.return=q,K;case le:return V=cf(V,q.mode,K),V.return=q,V;case dt:var ae=V._init;return oe(q,ae(V._payload),K)}if(qn(V)||_e(V))return V=lo(V,q.mode,K,null),V.return=q,V;Vu(q,V)}return null}function ne(q,V,K,ae){var Re=V!==null?V.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Re!==null?null:P(q,V,""+K,ae);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case j:return K.key===Re?L(q,V,K,ae):null;case le:return K.key===Re?G(q,V,K,ae):null;case dt:return Re=K._init,ne(q,V,Re(K._payload),ae)}if(qn(K)||_e(K))return Re!==null?null:ie(q,V,K,ae,null);Vu(q,K)}return null}function ge(q,V,K,ae,Re){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return q=q.get(K)||null,P(V,q,""+ae,Re);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case j:return q=q.get(ae.key===null?K:ae.key)||null,L(V,q,ae,Re);case le:return q=q.get(ae.key===null?K:ae.key)||null,G(V,q,ae,Re);case dt:var xe=ae._init;return ge(q,V,K,xe(ae._payload),Re)}if(qn(ae)||_e(ae))return q=q.get(K)||null,ie(V,q,ae,Re,null);Vu(V,ae)}return null}function Te(q,V,K,ae){for(var Re=null,xe=null,Ne=V,Me=V=0,Gt=null;Ne!==null&&Me<K.length;Me++){Ne.index>Me?(Gt=Ne,Ne=null):Gt=Ne.sibling;var ot=ne(q,Ne,K[Me],ae);if(ot===null){Ne===null&&(Ne=Gt);break}r&&Ne&&ot.alternate===null&&s(q,Ne),V=y(ot,V,Me),xe===null?Re=ot:xe.sibling=ot,xe=ot,Ne=Gt}if(Me===K.length)return l(q,Ne),It&&eo(q,Me),Re;if(Ne===null){for(;Me<K.length;Me++)Ne=oe(q,K[Me],ae),Ne!==null&&(V=y(Ne,V,Me),xe===null?Re=Ne:xe.sibling=Ne,xe=Ne);return It&&eo(q,Me),Re}for(Ne=d(q,Ne);Me<K.length;Me++)Gt=ge(Ne,q,Me,K[Me],ae),Gt!==null&&(r&&Gt.alternate!==null&&Ne.delete(Gt.key===null?Me:Gt.key),V=y(Gt,V,Me),xe===null?Re=Gt:xe.sibling=Gt,xe=Gt);return r&&Ne.forEach(function(cs){return s(q,cs)}),It&&eo(q,Me),Re}function Ie(q,V,K,ae){var Re=_e(K);if(typeof Re!="function")throw Error(t(150));if(K=Re.call(K),K==null)throw Error(t(151));for(var xe=Re=null,Ne=V,Me=V=0,Gt=null,ot=K.next();Ne!==null&&!ot.done;Me++,ot=K.next()){Ne.index>Me?(Gt=Ne,Ne=null):Gt=Ne.sibling;var cs=ne(q,Ne,ot.value,ae);if(cs===null){Ne===null&&(Ne=Gt);break}r&&Ne&&cs.alternate===null&&s(q,Ne),V=y(cs,V,Me),xe===null?Re=cs:xe.sibling=cs,xe=cs,Ne=Gt}if(ot.done)return l(q,Ne),It&&eo(q,Me),Re;if(Ne===null){for(;!ot.done;Me++,ot=K.next())ot=oe(q,ot.value,ae),ot!==null&&(V=y(ot,V,Me),xe===null?Re=ot:xe.sibling=ot,xe=ot);return It&&eo(q,Me),Re}for(Ne=d(q,Ne);!ot.done;Me++,ot=K.next())ot=ge(Ne,q,Me,ot.value,ae),ot!==null&&(r&&ot.alternate!==null&&Ne.delete(ot.key===null?Me:ot.key),V=y(ot,V,Me),xe===null?Re=ot:xe.sibling=ot,xe=ot);return r&&Ne.forEach(function(sS){return s(q,sS)}),It&&eo(q,Me),Re}function Nt(q,V,K,ae){if(typeof K=="object"&&K!==null&&K.type===N&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case j:e:{for(var Re=K.key,xe=V;xe!==null;){if(xe.key===Re){if(Re=K.type,Re===N){if(xe.tag===7){l(q,xe.sibling),V=p(xe,K.props.children),V.return=q,q=V;break e}}else if(xe.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===dt&&_g(Re)===xe.type){l(q,xe.sibling),V=p(xe,K.props),V.ref=rl(q,xe,K),V.return=q,q=V;break e}l(q,xe);break}else s(q,xe);xe=xe.sibling}K.type===N?(V=lo(K.props.children,q.mode,ae,K.key),V.return=q,q=V):(ae=ac(K.type,K.key,K.props,null,q.mode,ae),ae.ref=rl(q,V,K),ae.return=q,q=ae)}return E(q);case le:e:{for(xe=K.key;V!==null;){if(V.key===xe)if(V.tag===4&&V.stateNode.containerInfo===K.containerInfo&&V.stateNode.implementation===K.implementation){l(q,V.sibling),V=p(V,K.children||[]),V.return=q,q=V;break e}else{l(q,V);break}else s(q,V);V=V.sibling}V=cf(K,q.mode,ae),V.return=q,q=V}return E(q);case dt:return xe=K._init,Nt(q,V,xe(K._payload),ae)}if(qn(K))return Te(q,V,K,ae);if(_e(K))return Ie(q,V,K,ae);Vu(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,V!==null&&V.tag===6?(l(q,V.sibling),V=p(V,K),V.return=q,q=V):(l(q,V),V=uf(K,q.mode,ae),V.return=q,q=V),E(q)):l(q,V)}return Nt}var na=vg(!0),Eg=vg(!1),Fu=Zi(null),Uu=null,ra=null,_h=null;function vh(){_h=ra=Uu=null}function Eh(r){var s=Fu.current;wt(Fu),r._currentValue=s}function wh(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function ia(r,s){Uu=r,_h=ra=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(Fn=!0),r.firstContext=null)}function lr(r){var s=r._currentValue;if(_h!==r)if(r={context:r,memoizedValue:s,next:null},ra===null){if(Uu===null)throw Error(t(308));ra=r,Uu.dependencies={lanes:0,firstContext:r}}else ra=ra.next=r;return s}var to=null;function Th(r){to===null?to=[r]:to.push(r)}function wg(r,s,l,d){var p=s.interleaved;return p===null?(l.next=l,Th(s)):(l.next=p.next,p.next=l),s.interleaved=l,Ti(r,d)}function Ti(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var ns=!1;function Ih(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ii(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function rs(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,it&2){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,Ti(r,l)}return p=d.interleaved,p===null?(s.next=s,Th(d)):(s.next=p.next,p.next=s),d.interleaved=s,Ti(r,l)}function ju(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,qi(r,l)}}function Ig(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Bu(r,s,l,d){var p=r.updateQueue;ns=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,P=p.shared.pending;if(P!==null){p.shared.pending=null;var L=P,G=L.next;L.next=null,E===null?y=G:E.next=G,E=L;var ie=r.alternate;ie!==null&&(ie=ie.updateQueue,P=ie.lastBaseUpdate,P!==E&&(P===null?ie.firstBaseUpdate=G:P.next=G,ie.lastBaseUpdate=L))}if(y!==null){var oe=p.baseState;E=0,ie=G=L=null,P=y;do{var ne=P.lane,ge=P.eventTime;if((d&ne)===ne){ie!==null&&(ie=ie.next={eventTime:ge,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var Te=r,Ie=P;switch(ne=s,ge=l,Ie.tag){case 1:if(Te=Ie.payload,typeof Te=="function"){oe=Te.call(ge,oe,ne);break e}oe=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Ie.payload,ne=typeof Te=="function"?Te.call(ge,oe,ne):Te,ne==null)break e;oe=he({},oe,ne);break e;case 2:ns=!0}}P.callback!==null&&P.lane!==0&&(r.flags|=64,ne=p.effects,ne===null?p.effects=[P]:ne.push(P))}else ge={eventTime:ge,lane:ne,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ie===null?(G=ie=ge,L=oe):ie=ie.next=ge,E|=ne;if(P=P.next,P===null){if(P=p.shared.pending,P===null)break;ne=P,P=ne.next,ne.next=null,p.lastBaseUpdate=ne,p.shared.pending=null}}while(!0);if(ie===null&&(L=oe),p.baseState=L,p.firstBaseUpdate=G,p.lastBaseUpdate=ie,s=p.shared.interleaved,s!==null){p=s;do E|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);io|=E,r.lanes=E,r.memoizedState=oe}}function Sg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var il={},Qr=Zi(il),sl=Zi(il),ol=Zi(il);function no(r){if(r===il)throw Error(t(174));return r}function Sh(r,s){switch(gt(ol,s),gt(sl,r),gt(Qr,il),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ft(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=ft(s,r)}wt(Qr),gt(Qr,s)}function sa(){wt(Qr),wt(sl),wt(ol)}function Rg(r){no(ol.current);var s=no(Qr.current),l=ft(s,r.type);s!==l&&(gt(sl,r),gt(Qr,l))}function Rh(r){sl.current===r&&(wt(Qr),wt(sl))}var Rt=Zi(0);function $u(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ch=[];function Ah(){for(var r=0;r<Ch.length;r++)Ch[r]._workInProgressVersionPrimary=null;Ch.length=0}var zu=de.ReactCurrentDispatcher,Ph=de.ReactCurrentBatchConfig,ro=0,Ct=null,jt=null,qt=null,Hu=!1,al=!1,ll=0,PI=0;function gn(){throw Error(t(321))}function kh(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Cr(r[l],s[l]))return!1;return!0}function xh(r,s,l,d,p,y){if(ro=y,Ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,zu.current=r===null||r.memoizedState===null?DI:bI,r=l(d,p),al){y=0;do{if(al=!1,ll=0,25<=y)throw Error(t(301));y+=1,qt=jt=null,s.updateQueue=null,zu.current=LI,r=l(d,p)}while(al)}if(zu.current=Ku,s=jt!==null&&jt.next!==null,ro=0,qt=jt=Ct=null,Hu=!1,s)throw Error(t(300));return r}function Nh(){var r=ll!==0;return ll=0,r}function Yr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Ct.memoizedState=qt=r:qt=qt.next=r,qt}function ur(){if(jt===null){var r=Ct.alternate;r=r!==null?r.memoizedState:null}else r=jt.next;var s=qt===null?Ct.memoizedState:qt.next;if(s!==null)qt=s,jt=r;else{if(r===null)throw Error(t(310));jt=r,r={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},qt===null?Ct.memoizedState=qt=r:qt=qt.next=r}return qt}function ul(r,s){return typeof s=="function"?s(r):s}function Dh(r){var s=ur(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=jt,p=d.baseQueue,y=l.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}d.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,d=d.baseState;var P=E=null,L=null,G=y;do{var ie=G.lane;if((ro&ie)===ie)L!==null&&(L=L.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),d=G.hasEagerState?G.eagerState:r(d,G.action);else{var oe={lane:ie,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};L===null?(P=L=oe,E=d):L=L.next=oe,Ct.lanes|=ie,io|=ie}G=G.next}while(G!==null&&G!==y);L===null?E=d:L.next=P,Cr(d,s.memoizedState)||(Fn=!0),s.memoizedState=d,s.baseState=E,s.baseQueue=L,l.lastRenderedState=d}if(r=l.interleaved,r!==null){p=r;do y=p.lane,Ct.lanes|=y,io|=y,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function bh(r){var s=ur(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do y=r(y,E.action),E=E.next;while(E!==p);Cr(y,s.memoizedState)||(Fn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,d]}function Cg(){}function Ag(r,s){var l=Ct,d=ur(),p=s(),y=!Cr(d.memoizedState,p);if(y&&(d.memoizedState=p,Fn=!0),d=d.queue,Lh(xg.bind(null,l,d,r),[r]),d.getSnapshot!==s||y||qt!==null&&qt.memoizedState.tag&1){if(l.flags|=2048,cl(9,kg.bind(null,l,d,p,s),void 0,null),Kt===null)throw Error(t(349));ro&30||Pg(l,s,p)}return p}function Pg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=Ct.updateQueue,s===null?(s={lastEffect:null,stores:null},Ct.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function kg(r,s,l,d){s.value=l,s.getSnapshot=d,Ng(s)&&Dg(r)}function xg(r,s,l){return l(function(){Ng(s)&&Dg(r)})}function Ng(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Cr(r,l)}catch{return!0}}function Dg(r){var s=Ti(r,1);s!==null&&Nr(s,r,1,-1)}function bg(r){var s=Yr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:r},s.queue=r,r=r.dispatch=NI.bind(null,Ct,r),[s.memoizedState,r]}function cl(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=Ct.updateQueue,s===null?(s={lastEffect:null,stores:null},Ct.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function Lg(){return ur().memoizedState}function Wu(r,s,l,d){var p=Yr();Ct.flags|=r,p.memoizedState=cl(1|s,l,void 0,d===void 0?null:d)}function qu(r,s,l,d){var p=ur();d=d===void 0?null:d;var y=void 0;if(jt!==null){var E=jt.memoizedState;if(y=E.destroy,d!==null&&kh(d,E.deps)){p.memoizedState=cl(s,l,y,d);return}}Ct.flags|=r,p.memoizedState=cl(1|s,l,y,d)}function Og(r,s){return Wu(8390656,8,r,s)}function Lh(r,s){return qu(2048,8,r,s)}function Mg(r,s){return qu(4,2,r,s)}function Vg(r,s){return qu(4,4,r,s)}function Fg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Ug(r,s,l){return l=l!=null?l.concat([r]):null,qu(4,4,Fg.bind(null,s,r),l)}function Oh(){}function jg(r,s){var l=ur();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&kh(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function Bg(r,s){var l=ur();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&kh(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function $g(r,s,l){return ro&21?(Cr(l,s)||(l=qs(),Ct.lanes|=l,io|=l,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,Fn=!0),r.memoizedState=l)}function kI(r,s){var l=Ye;Ye=l!==0&&4>l?l:4,r(!0);var d=Ph.transition;Ph.transition={};try{r(!1),s()}finally{Ye=l,Ph.transition=d}}function zg(){return ur().memoizedState}function xI(r,s,l){var d=as(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Hg(r))Wg(s,l);else if(l=wg(r,s,l,d),l!==null){var p=kn();Nr(l,r,d,p),qg(l,s,d)}}function NI(r,s,l){var d=as(r),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Hg(r))Wg(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,P=y(E,l);if(p.hasEagerState=!0,p.eagerState=P,Cr(P,E)){var L=s.interleaved;L===null?(p.next=p,Th(s)):(p.next=L.next,L.next=p),s.interleaved=p;return}}catch{}finally{}l=wg(r,s,p,d),l!==null&&(p=kn(),Nr(l,r,d,p),qg(l,s,d))}}function Hg(r){var s=r.alternate;return r===Ct||s!==null&&s===Ct}function Wg(r,s){al=Hu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function qg(r,s,l){if(l&4194240){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,qi(r,l)}}var Ku={readContext:lr,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useInsertionEffect:gn,useLayoutEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useMutableSource:gn,useSyncExternalStore:gn,useId:gn,unstable_isNewReconciler:!1},DI={readContext:lr,useCallback:function(r,s){return Yr().memoizedState=[r,s===void 0?null:s],r},useContext:lr,useEffect:Og,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Wu(4194308,4,Fg.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Wu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Wu(4,2,r,s)},useMemo:function(r,s){var l=Yr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=Yr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=xI.bind(null,Ct,r),[d.memoizedState,r]},useRef:function(r){var s=Yr();return r={current:r},s.memoizedState=r},useState:bg,useDebugValue:Oh,useDeferredValue:function(r){return Yr().memoizedState=r},useTransition:function(){var r=bg(!1),s=r[0];return r=kI.bind(null,r[1]),Yr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=Ct,p=Yr();if(It){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Kt===null)throw Error(t(349));ro&30||Pg(d,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,Og(xg.bind(null,d,y,r),[r]),d.flags|=2048,cl(9,kg.bind(null,d,y,l,s),void 0,null),l},useId:function(){var r=Yr(),s=Kt.identifierPrefix;if(It){var l=wi,d=Ei;l=(d&~(1<<32-Cn(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=ll++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=PI++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},bI={readContext:lr,useCallback:jg,useContext:lr,useEffect:Lh,useImperativeHandle:Ug,useInsertionEffect:Mg,useLayoutEffect:Vg,useMemo:Bg,useReducer:Dh,useRef:Lg,useState:function(){return Dh(ul)},useDebugValue:Oh,useDeferredValue:function(r){var s=ur();return $g(s,jt.memoizedState,r)},useTransition:function(){var r=Dh(ul)[0],s=ur().memoizedState;return[r,s]},useMutableSource:Cg,useSyncExternalStore:Ag,useId:zg,unstable_isNewReconciler:!1},LI={readContext:lr,useCallback:jg,useContext:lr,useEffect:Lh,useImperativeHandle:Ug,useInsertionEffect:Mg,useLayoutEffect:Vg,useMemo:Bg,useReducer:bh,useRef:Lg,useState:function(){return bh(ul)},useDebugValue:Oh,useDeferredValue:function(r){var s=ur();return jt===null?s.memoizedState=r:$g(s,jt.memoizedState,r)},useTransition:function(){var r=bh(ul)[0],s=ur().memoizedState;return[r,s]},useMutableSource:Cg,useSyncExternalStore:Ag,useId:zg,unstable_isNewReconciler:!1};function Pr(r,s){if(r&&r.defaultProps){s=he({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Mh(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:he({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Gu={isMounted:function(r){return(r=r._reactInternals)?Qe(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=kn(),p=as(r),y=Ii(d,p);y.payload=s,l!=null&&(y.callback=l),s=rs(r,y,p),s!==null&&(Nr(s,r,p,d),ju(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=kn(),p=as(r),y=Ii(d,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=rs(r,y,p),s!==null&&(Nr(s,r,p,d),ju(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=kn(),d=as(r),p=Ii(l,d);p.tag=2,s!=null&&(p.callback=s),s=rs(r,p,d),s!==null&&(Nr(s,r,d,l),ju(s,r,d))}};function Kg(r,s,l,d,p,y,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,E):s.prototype&&s.prototype.isPureReactComponent?!Ya(l,d)||!Ya(p,y):!0}function Gg(r,s,l){var d=!1,p=es,y=s.contextType;return typeof y=="object"&&y!==null?y=lr(y):(p=Vn(s)?Js:mn.current,d=s.contextTypes,y=(d=d!=null)?Jo(r,p):es),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Gu,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),s}function Qg(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&Gu.enqueueReplaceState(s,s.state,null)}function Vh(r,s,l,d){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},Ih(r);var y=s.contextType;typeof y=="object"&&y!==null?p.context=lr(y):(y=Vn(s)?Js:mn.current,p.context=Jo(r,y)),p.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Mh(r,s,y,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Gu.enqueueReplaceState(p,p.state,null),Bu(r,l,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function oa(r,s){try{var l="",d=s;do l+=ke(d),d=d.return;while(d);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:p,digest:null}}function Fh(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Uh(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var OI=typeof WeakMap=="function"?WeakMap:Map;function Yg(r,s,l){l=Ii(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){tc||(tc=!0,ef=d),Uh(r,s)},l}function Xg(r,s,l){l=Ii(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;l.payload=function(){return d(p)},l.callback=function(){Uh(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Uh(r,s),typeof d!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function Jg(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new OI;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(l)||(p.add(l),r=QI.bind(null,r,s,l),s.then(r,r))}function Zg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function ey(r,s,l,d,p){return r.mode&1?(r.flags|=65536,r.lanes=p,r):(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Ii(-1,1),s.tag=2,rs(l,s,1))),l.lanes|=1),r)}var MI=de.ReactCurrentOwner,Fn=!1;function Pn(r,s,l,d){s.child=r===null?Eg(s,null,l,d):na(s,r.child,l,d)}function ty(r,s,l,d,p){l=l.render;var y=s.ref;return ia(s,p),d=xh(r,s,l,d,y,p),l=Nh(),r!==null&&!Fn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Si(r,s,p)):(It&&l&&fh(s),s.flags|=1,Pn(r,s,d,p),s.child)}function ny(r,s,l,d,p){if(r===null){var y=l.type;return typeof y=="function"&&!lf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,ry(r,s,y,d,p)):(r=ac(l.type,null,d,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!(r.lanes&p)){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ya,l(E,d)&&r.ref===s.ref)return Si(r,s,p)}return s.flags|=1,r=us(y,d),r.ref=s.ref,r.return=s,s.child=r}function ry(r,s,l,d,p){if(r!==null){var y=r.memoizedProps;if(Ya(y,d)&&r.ref===s.ref)if(Fn=!1,s.pendingProps=d=y,(r.lanes&p)!==0)r.flags&131072&&(Fn=!0);else return s.lanes=r.lanes,Si(r,s,p)}return jh(r,s,l,d,p)}function iy(r,s,l){var d=s.pendingProps,p=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(la,tr),tr|=l;else{if(!(l&1073741824))return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,gt(la,tr),tr|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,gt(la,tr),tr|=d}else y!==null?(d=y.baseLanes|l,s.memoizedState=null):d=l,gt(la,tr),tr|=d;return Pn(r,s,p,l),s.child}function sy(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function jh(r,s,l,d,p){var y=Vn(l)?Js:mn.current;return y=Jo(s,y),ia(s,p),l=xh(r,s,l,d,y,p),d=Nh(),r!==null&&!Fn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Si(r,s,p)):(It&&d&&fh(s),s.flags|=1,Pn(r,s,l,p),s.child)}function oy(r,s,l,d,p){if(Vn(l)){var y=!0;Du(s)}else y=!1;if(ia(s,p),s.stateNode===null)Yu(r,s),Gg(s,l,d),Vh(s,l,d,p),d=!0;else if(r===null){var E=s.stateNode,P=s.memoizedProps;E.props=P;var L=E.context,G=l.contextType;typeof G=="object"&&G!==null?G=lr(G):(G=Vn(l)?Js:mn.current,G=Jo(s,G));var ie=l.getDerivedStateFromProps,oe=typeof ie=="function"||typeof E.getSnapshotBeforeUpdate=="function";oe||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P!==d||L!==G)&&Qg(s,E,d,G),ns=!1;var ne=s.memoizedState;E.state=ne,Bu(s,d,E,p),L=s.memoizedState,P!==d||ne!==L||Mn.current||ns?(typeof ie=="function"&&(Mh(s,l,ie,d),L=s.memoizedState),(P=ns||Kg(s,l,P,d,ne,L,G))?(oe||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=L),E.props=d,E.state=L,E.context=G,d=P):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{E=s.stateNode,Tg(r,s),P=s.memoizedProps,G=s.type===s.elementType?P:Pr(s.type,P),E.props=G,oe=s.pendingProps,ne=E.context,L=l.contextType,typeof L=="object"&&L!==null?L=lr(L):(L=Vn(l)?Js:mn.current,L=Jo(s,L));var ge=l.getDerivedStateFromProps;(ie=typeof ge=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P!==oe||ne!==L)&&Qg(s,E,d,L),ns=!1,ne=s.memoizedState,E.state=ne,Bu(s,d,E,p);var Te=s.memoizedState;P!==oe||ne!==Te||Mn.current||ns?(typeof ge=="function"&&(Mh(s,l,ge,d),Te=s.memoizedState),(G=ns||Kg(s,l,G,d,ne,Te,L)||!1)?(ie||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,Te,L),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,Te,L)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||P===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=Te),E.props=d,E.state=Te,E.context=L,d=G):(typeof E.componentDidUpdate!="function"||P===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),d=!1)}return Bh(r,s,l,d,y,p)}function Bh(r,s,l,d,p,y){sy(r,s);var E=(s.flags&128)!==0;if(!d&&!E)return p&&dg(s,l,!1),Si(r,s,y);d=s.stateNode,MI.current=s;var P=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&E?(s.child=na(s,r.child,null,y),s.child=na(s,null,P,y)):Pn(r,s,P,y),s.memoizedState=d.state,p&&dg(s,l,!0),s.child}function ay(r){var s=r.stateNode;s.pendingContext?ug(r,s.pendingContext,s.pendingContext!==s.context):s.context&&ug(r,s.context,!1),Sh(r,s.containerInfo)}function ly(r,s,l,d,p){return ta(),yh(p),s.flags|=256,Pn(r,s,l,d),s.child}var $h={dehydrated:null,treeContext:null,retryLane:0};function zh(r){return{baseLanes:r,cachePool:null,transitions:null}}function uy(r,s,l){var d=s.pendingProps,p=Rt.current,y=!1,E=(s.flags&128)!==0,P;if((P=E)||(P=r!==null&&r.memoizedState===null?!1:(p&2)!==0),P?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),gt(Rt,p&1),r===null)return gh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(E=d.children,r=d.fallback,y?(d=s.mode,y=s.child,E={mode:"hidden",children:E},!(d&1)&&y!==null?(y.childLanes=0,y.pendingProps=E):y=lc(E,d,0,null),r=lo(r,d,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=zh(l),s.memoizedState=$h,r):Hh(s,E));if(p=r.memoizedState,p!==null&&(P=p.dehydrated,P!==null))return VI(r,s,E,d,P,p,l);if(y){y=d.fallback,E=s.mode,p=r.child,P=p.sibling;var L={mode:"hidden",children:d.children};return!(E&1)&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=L,s.deletions=null):(d=us(p,L),d.subtreeFlags=p.subtreeFlags&14680064),P!==null?y=us(P,y):(y=lo(y,E,l,null),y.flags|=2),y.return=s,d.return=s,d.sibling=y,s.child=d,d=y,y=s.child,E=r.child.memoizedState,E=E===null?zh(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=r.childLanes&~l,s.memoizedState=$h,d}return y=r.child,r=y.sibling,d=us(y,{mode:"visible",children:d.children}),!(s.mode&1)&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function Hh(r,s){return s=lc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Qu(r,s,l,d){return d!==null&&yh(d),na(s,r.child,null,l),r=Hh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function VI(r,s,l,d,p,y,E){if(l)return s.flags&256?(s.flags&=-257,d=Fh(Error(t(422))),Qu(r,s,E,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=d.fallback,p=s.mode,d=lc({mode:"visible",children:d.children},p,0,null),y=lo(y,p,E,null),y.flags|=2,d.return=s,y.return=s,d.sibling=y,s.child=d,s.mode&1&&na(s,r.child,null,E),s.child.memoizedState=zh(E),s.memoizedState=$h,y);if(!(s.mode&1))return Qu(r,s,E,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var P=d.dgst;return d=P,y=Error(t(419)),d=Fh(y,d,void 0),Qu(r,s,E,d)}if(P=(E&r.childLanes)!==0,Fn||P){if(d=Kt,d!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(d.suspendedLanes|E)?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Ti(r,p),Nr(d,r,p,-1))}return af(),d=Fh(Error(t(421))),Qu(r,s,E,d)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=YI.bind(null,r),p._reactRetry=s,null):(r=y.treeContext,er=Ji(p.nextSibling),Zn=s,It=!0,Ar=null,r!==null&&(or[ar++]=Ei,or[ar++]=wi,or[ar++]=Zs,Ei=r.id,wi=r.overflow,Zs=s),s=Hh(s,d.children),s.flags|=4096,s)}function cy(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),wh(r.return,s,l)}function Wh(r,s,l,d,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=p)}function dy(r,s,l){var d=s.pendingProps,p=d.revealOrder,y=d.tail;if(Pn(r,s,d.children,l),d=Rt.current,d&2)d=d&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&cy(r,l,s);else if(r.tag===19)cy(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(gt(Rt,d),!(s.mode&1))s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&$u(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Wh(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&$u(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}Wh(s,!0,l,null,y);break;case"together":Wh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Yu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Si(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),io|=s.lanes,!(l&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=us(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=us(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function FI(r,s,l){switch(s.tag){case 3:ay(s),ta();break;case 5:Rg(s);break;case 1:Vn(s.type)&&Du(s);break;case 4:Sh(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;gt(Fu,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(gt(Rt,Rt.current&1),s.flags|=128,null):l&s.child.childLanes?uy(r,s,l):(gt(Rt,Rt.current&1),r=Si(r,s,l),r!==null?r.sibling:null);gt(Rt,Rt.current&1);break;case 19:if(d=(l&s.childLanes)!==0,r.flags&128){if(d)return dy(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),gt(Rt,Rt.current),d)break;return null;case 22:case 23:return s.lanes=0,iy(r,s,l)}return Si(r,s,l)}var hy,qh,fy,py;hy=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},qh=function(){},fy=function(r,s,l,d){var p=r.memoizedProps;if(p!==d){r=s.stateNode,no(Qr.current);var y=null;switch(l){case"input":p=cn(r,p),d=cn(r,d),y=[];break;case"select":p=he({},p,{value:void 0}),d=he({},d,{value:void 0}),y=[];break;case"textarea":p=Kn(r,p),d=Kn(r,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=ku)}Br(l,d);var E;l=null;for(G in p)if(!d.hasOwnProperty(G)&&p.hasOwnProperty(G)&&p[G]!=null)if(G==="style"){var P=p[G];for(E in P)P.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(o.hasOwnProperty(G)?y||(y=[]):(y=y||[]).push(G,null));for(G in d){var L=d[G];if(P=p!=null?p[G]:void 0,d.hasOwnProperty(G)&&L!==P&&(L!=null||P!=null))if(G==="style")if(P){for(E in P)!P.hasOwnProperty(E)||L&&L.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in L)L.hasOwnProperty(E)&&P[E]!==L[E]&&(l||(l={}),l[E]=L[E])}else l||(y||(y=[]),y.push(G,l)),l=L;else G==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,P=P?P.__html:void 0,L!=null&&P!==L&&(y=y||[]).push(G,L)):G==="children"?typeof L!="string"&&typeof L!="number"||(y=y||[]).push(G,""+L):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(o.hasOwnProperty(G)?(L!=null&&G==="onScroll"&&Et("scroll",r),y||P===L||(y=[])):(y=y||[]).push(G,L))}l&&(y=y||[]).push("style",l);var G=y;(s.updateQueue=G)&&(s.flags|=4)}},py=function(r,s,l,d){l!==d&&(s.flags|=4)};function dl(r,s){if(!It)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function yn(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function UI(r,s,l){var d=s.pendingProps;switch(ph(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(s),null;case 1:return Vn(s.type)&&Nu(),yn(s),null;case 3:return d=s.stateNode,sa(),wt(Mn),wt(mn),Ah(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Mu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Ar!==null&&(rf(Ar),Ar=null))),qh(r,s),yn(s),null;case 5:Rh(s);var p=no(ol.current);if(l=s.type,r!==null&&s.stateNode!=null)fy(r,s,l,d,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return yn(s),null}if(r=no(Qr.current),Mu(s)){d=s.stateNode,l=s.type;var y=s.memoizedProps;switch(d[Gr]=s,d[tl]=y,r=(s.mode&1)!==0,l){case"dialog":Et("cancel",d),Et("close",d);break;case"iframe":case"object":case"embed":Et("load",d);break;case"video":case"audio":for(p=0;p<Ja.length;p++)Et(Ja[p],d);break;case"source":Et("error",d);break;case"img":case"image":case"link":Et("error",d),Et("load",d);break;case"details":Et("toggle",d);break;case"input":nt(d,y),Et("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},Et("invalid",d);break;case"textarea":pr(d,y),Et("invalid",d)}Br(l,y),p=null;for(var E in y)if(y.hasOwnProperty(E)){var P=y[E];E==="children"?typeof P=="string"?d.textContent!==P&&(y.suppressHydrationWarning!==!0&&Pu(d.textContent,P,r),p=["children",P]):typeof P=="number"&&d.textContent!==""+P&&(y.suppressHydrationWarning!==!0&&Pu(d.textContent,P,r),p=["children",""+P]):o.hasOwnProperty(E)&&P!=null&&E==="onScroll"&&Et("scroll",d)}switch(l){case"input":Xt(d),Fi(d,y,!0);break;case"textarea":Xt(d),dn(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=ku)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Se(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=E.createElement(l,{is:d.is}):(r=E.createElement(l),l==="select"&&(E=r,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):r=E.createElementNS(r,l),r[Gr]=s,r[tl]=d,hy(r,s,!1,!1),s.stateNode=r;e:{switch(E=Bi(l,d),l){case"dialog":Et("cancel",r),Et("close",r),p=d;break;case"iframe":case"object":case"embed":Et("load",r),p=d;break;case"video":case"audio":for(p=0;p<Ja.length;p++)Et(Ja[p],r);p=d;break;case"source":Et("error",r),p=d;break;case"img":case"image":case"link":Et("error",r),Et("load",r),p=d;break;case"details":Et("toggle",r),p=d;break;case"input":nt(r,d),p=cn(r,d),Et("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=he({},d,{value:void 0}),Et("invalid",r);break;case"textarea":pr(r,d),p=Kn(r,d),Et("invalid",r);break;default:p=d}Br(l,p),P=p;for(y in P)if(P.hasOwnProperty(y)){var L=P[y];y==="style"?zs(r,L):y==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&$s(r,L)):y==="children"?typeof L=="string"?(l!=="textarea"||L!=="")&&Jt(r,L):typeof L=="number"&&Jt(r,""+L):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?L!=null&&y==="onScroll"&&Et("scroll",r):L!=null&&ee(r,y,L,E))}switch(l){case"input":Xt(r),Fi(r,d,!1);break;case"textarea":Xt(r),dn(r);break;case"option":d.value!=null&&r.setAttribute("value",""+qe(d.value));break;case"select":r.multiple=!!d.multiple,y=d.value,y!=null?Ft(r,!!d.multiple,y,!1):d.defaultValue!=null&&Ft(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=ku)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return yn(s),null;case 6:if(r&&s.stateNode!=null)py(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=no(ol.current),no(Qr.current),Mu(s)){if(d=s.stateNode,l=s.memoizedProps,d[Gr]=s,(y=d.nodeValue!==l)&&(r=Zn,r!==null))switch(r.tag){case 3:Pu(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Pu(d.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Gr]=s,s.stateNode=d}return yn(s),null;case 13:if(wt(Rt),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(It&&er!==null&&s.mode&1&&!(s.flags&128))yg(),ta(),s.flags|=98560,y=!1;else if(y=Mu(s),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Gr]=s}else ta(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;yn(s),y=!1}else Ar!==null&&(rf(Ar),Ar=null),y=!0;if(!y)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,s.mode&1&&(r===null||Rt.current&1?Bt===0&&(Bt=3):af())),s.updateQueue!==null&&(s.flags|=4),yn(s),null);case 4:return sa(),qh(r,s),r===null&&Za(s.stateNode.containerInfo),yn(s),null;case 10:return Eh(s.type._context),yn(s),null;case 17:return Vn(s.type)&&Nu(),yn(s),null;case 19:if(wt(Rt),y=s.memoizedState,y===null)return yn(s),null;if(d=(s.flags&128)!==0,E=y.rendering,E===null)if(d)dl(y,!1);else{if(Bt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(E=$u(r),E!==null){for(s.flags|=128,dl(y,!1),d=E.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)y=l,r=d,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,r=E.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return gt(Rt,Rt.current&1|2),s.child}r=r.sibling}y.tail!==null&&ct()>ua&&(s.flags|=128,d=!0,dl(y,!1),s.lanes=4194304)}else{if(!d)if(r=$u(E),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),dl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!It)return yn(s),null}else 2*ct()-y.renderingStartTime>ua&&l!==1073741824&&(s.flags|=128,d=!0,dl(y,!1),s.lanes=4194304);y.isBackwards?(E.sibling=s.child,s.child=E):(l=y.last,l!==null?l.sibling=E:s.child=E,y.last=E)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=ct(),s.sibling=null,l=Rt.current,gt(Rt,d?l&1|2:l&1),s):(yn(s),null);case 22:case 23:return of(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&s.mode&1?tr&1073741824&&(yn(s),s.subtreeFlags&6&&(s.flags|=8192)):yn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function jI(r,s){switch(ph(s),s.tag){case 1:return Vn(s.type)&&Nu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return sa(),wt(Mn),wt(mn),Ah(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Rh(s),null;case 13:if(wt(Rt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));ta()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return wt(Rt),null;case 4:return sa(),null;case 10:return Eh(s.type._context),null;case 22:case 23:return of(),null;case 24:return null;default:return null}}var Xu=!1,_n=!1,BI=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function aa(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){xt(r,s,d)}else l.current=null}function Kh(r,s,l){try{l()}catch(d){xt(r,s,d)}}var my=!1;function $I(r,s){if(sh=Qi,r=Km(),Xd(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,P=-1,L=-1,G=0,ie=0,oe=r,ne=null;t:for(;;){for(var ge;oe!==l||p!==0&&oe.nodeType!==3||(P=E+p),oe!==y||d!==0&&oe.nodeType!==3||(L=E+d),oe.nodeType===3&&(E+=oe.nodeValue.length),(ge=oe.firstChild)!==null;)ne=oe,oe=ge;for(;;){if(oe===r)break t;if(ne===l&&++G===p&&(P=E),ne===y&&++ie===d&&(L=E),(ge=oe.nextSibling)!==null)break;oe=ne,ne=oe.parentNode}oe=ge}l=P===-1||L===-1?null:{start:P,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(oh={focusedElem:r,selectionRange:l},Qi=!1,Ee=s;Ee!==null;)if(s=Ee,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Ee=r;else for(;Ee!==null;){s=Ee;try{var Te=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var Ie=Te.memoizedProps,Nt=Te.memoizedState,q=s.stateNode,V=q.getSnapshotBeforeUpdate(s.elementType===s.type?Ie:Pr(s.type,Ie),Nt);q.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var K=s.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ae){xt(s,s.return,ae)}if(r=s.sibling,r!==null){r.return=s.return,Ee=r;break}Ee=s.return}return Te=my,my=!1,Te}function hl(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&Kh(s,l,y)}p=p.next}while(p!==d)}}function Ju(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function Gh(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function gy(r){var s=r.alternate;s!==null&&(r.alternate=null,gy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Gr],delete s[tl],delete s[ch],delete s[SI],delete s[RI])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function yy(r){return r.tag===5||r.tag===3||r.tag===4}function _y(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||yy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Qh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=ku));else if(d!==4&&(r=r.child,r!==null))for(Qh(r,s,l),r=r.sibling;r!==null;)Qh(r,s,l),r=r.sibling}function Yh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Yh(r,s,l),r=r.sibling;r!==null;)Yh(r,s,l),r=r.sibling}var rn=null,kr=!1;function is(r,s,l){for(l=l.child;l!==null;)vy(r,s,l),l=l.sibling}function vy(r,s,l){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(bn,l)}catch{}switch(l.tag){case 5:_n||aa(l,s);case 6:var d=rn,p=kr;rn=null,is(r,s,l),rn=d,kr=p,rn!==null&&(kr?(r=rn,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):rn.removeChild(l.stateNode));break;case 18:rn!==null&&(kr?(r=rn,l=l.stateNode,r.nodeType===8?uh(r.parentNode,l):r.nodeType===1&&uh(r,l),Sr(r)):uh(rn,l.stateNode));break;case 4:d=rn,p=kr,rn=l.stateNode.containerInfo,kr=!0,is(r,s,l),rn=d,kr=p;break;case 0:case 11:case 14:case 15:if(!_n&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,E=y.destroy;y=y.tag,E!==void 0&&(y&2||y&4)&&Kh(l,s,E),p=p.next}while(p!==d)}is(r,s,l);break;case 1:if(!_n&&(aa(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(P){xt(l,s,P)}is(r,s,l);break;case 21:is(r,s,l);break;case 22:l.mode&1?(_n=(d=_n)||l.memoizedState!==null,is(r,s,l),_n=d):is(r,s,l);break;default:is(r,s,l)}}function Ey(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new BI),s.forEach(function(d){var p=XI.bind(null,r,d);l.has(d)||(l.add(d),d.then(p,p))})}}function xr(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var y=r,E=s,P=E;e:for(;P!==null;){switch(P.tag){case 5:rn=P.stateNode,kr=!1;break e;case 3:rn=P.stateNode.containerInfo,kr=!0;break e;case 4:rn=P.stateNode.containerInfo,kr=!0;break e}P=P.return}if(rn===null)throw Error(t(160));vy(y,E,p),rn=null,kr=!1;var L=p.alternate;L!==null&&(L.return=null),p.return=null}catch(G){xt(p,s,G)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)wy(s,r),s=s.sibling}function wy(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(xr(s,r),Xr(r),d&4){try{hl(3,r,r.return),Ju(3,r)}catch(Ie){xt(r,r.return,Ie)}try{hl(5,r,r.return)}catch(Ie){xt(r,r.return,Ie)}}break;case 1:xr(s,r),Xr(r),d&512&&l!==null&&aa(l,l.return);break;case 5:if(xr(s,r),Xr(r),d&512&&l!==null&&aa(l,l.return),r.flags&32){var p=r.stateNode;try{Jt(p,"")}catch(Ie){xt(r,r.return,Ie)}}if(d&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,E=l!==null?l.memoizedProps:y,P=r.type,L=r.updateQueue;if(r.updateQueue=null,L!==null)try{P==="input"&&y.type==="radio"&&y.name!=null&&Hn(p,y),Bi(P,E);var G=Bi(P,y);for(E=0;E<L.length;E+=2){var ie=L[E],oe=L[E+1];ie==="style"?zs(p,oe):ie==="dangerouslySetInnerHTML"?$s(p,oe):ie==="children"?Jt(p,oe):ee(p,ie,oe,G)}switch(P){case"input":Wn(p,y);break;case"textarea":Gn(p,y);break;case"select":var ne=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ge=y.value;ge!=null?Ft(p,!!y.multiple,ge,!1):ne!==!!y.multiple&&(y.defaultValue!=null?Ft(p,!!y.multiple,y.defaultValue,!0):Ft(p,!!y.multiple,y.multiple?[]:"",!1))}p[tl]=y}catch(Ie){xt(r,r.return,Ie)}}break;case 6:if(xr(s,r),Xr(r),d&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(Ie){xt(r,r.return,Ie)}}break;case 3:if(xr(s,r),Xr(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Sr(s.containerInfo)}catch(Ie){xt(r,r.return,Ie)}break;case 4:xr(s,r),Xr(r);break;case 13:xr(s,r),Xr(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Zh=ct())),d&4&&Ey(r);break;case 22:if(ie=l!==null&&l.memoizedState!==null,r.mode&1?(_n=(G=_n)||ie,xr(s,r),_n=G):xr(s,r),Xr(r),d&8192){if(G=r.memoizedState!==null,(r.stateNode.isHidden=G)&&!ie&&r.mode&1)for(Ee=r,ie=r.child;ie!==null;){for(oe=Ee=ie;Ee!==null;){switch(ne=Ee,ge=ne.child,ne.tag){case 0:case 11:case 14:case 15:hl(4,ne,ne.return);break;case 1:aa(ne,ne.return);var Te=ne.stateNode;if(typeof Te.componentWillUnmount=="function"){d=ne,l=ne.return;try{s=d,Te.props=s.memoizedProps,Te.state=s.memoizedState,Te.componentWillUnmount()}catch(Ie){xt(d,l,Ie)}}break;case 5:aa(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Sy(oe);continue}}ge!==null?(ge.return=ne,Ee=ge):Sy(oe)}ie=ie.sibling}e:for(ie=null,oe=r;;){if(oe.tag===5){if(ie===null){ie=oe;try{p=oe.stateNode,G?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(P=oe.stateNode,L=oe.memoizedProps.style,E=L!=null&&L.hasOwnProperty("display")?L.display:null,P.style.display=Ui("display",E))}catch(Ie){xt(r,r.return,Ie)}}}else if(oe.tag===6){if(ie===null)try{oe.stateNode.nodeValue=G?"":oe.memoizedProps}catch(Ie){xt(r,r.return,Ie)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===r)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===r)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===r)break e;ie===oe&&(ie=null),oe=oe.return}ie===oe&&(ie=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:xr(s,r),Xr(r),d&4&&Ey(r);break;case 21:break;default:xr(s,r),Xr(r)}}function Xr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(yy(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(Jt(p,""),d.flags&=-33);var y=_y(r);Yh(r,y,p);break;case 3:case 4:var E=d.stateNode.containerInfo,P=_y(r);Qh(r,P,E);break;default:throw Error(t(161))}}catch(L){xt(r,r.return,L)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function zI(r,s,l){Ee=r,Ty(r)}function Ty(r,s,l){for(var d=(r.mode&1)!==0;Ee!==null;){var p=Ee,y=p.child;if(p.tag===22&&d){var E=p.memoizedState!==null||Xu;if(!E){var P=p.alternate,L=P!==null&&P.memoizedState!==null||_n;P=Xu;var G=_n;if(Xu=E,(_n=L)&&!G)for(Ee=p;Ee!==null;)E=Ee,L=E.child,E.tag===22&&E.memoizedState!==null?Ry(p):L!==null?(L.return=E,Ee=L):Ry(p);for(;y!==null;)Ee=y,Ty(y),y=y.sibling;Ee=p,Xu=P,_n=G}Iy(r)}else p.subtreeFlags&8772&&y!==null?(y.return=p,Ee=y):Iy(r)}}function Iy(r){for(;Ee!==null;){var s=Ee;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:_n||Ju(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!_n)if(l===null)d.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:Pr(s.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Sg(s,y,d);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Sg(s,E,l)}break;case 5:var P=s.stateNode;if(l===null&&s.flags&4){l=P;var L=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&l.focus();break;case"img":L.src&&(l.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var G=s.alternate;if(G!==null){var ie=G.memoizedState;if(ie!==null){var oe=ie.dehydrated;oe!==null&&Sr(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}_n||s.flags&512&&Gh(s)}catch(ne){xt(s,s.return,ne)}}if(s===r){Ee=null;break}if(l=s.sibling,l!==null){l.return=s.return,Ee=l;break}Ee=s.return}}function Sy(r){for(;Ee!==null;){var s=Ee;if(s===r){Ee=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Ee=l;break}Ee=s.return}}function Ry(r){for(;Ee!==null;){var s=Ee;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Ju(4,s)}catch(L){xt(s,l,L)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(L){xt(s,p,L)}}var y=s.return;try{Gh(s)}catch(L){xt(s,y,L)}break;case 5:var E=s.return;try{Gh(s)}catch(L){xt(s,E,L)}}}catch(L){xt(s,s.return,L)}if(s===r){Ee=null;break}var P=s.sibling;if(P!==null){P.return=s.return,Ee=P;break}Ee=s.return}}var HI=Math.ceil,Zu=de.ReactCurrentDispatcher,Xh=de.ReactCurrentOwner,cr=de.ReactCurrentBatchConfig,it=0,Kt=null,Lt=null,sn=0,tr=0,la=Zi(0),Bt=0,fl=null,io=0,ec=0,Jh=0,pl=null,Un=null,Zh=0,ua=1/0,Ri=null,tc=!1,ef=null,ss=null,nc=!1,os=null,rc=0,ml=0,tf=null,ic=-1,sc=0;function kn(){return it&6?ct():ic!==-1?ic:ic=ct()}function as(r){return r.mode&1?it&2&&sn!==0?sn&-sn:AI.transition!==null?(sc===0&&(sc=qs()),sc):(r=Ye,r!==0||(r=window.event,r=r===void 0?16:za(r.type)),r):1}function Nr(r,s,l,d){if(50<ml)throw ml=0,tf=null,Error(t(185));Wi(r,l,d),(!(it&2)||r!==Kt)&&(r===Kt&&(!(it&2)&&(ec|=l),Bt===4&&ls(r,sn)),jn(r,d),l===1&&it===0&&!(s.mode&1)&&(ua=ct()+500,bu&&ts()))}function jn(r,s){var l=r.callbackNode;fi(r,s);var d=Ws(r,r===Kt?sn:0);if(d===0)l!==null&&di(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&di(l),s===1)r.tag===0?CI(Ay.bind(null,r)):hg(Ay.bind(null,r)),TI(function(){!(it&6)&&ts()}),l=null;else{switch(Ki(d)){case 1:l=Ze;break;case 4:l=_t;break;case 16:l=en;break;case 536870912:l=vt;break;default:l=en}l=Oy(l,Cy.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Cy(r,s){if(ic=-1,sc=0,it&6)throw Error(t(327));var l=r.callbackNode;if(ca()&&r.callbackNode!==l)return null;var d=Ws(r,r===Kt?sn:0);if(d===0)return null;if(d&30||d&r.expiredLanes||s)s=oc(r,d);else{s=d;var p=it;it|=2;var y=ky();(Kt!==r||sn!==s)&&(Ri=null,ua=ct()+500,oo(r,s));do try{KI();break}catch(P){Py(r,P)}while(!0);vh(),Zu.current=y,it=p,Lt!==null?s=0:(Kt=null,sn=0,s=Bt)}if(s!==0){if(s===2&&(p=Yn(r),p!==0&&(d=p,s=nf(r,p))),s===1)throw l=fl,oo(r,0),ls(r,d),jn(r,ct()),l;if(s===6)ls(r,d);else{if(p=r.current.alternate,!(d&30)&&!WI(p)&&(s=oc(r,d),s===2&&(y=Yn(r),y!==0&&(d=y,s=nf(r,y))),s===1))throw l=fl,oo(r,0),ls(r,d),jn(r,ct()),l;switch(r.finishedWork=p,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:ao(r,Un,Ri);break;case 3:if(ls(r,d),(d&130023424)===d&&(s=Zh+500-ct(),10<s)){if(Ws(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){kn(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=lh(ao.bind(null,r,Un,Ri),s);break}ao(r,Un,Ri);break;case 4:if(ls(r,d),(d&4194240)===d)break;for(s=r.eventTimes,p=-1;0<d;){var E=31-Cn(d);y=1<<E,E=s[E],E>p&&(p=E),d&=~y}if(d=p,d=ct()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*HI(d/1960))-d,10<d){r.timeoutHandle=lh(ao.bind(null,r,Un,Ri),d);break}ao(r,Un,Ri);break;case 5:ao(r,Un,Ri);break;default:throw Error(t(329))}}}return jn(r,ct()),r.callbackNode===l?Cy.bind(null,r):null}function nf(r,s){var l=pl;return r.current.memoizedState.isDehydrated&&(oo(r,s).flags|=256),r=oc(r,s),r!==2&&(s=Un,Un=l,s!==null&&rf(s)),r}function rf(r){Un===null?Un=r:Un.push.apply(Un,r)}function WI(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],y=p.getSnapshot;p=p.value;try{if(!Cr(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ls(r,s){for(s&=~Jh,s&=~ec,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Cn(s),d=1<<l;r[l]=-1,s&=~d}}function Ay(r){if(it&6)throw Error(t(327));ca();var s=Ws(r,0);if(!(s&1))return jn(r,ct()),null;var l=oc(r,s);if(r.tag!==0&&l===2){var d=Yn(r);d!==0&&(s=d,l=nf(r,d))}if(l===1)throw l=fl,oo(r,0),ls(r,s),jn(r,ct()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,ao(r,Un,Ri),jn(r,ct()),null}function sf(r,s){var l=it;it|=1;try{return r(s)}finally{it=l,it===0&&(ua=ct()+500,bu&&ts())}}function so(r){os!==null&&os.tag===0&&!(it&6)&&ca();var s=it;it|=1;var l=cr.transition,d=Ye;try{if(cr.transition=null,Ye=1,r)return r()}finally{Ye=d,cr.transition=l,it=s,!(it&6)&&ts()}}function of(){tr=la.current,wt(la)}function oo(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,wI(l)),Lt!==null)for(l=Lt.return;l!==null;){var d=l;switch(ph(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Nu();break;case 3:sa(),wt(Mn),wt(mn),Ah();break;case 5:Rh(d);break;case 4:sa();break;case 13:wt(Rt);break;case 19:wt(Rt);break;case 10:Eh(d.type._context);break;case 22:case 23:of()}l=l.return}if(Kt=r,Lt=r=us(r.current,null),sn=tr=s,Bt=0,fl=null,Jh=ec=io=0,Un=pl=null,to!==null){for(s=0;s<to.length;s++)if(l=to[s],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,y=l.pending;if(y!==null){var E=y.next;y.next=p,d.next=E}l.pending=d}to=null}return r}function Py(r,s){do{var l=Lt;try{if(vh(),zu.current=Ku,Hu){for(var d=Ct.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Hu=!1}if(ro=0,qt=jt=Ct=null,al=!1,ll=0,Xh.current=null,l===null||l.return===null){Bt=1,fl=s,Lt=null;break}e:{var y=r,E=l.return,P=l,L=s;if(s=sn,P.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var G=L,ie=P,oe=ie.tag;if(!(ie.mode&1)&&(oe===0||oe===11||oe===15)){var ne=ie.alternate;ne?(ie.updateQueue=ne.updateQueue,ie.memoizedState=ne.memoizedState,ie.lanes=ne.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var ge=Zg(E);if(ge!==null){ge.flags&=-257,ey(ge,E,P,y,s),ge.mode&1&&Jg(y,G,s),s=ge,L=G;var Te=s.updateQueue;if(Te===null){var Ie=new Set;Ie.add(L),s.updateQueue=Ie}else Te.add(L);break e}else{if(!(s&1)){Jg(y,G,s),af();break e}L=Error(t(426))}}else if(It&&P.mode&1){var Nt=Zg(E);if(Nt!==null){!(Nt.flags&65536)&&(Nt.flags|=256),ey(Nt,E,P,y,s),yh(oa(L,P));break e}}y=L=oa(L,P),Bt!==4&&(Bt=2),pl===null?pl=[y]:pl.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var q=Yg(y,L,s);Ig(y,q);break e;case 1:P=L;var V=y.type,K=y.stateNode;if(!(y.flags&128)&&(typeof V.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(ss===null||!ss.has(K)))){y.flags|=65536,s&=-s,y.lanes|=s;var ae=Xg(y,P,s);Ig(y,ae);break e}}y=y.return}while(y!==null)}Ny(l)}catch(Re){s=Re,Lt===l&&l!==null&&(Lt=l=l.return);continue}break}while(!0)}function ky(){var r=Zu.current;return Zu.current=Ku,r===null?Ku:r}function af(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Kt===null||!(io&268435455)&&!(ec&268435455)||ls(Kt,sn)}function oc(r,s){var l=it;it|=2;var d=ky();(Kt!==r||sn!==s)&&(Ri=null,oo(r,s));do try{qI();break}catch(p){Py(r,p)}while(!0);if(vh(),it=l,Zu.current=d,Lt!==null)throw Error(t(261));return Kt=null,sn=0,Bt}function qI(){for(;Lt!==null;)xy(Lt)}function KI(){for(;Lt!==null&&!$r();)xy(Lt)}function xy(r){var s=Ly(r.alternate,r,tr);r.memoizedProps=r.pendingProps,s===null?Ny(r):Lt=s,Xh.current=null}function Ny(r){var s=r;do{var l=s.alternate;if(r=s.return,s.flags&32768){if(l=jI(l,s),l!==null){l.flags&=32767,Lt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Bt=6,Lt=null;return}}else if(l=UI(l,s,tr),l!==null){Lt=l;return}if(s=s.sibling,s!==null){Lt=s;return}Lt=s=r}while(s!==null);Bt===0&&(Bt=5)}function ao(r,s,l){var d=Ye,p=cr.transition;try{cr.transition=null,Ye=1,GI(r,s,l,d)}finally{cr.transition=p,Ye=d}return null}function GI(r,s,l,d){do ca();while(os!==null);if(it&6)throw Error(t(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(mt(r,y),r===Kt&&(Lt=Kt=null,sn=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||nc||(nc=!0,Oy(en,function(){return ca(),null})),y=(l.flags&15990)!==0,l.subtreeFlags&15990||y){y=cr.transition,cr.transition=null;var E=Ye;Ye=1;var P=it;it|=4,Xh.current=null,$I(r,l),wy(l,r),pI(oh),Qi=!!sh,oh=sh=null,r.current=l,zI(l),vr(),it=P,Ye=E,cr.transition=y}else r.current=l;if(nc&&(nc=!1,os=r,rc=p),y=r.pendingLanes,y===0&&(ss=null),No(l.stateNode),jn(r,ct()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(tc)throw tc=!1,r=ef,ef=null,r;return rc&1&&r.tag!==0&&ca(),y=r.pendingLanes,y&1?r===tf?ml++:(ml=0,tf=r):ml=0,ts(),null}function ca(){if(os!==null){var r=Ki(rc),s=cr.transition,l=Ye;try{if(cr.transition=null,Ye=16>r?16:r,os===null)var d=!1;else{if(r=os,os=null,rc=0,it&6)throw Error(t(331));var p=it;for(it|=4,Ee=r.current;Ee!==null;){var y=Ee,E=y.child;if(Ee.flags&16){var P=y.deletions;if(P!==null){for(var L=0;L<P.length;L++){var G=P[L];for(Ee=G;Ee!==null;){var ie=Ee;switch(ie.tag){case 0:case 11:case 15:hl(8,ie,y)}var oe=ie.child;if(oe!==null)oe.return=ie,Ee=oe;else for(;Ee!==null;){ie=Ee;var ne=ie.sibling,ge=ie.return;if(gy(ie),ie===G){Ee=null;break}if(ne!==null){ne.return=ge,Ee=ne;break}Ee=ge}}}var Te=y.alternate;if(Te!==null){var Ie=Te.child;if(Ie!==null){Te.child=null;do{var Nt=Ie.sibling;Ie.sibling=null,Ie=Nt}while(Ie!==null)}}Ee=y}}if(y.subtreeFlags&2064&&E!==null)E.return=y,Ee=E;else e:for(;Ee!==null;){if(y=Ee,y.flags&2048)switch(y.tag){case 0:case 11:case 15:hl(9,y,y.return)}var q=y.sibling;if(q!==null){q.return=y.return,Ee=q;break e}Ee=y.return}}var V=r.current;for(Ee=V;Ee!==null;){E=Ee;var K=E.child;if(E.subtreeFlags&2064&&K!==null)K.return=E,Ee=K;else e:for(E=V;Ee!==null;){if(P=Ee,P.flags&2048)try{switch(P.tag){case 0:case 11:case 15:Ju(9,P)}}catch(Re){xt(P,P.return,Re)}if(P===E){Ee=null;break e}var ae=P.sibling;if(ae!==null){ae.return=P.return,Ee=ae;break e}Ee=P.return}}if(it=p,ts(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(bn,r)}catch{}d=!0}return d}finally{Ye=l,cr.transition=s}}return!1}function Dy(r,s,l){s=oa(l,s),s=Yg(r,s,1),r=rs(r,s,1),s=kn(),r!==null&&(Wi(r,1,s),jn(r,s))}function xt(r,s,l){if(r.tag===3)Dy(r,r,l);else for(;s!==null;){if(s.tag===3){Dy(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ss===null||!ss.has(d))){r=oa(l,r),r=Xg(s,r,1),s=rs(s,r,1),r=kn(),s!==null&&(Wi(s,1,r),jn(s,r));break}}s=s.return}}function QI(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=kn(),r.pingedLanes|=r.suspendedLanes&l,Kt===r&&(sn&l)===l&&(Bt===4||Bt===3&&(sn&130023424)===sn&&500>ct()-Zh?oo(r,0):Jh|=l),jn(r,s)}function by(r,s){s===0&&(r.mode&1?(s=bo,bo<<=1,!(bo&130023424)&&(bo=4194304)):s=1);var l=kn();r=Ti(r,s),r!==null&&(Wi(r,s,l),jn(r,l))}function YI(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),by(r,l)}function XI(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),by(r,l)}var Ly;Ly=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||Mn.current)Fn=!0;else{if(!(r.lanes&l)&&!(s.flags&128))return Fn=!1,FI(r,s,l);Fn=!!(r.flags&131072)}else Fn=!1,It&&s.flags&1048576&&fg(s,Ou,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Yu(r,s),r=s.pendingProps;var p=Jo(s,mn.current);ia(s,l),p=xh(null,s,d,r,p,l);var y=Nh();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Vn(d)?(y=!0,Du(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Ih(s),p.updater=Gu,s.stateNode=p,p._reactInternals=s,Vh(s,d,r,l),s=Bh(null,s,d,!0,y,l)):(s.tag=0,It&&y&&fh(s),Pn(null,s,p,l),s=s.child),s;case 16:d=s.elementType;e:{switch(Yu(r,s),r=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=ZI(d),r=Pr(d,r),p){case 0:s=jh(null,s,d,r,l);break e;case 1:s=oy(null,s,d,r,l);break e;case 11:s=ty(null,s,d,r,l);break e;case 14:s=ny(null,s,d,Pr(d.type,r),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Pr(d,p),jh(r,s,d,p,l);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Pr(d,p),oy(r,s,d,p,l);case 3:e:{if(ay(s),r===null)throw Error(t(387));d=s.pendingProps,y=s.memoizedState,p=y.element,Tg(r,s),Bu(s,d,null,l);var E=s.memoizedState;if(d=E.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=oa(Error(t(423)),s),s=ly(r,s,d,l,p);break e}else if(d!==p){p=oa(Error(t(424)),s),s=ly(r,s,d,l,p);break e}else for(er=Ji(s.stateNode.containerInfo.firstChild),Zn=s,It=!0,Ar=null,l=Eg(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ta(),d===p){s=Si(r,s,l);break e}Pn(r,s,d,l)}s=s.child}return s;case 5:return Rg(s),r===null&&gh(s),d=s.type,p=s.pendingProps,y=r!==null?r.memoizedProps:null,E=p.children,ah(d,p)?E=null:y!==null&&ah(d,y)&&(s.flags|=32),sy(r,s),Pn(r,s,E,l),s.child;case 6:return r===null&&gh(s),null;case 13:return uy(r,s,l);case 4:return Sh(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=na(s,null,d,l):Pn(r,s,d,l),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Pr(d,p),ty(r,s,d,p,l);case 7:return Pn(r,s,s.pendingProps,l),s.child;case 8:return Pn(r,s,s.pendingProps.children,l),s.child;case 12:return Pn(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,y=s.memoizedProps,E=p.value,gt(Fu,d._currentValue),d._currentValue=E,y!==null)if(Cr(y.value,E)){if(y.children===p.children&&!Mn.current){s=Si(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var P=y.dependencies;if(P!==null){E=y.child;for(var L=P.firstContext;L!==null;){if(L.context===d){if(y.tag===1){L=Ii(-1,l&-l),L.tag=2;var G=y.updateQueue;if(G!==null){G=G.shared;var ie=G.pending;ie===null?L.next=L:(L.next=ie.next,ie.next=L),G.pending=L}}y.lanes|=l,L=y.alternate,L!==null&&(L.lanes|=l),wh(y.return,l,s),P.lanes|=l;break}L=L.next}}else if(y.tag===10)E=y.type===s.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(t(341));E.lanes|=l,P=E.alternate,P!==null&&(P.lanes|=l),wh(E,l,s),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===s){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}Pn(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,ia(s,l),p=lr(p),d=d(p),s.flags|=1,Pn(r,s,d,l),s.child;case 14:return d=s.type,p=Pr(d,s.pendingProps),p=Pr(d.type,p),ny(r,s,d,p,l);case 15:return ry(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Pr(d,p),Yu(r,s),s.tag=1,Vn(d)?(r=!0,Du(s)):r=!1,ia(s,l),Gg(s,d,p),Vh(s,d,p,l),Bh(null,s,d,!0,r,l);case 19:return dy(r,s,l);case 22:return iy(r,s,l)}throw Error(t(156,s.tag))};function Oy(r,s){return Zt(r,s)}function JI(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(r,s,l,d){return new JI(r,s,l,d)}function lf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ZI(r){if(typeof r=="function")return lf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===B)return 11;if(r===ze)return 14}return 2}function us(r,s){var l=r.alternate;return l===null?(l=dr(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function ac(r,s,l,d,p,y){var E=2;if(d=r,typeof r=="function")lf(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case N:return lo(l.children,p,y,s);case S:E=8,p|=8;break;case A:return r=dr(12,l,s,p|2),r.elementType=A,r.lanes=y,r;case k:return r=dr(13,l,s,p),r.elementType=k,r.lanes=y,r;case at:return r=dr(19,l,s,p),r.elementType=at,r.lanes=y,r;case Be:return lc(l,p,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case D:E=10;break e;case M:E=9;break e;case B:E=11;break e;case ze:E=14;break e;case dt:E=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=dr(E,l,s,p),s.elementType=r,s.type=d,s.lanes=y,s}function lo(r,s,l,d){return r=dr(7,r,d,s),r.lanes=l,r}function lc(r,s,l,d){return r=dr(22,r,d,s),r.elementType=Be,r.lanes=l,r.stateNode={isHidden:!1},r}function uf(r,s,l){return r=dr(6,r,null,s),r.lanes=l,r}function cf(r,s,l){return s=dr(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function eS(r,s,l,d,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hi(0),this.expirationTimes=Hi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function df(r,s,l,d,p,y,E,P,L){return r=new eS(r,s,l,P,L),s===1?(s=1,y===!0&&(s|=8)):s=0,y=dr(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ih(y),r}function tS(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:le,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function My(r){if(!r)return es;r=r._reactInternals;e:{if(Qe(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Vn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(Vn(l))return cg(r,l,s)}return s}function Vy(r,s,l,d,p,y,E,P,L){return r=df(l,d,!0,r,p,y,E,P,L),r.context=My(null),l=r.current,d=kn(),p=as(l),y=Ii(d,p),y.callback=s??null,rs(l,y,p),r.current.lanes=p,Wi(r,p,d),jn(r,d),r}function uc(r,s,l,d){var p=s.current,y=kn(),E=as(p);return l=My(l),s.context===null?s.context=l:s.pendingContext=l,s=Ii(y,E),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=rs(p,s,E),r!==null&&(Nr(r,p,E,y),ju(r,p,E)),E}function cc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Fy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function hf(r,s){Fy(r,s),(r=r.alternate)&&Fy(r,s)}var Uy=typeof reportError=="function"?reportError:function(r){console.error(r)};function ff(r){this._internalRoot=r}dc.prototype.render=ff.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));uc(r,s,null,null)},dc.prototype.unmount=ff.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;so(function(){uc(null,r,null,null)}),s[_i]=null}};function dc(r){this._internalRoot=r}dc.prototype.unstable_scheduleHydration=function(r){if(r){var s=du();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Hr.length&&s!==0&&s<Hr[l].priority;l++);Hr.splice(l,0,r),l===0&&pu(r)}};function pf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function hc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function jy(){}function nS(r,s,l,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var G=cc(E);y.call(G)}}var E=Vy(s,d,r,0,null,!1,!1,"",jy);return r._reactRootContainer=E,r[_i]=E.current,Za(r.nodeType===8?r.parentNode:r),so(),E}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var P=d;d=function(){var G=cc(L);P.call(G)}}var L=df(r,0,!1,null,null,!1,!1,"",jy);return r._reactRootContainer=L,r[_i]=L.current,Za(r.nodeType===8?r.parentNode:r),so(function(){uc(s,L,l,d)}),L}function fc(r,s,l,d,p){var y=l._reactRootContainer;if(y){var E=y;if(typeof p=="function"){var P=p;p=function(){var L=cc(E);P.call(L)}}uc(s,E,r,p)}else E=nS(l,s,r,p,d);return cc(E)}uu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=zi(s.pendingLanes);l!==0&&(qi(s,l|1),jn(s,ct()),!(it&6)&&(ua=ct()+500,ts()))}break;case 13:so(function(){var d=Ti(r,1);if(d!==null){var p=kn();Nr(d,r,1,p)}}),hf(r,1)}},Lo=function(r){if(r.tag===13){var s=Ti(r,134217728);if(s!==null){var l=kn();Nr(s,r,134217728,l)}hf(r,134217728)}},cu=function(r){if(r.tag===13){var s=as(r),l=Ti(r,s);if(l!==null){var d=kn();Nr(l,r,s,d)}hf(r,s)}},du=function(){return Ye},hu=function(r,s){var l=Ye;try{return Ye=r,s()}finally{Ye=l}},ui=function(r,s,l){switch(s){case"input":if(Wn(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var p=xu(d);if(!p)throw Error(t(90));Sn(d),Wn(d,p)}}}break;case"textarea":Gn(r,l);break;case"select":s=l.value,s!=null&&Ft(r,!!l.multiple,s,!1)}},ci=sf,O=so;var rS={usingClientEntryPoint:!1,Events:[nl,Yo,xu,Rn,Hs,sf]},gl={findFiberByHostInstance:Xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iS={bundleType:gl.bundleType,version:gl.version,rendererPackageName:gl.rendererPackageName,rendererConfig:gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:de.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=_r(r),r===null?null:r.stateNode},findFiberByHostInstance:gl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{bn=pc.inject(iS),pn=pc}catch{}}return Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rS,Bn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pf(s))throw Error(t(200));return tS(r,s,null,l)},Bn.createRoot=function(r,s){if(!pf(r))throw Error(t(299));var l=!1,d="",p=Uy;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=df(r,1,!1,null,null,l,!1,d,p),r[_i]=s.current,Za(r.nodeType===8?r.parentNode:r),new ff(s)},Bn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=_r(s),r=r===null?null:r.stateNode,r},Bn.flushSync=function(r){return so(r)},Bn.hydrate=function(r,s,l){if(!hc(s))throw Error(t(200));return fc(null,r,s,!0,l)},Bn.hydrateRoot=function(r,s,l){if(!pf(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,p=!1,y="",E=Uy;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=Vy(s,null,r,1,l??null,p,!1,y,E),r[_i]=s.current,Za(r),d)for(r=0;r<d.length;r++)l=d[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new dc(s)},Bn.render=function(r,s,l){if(!hc(s))throw Error(t(200));return fc(null,r,s,!1,l)},Bn.unmountComponentAtNode=function(r){if(!hc(r))throw Error(t(40));return r._reactRootContainer?(so(function(){fc(null,null,r,!1,function(){r._reactRootContainer=null,r[_i]=null})}),!0):!1},Bn.unstable_batchedUpdates=sf,Bn.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!hc(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return fc(r,s,l,!1,d)},Bn.version="18.3.1-next-f1338f8080-20240426",Bn}var Gy;function Gv(){if(Gy)return yf.exports;Gy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yf.exports=dS(),yf.exports}var Qy;function hS(){if(Qy)return mc;Qy=1;var n=Gv();return mc.createRoot=n.createRoot,mc.hydrateRoot=n.hydrateRoot,mc}var fS=hS(),R=Ap();const go=pd(R);var _l={},Yy;function pS(){if(Yy)return _l;Yy=1,Object.defineProperty(_l,"__esModule",{value:!0}),_l.parse=u,_l.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function u(T,C){const b=new a,z=T.length;if(z<2)return b;const F=(C==null?void 0:C.decode)||v;let W=0;do{const re=T.indexOf("=",W);if(re===-1)break;const ee=T.indexOf(";",W),de=ee===-1?z:ee;if(re>de){W=T.lastIndexOf(";",re-1)+1;continue}const j=h(T,W,re),le=f(T,re,j),N=T.slice(j,le);if(b[N]===void 0){let S=h(T,re+1,de),A=f(T,de,S);const D=F(T.slice(S,A));b[N]=D}W=de+1}while(W<z);return b}function h(T,C,b){do{const z=T.charCodeAt(C);if(z!==32&&z!==9)return C}while(++C<b);return b}function f(T,C,b){for(;C>b;){const z=T.charCodeAt(--C);if(z!==32&&z!==9)return C+1}return b}function m(T,C,b){const z=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const F=z(C);if(!e.test(F))throw new TypeError(`argument val is invalid: ${C}`);let W=T+"="+F;if(!b)return W;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);W+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);W+="; Domain="+b.domain}if(b.path){if(!i.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);W+="; Path="+b.path}if(b.expires){if(!w(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);W+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(W+="; HttpOnly"),b.secure&&(W+="; Secure"),b.partitioned&&(W+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":W+="; Priority=Low";break;case"medium":W+="; Priority=Medium";break;case"high":W+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":W+="; SameSite=Strict";break;case"lax":W+="; SameSite=Lax";break;case"none":W+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return W}function v(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function w(T){return o.call(T)==="[object Date]"}return _l}pS();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Xy="popstate";function mS(n={}){function e(i,o){let{pathname:a,search:u,hash:h}=i.location;return Ml("",{pathname:a,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:ks(o)}return yS(e,t,null,n)}function Je(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ln(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gS(){return Math.random().toString(36).substring(2,10)}function Jy(n,e){return{usr:n.state,key:n.key,idx:e}}function Ml(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Os(e):e,state:t,key:e&&e.key||i||gS()}}function ks({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Os(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function yS(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,h="POP",f=null,m=v();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function v(){return(u.state||{idx:null}).idx}function w(){h="POP";let F=v(),W=F==null?null:F-m;m=F,f&&f({action:h,location:z.location,delta:W})}function T(F,W){h="PUSH";let re=Ml(z.location,F,W);m=v()+1;let ee=Jy(re,m),de=z.createHref(re);try{u.pushState(ee,"",de)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;o.location.assign(de)}a&&f&&f({action:h,location:z.location,delta:1})}function C(F,W){h="REPLACE";let re=Ml(z.location,F,W);m=v();let ee=Jy(re,m),de=z.createHref(re);u.replaceState(ee,"",de),a&&f&&f({action:h,location:z.location,delta:0})}function b(F){let W=o.location.origin!=="null"?o.location.origin:o.location.href,re=typeof F=="string"?F:ks(F);return re=re.replace(/ $/,"%20"),Je(W,`No window.location.(origin|href) available to create URL for href: ${re}`),new URL(re,W)}let z={get action(){return h},get location(){return n(o,u)},listen(F){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Xy,w),f=F,()=>{o.removeEventListener(Xy,w),f=null}},createHref(F){return e(o,F)},createURL:b,encodeLocation(F){let W=b(F);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:T,replace:C,go(F){return u.go(F)}};return z}var _S=new Set(["lazy","caseSensitive","path","id","index","children"]);function vS(n){return n.index===!0}function Wc(n,e,t=[],i={}){return n.map((o,a)=>{let u=[...t,String(a)],h=typeof o.id=="string"?o.id:u.join("-");if(Je(o.index!==!0||!o.children,"Cannot specify children on an index route"),Je(!i[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),vS(o)){let f={...o,...e(o),id:h};return i[h]=f,f}else{let f={...o,...e(o),id:h,children:void 0};return i[h]=f,o.children&&(f.children=Wc(o.children,e,u,i)),f}})}function ms(n,e,t="/"){return kc(n,e,t,!1)}function kc(n,e,t,i){let o=typeof e=="string"?Os(e):e,a=Or(o.pathname||"/",t);if(a==null)return null;let u=Qv(n);wS(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let m=DS(a);h=xS(u[f],m,i)}return h}function ES(n,e){let{route:t,pathname:i,params:o}=n;return{id:t.id,pathname:i,params:o,data:e[t.id],handle:t.handle}}function Qv(n,e=[],t=[],i=""){let o=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(Je(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let m=ti([i,f.relativePath]),v=t.concat(f);a.children&&a.children.length>0&&(Je(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Qv(a.children,e,v,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:PS(m,a.index),routesMeta:v})};return n.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,u);else for(let f of Yv(a.path))o(a,u,f)}),e}function Yv(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=Yv(i.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function wS(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:kS(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var TS=/^:[\w-]+$/,IS=3,SS=2,RS=1,CS=10,AS=-2,Zy=n=>n==="*";function PS(n,e){let t=n.split("/"),i=t.length;return t.some(Zy)&&(i+=AS),e&&(i+=SS),t.filter(o=>!Zy(o)).reduce((o,a)=>o+(TS.test(a)?IS:a===""?RS:CS),i)}function kS(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function xS(n,e,t=!1){let{routesMeta:i}=n,o={},a="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],m=h===i.length-1,v=a==="/"?e:e.slice(a.length)||"/",w=qc({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),T=f.route;if(!w&&m&&t&&!i[i.length-1].route.index&&(w=qc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!w)return null;Object.assign(o,w.params),u.push({params:o,pathname:ti([a,w.pathname]),pathnameBase:OS(ti([a,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(a=ti([a,w.pathnameBase]))}return u}function qc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=NS(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((m,{paramName:v,isOptional:w},T)=>{if(v==="*"){let b=h[T]||"";u=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const C=h[T];return w&&!C?m[v]=void 0:m[v]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function NS(n,e=!1,t=!0){ln(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function DS(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ln(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Or(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function bS(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Os(n):n;return{pathname:t?t.startsWith("/")?t:LS(t,e):e,search:MS(i),hash:VS(o)}}function LS(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Ef(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Xv(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Pp(n){let e=Xv(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function kp(n,e,t,i=!1){let o;typeof n=="string"?o=Os(n):(o={...n},Je(!o.pathname||!o.pathname.includes("?"),Ef("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),Ef("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),Ef("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=t;else{let w=e.length-1;if(!i&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),w-=1;o.pathname=T.join("/")}h=w>=0?e[w]:"/"}let f=bS(o,h),m=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}var ti=n=>n.join("/").replace(/\/\/+/g,"/"),OS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),MS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,VS=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Kc=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function md(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Jv=["POST","PUT","PATCH","DELETE"],FS=new Set(Jv),US=["GET",...Jv],jS=new Set(US),BS=new Set([301,302,303,307,308]),$S=new Set([307,308]),wf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},zS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},xp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HS=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),Zv="remix-router-transitions",eE=Symbol("ResetLoaderData");function WS(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Je(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.mapRouteProperties||HS,o={},a=Wc(n.routes,i,void 0,o),u,h=n.basename||"/",f=n.dataStrategy||YS,m=n.patchRoutesOnNavigation,v={...n.future},w=null,T=new Set,C=null,b=null,z=null,F=n.hydrationData!=null,W=ms(a,n.history.location,h),re=null;if(W==null&&!m){let O=hr(404,{pathname:n.history.location.pathname}),{matches:$,route:Q}=c_(a);W=$,re={[Q.id]:O}}W&&!n.hydrationData&&gr(W,a,n.history.location.pathname).active&&(W=null);let ee;if(W)if(W.some(O=>O.route.lazy))ee=!1;else if(!W.some(O=>O.route.loader))ee=!0;else{let O=n.hydrationData?n.hydrationData.loaderData:null,$=n.hydrationData?n.hydrationData.errors:null;if($){let Q=W.findIndex(J=>$[J.route.id]!==void 0);ee=W.slice(0,Q+1).every(J=>!qf(J.route,O,$))}else ee=W.every(Q=>!qf(Q.route,O,$))}else{ee=!1,W=[];let O=gr(null,a,n.history.location.pathname);O.active&&O.matches&&(W=O.matches)}let de,j={historyAction:n.history.action,location:n.history.location,matches:W,initialized:ee,navigation:wf,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||re,fetchers:new Map,blockers:new Map},le="POP",N=!1,S,A=!1,D=new Map,M=null,B=!1,k=!1,at=new Set,ze=new Map,dt=0,Be=-1,te=new Map,_e=new Set,he=new Map,U=new Map,X=new Set,fe=new Map,Ae,ke=null;function $e(){if(w=n.history.listen(({action:O,location:$,delta:Q})=>{if(Ae){Ae(),Ae=void 0;return}ln(fe.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let J=Bi({currentLocation:j.location,nextLocation:$,historyAction:O});if(J&&Q!=null){let pe=new Promise(ve=>{Ae=ve});n.history.go(Q*-1),Br(J,{state:"blocked",location:$,proceed(){Br(J,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),pe.then(()=>n.history.go(Q))},reset(){let ve=new Map(j.blockers);ve.set(J,vl),Le({blockers:ve})}});return}return Pt(O,$)}),t){a0(e,D);let O=()=>l0(e,D);e.addEventListener("pagehide",O),M=()=>e.removeEventListener("pagehide",O)}return j.initialized||Pt("POP",j.location,{initialHydration:!0}),de}function He(){w&&w(),M&&M(),T.clear(),S&&S.abort(),j.fetchers.forEach((O,$)=>hn($)),j.blockers.forEach((O,$)=>ji($))}function qe(O){return T.add(O),()=>T.delete(O)}function Le(O,$={}){j={...j,...O};let Q=[],J=[];j.fetchers.forEach((pe,ve)=>{pe.state==="idle"&&(X.has(ve)?Q.push(ve):J.push(ve))}),X.forEach(pe=>{!j.fetchers.has(pe)&&!ze.has(pe)&&Q.push(pe)}),[...T].forEach(pe=>pe(j,{deletedFetchers:Q,viewTransitionOpts:$.viewTransitionOpts,flushSync:$.flushSync===!0})),Q.forEach(pe=>hn(pe)),J.forEach(pe=>j.fetchers.delete(pe))}function st(O,$,{flushSync:Q}={}){var ue,be;let J=j.actionData!=null&&j.navigation.formMethod!=null&&Dr(j.navigation.formMethod)&&j.navigation.state==="loading"&&((ue=O.state)==null?void 0:ue._isRedirect)!==!0,pe;$.actionData?Object.keys($.actionData).length>0?pe=$.actionData:pe=null:J?pe=j.actionData:pe=null;let ve=$.loaderData?l_(j.loaderData,$.loaderData,$.matches||[],$.errors):j.loaderData,Pe=j.blockers;Pe.size>0&&(Pe=new Map(Pe),Pe.forEach((je,lt)=>Pe.set(lt,vl)));let me=N===!0||j.navigation.formMethod!=null&&Dr(j.navigation.formMethod)&&((be=O.state)==null?void 0:be._isRedirect)!==!0;u&&(a=u,u=void 0),B||le==="POP"||(le==="PUSH"?n.history.push(O,O.state):le==="REPLACE"&&n.history.replace(O,O.state));let we;if(le==="POP"){let je=D.get(j.location.pathname);je&&je.has(O.pathname)?we={currentLocation:j.location,nextLocation:O}:D.has(O.pathname)&&(we={currentLocation:O,nextLocation:j.location})}else if(A){let je=D.get(j.location.pathname);je?je.add(O.pathname):(je=new Set([O.pathname]),D.set(j.location.pathname,je)),we={currentLocation:j.location,nextLocation:O}}Le({...$,actionData:pe,loaderData:ve,historyAction:le,location:O,initialized:!0,navigation:wf,revalidation:"idle",restoreScrollPosition:Qn(O,$.matches||j.matches),preventScrollReset:me,blockers:Pe},{viewTransitionOpts:we,flushSync:Q===!0}),le="POP",N=!1,A=!1,B=!1,k=!1,ke==null||ke.resolve(),ke=null}async function Xt(O,$){if(typeof O=="number"){n.history.go(O);return}let Q=Wf(j.location,j.matches,h,O,$==null?void 0:$.fromRouteId,$==null?void 0:$.relative),{path:J,submission:pe,error:ve}=e_(!1,Q,$),Pe=j.location,me=Ml(j.location,J,$&&$.state);me={...me,...n.history.encodeLocation(me)};let we=$&&$.replace!=null?$.replace:void 0,ue="PUSH";we===!0?ue="REPLACE":we===!1||pe!=null&&Dr(pe.formMethod)&&pe.formAction===j.location.pathname+j.location.search&&(ue="REPLACE");let be=$&&"preventScrollReset"in $?$.preventScrollReset===!0:void 0,je=($&&$.flushSync)===!0,lt=Bi({currentLocation:Pe,nextLocation:me,historyAction:ue});if(lt){Br(lt,{state:"blocked",location:me,proceed(){Br(lt,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),Xt(O,$)},reset(){let kt=new Map(j.blockers);kt.set(lt,vl),Le({blockers:kt})}});return}await Pt(ue,me,{submission:pe,pendingError:ve,preventScrollReset:be,replace:$&&$.replace,enableViewTransition:$&&$.viewTransition,flushSync:je})}function Sn(){ke||(ke=u0()),Gn(),Le({revalidation:"loading"});let O=ke.promise;return j.navigation.state==="submitting"?O:j.navigation.state==="idle"?(Pt(j.historyAction,j.location,{startUninterruptedRevalidation:!0}),O):(Pt(le||j.historyAction,j.navigation.location,{overrideNavigation:j.navigation,enableViewTransition:A===!0}),O)}async function Pt(O,$,Q){S&&S.abort(),S=null,le=O,B=(Q&&Q.startUninterruptedRevalidation)===!0,Dn(j.location,j.matches),N=(Q&&Q.preventScrollReset)===!0,A=(Q&&Q.enableViewTransition)===!0;let J=u||a,pe=Q&&Q.overrideNavigation,ve=ms(J,$,h),Pe=(Q&&Q.flushSync)===!0,me=gr(ve,J,$.pathname);if(me.active&&me.matches&&(ve=me.matches),!ve){let{error:Qe,notFoundMatches:rt,route:ut}=mr($.pathname);st($,{matches:rt,loaderData:{},errors:{[ut.id]:Qe}},{flushSync:Pe});return}if(j.initialized&&!k&&n0(j.location,$)&&!(Q&&Q.submission&&Dr(Q.submission.formMethod))){st($,{matches:ve},{flushSync:Pe});return}S=new AbortController;let we=da(n.history,$,S.signal,Q&&Q.submission),ue;if(Q&&Q.pendingError)ue=[fo(ve).route.id,{type:"error",error:Q.pendingError}];else if(Q&&Q.submission&&Dr(Q.submission.formMethod)){let Qe=await cn(we,$,Q.submission,ve,me.active,{replace:Q.replace,flushSync:Pe});if(Qe.shortCircuited)return;if(Qe.pendingActionResult){let[rt,ut]=Qe.pendingActionResult;if(nr(ut)&&md(ut.error)&&ut.error.status===404){S=null,st($,{matches:Qe.matches,loaderData:{},errors:{[rt]:ut.error}});return}}ve=Qe.matches||ve,ue=Qe.pendingActionResult,pe=Tf($,Q.submission),Pe=!1,me.active=!1,we=da(n.history,we.url,we.signal)}let{shortCircuited:be,matches:je,loaderData:lt,errors:kt}=await nt(we,$,ve,me.active,pe,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,Pe,ue);be||(S=null,st($,{matches:je||ve,...u_(ue),loaderData:lt,errors:kt}))}async function cn(O,$,Q,J,pe,ve={}){Gn();let Pe=s0($,Q);if(Le({navigation:Pe},{flushSync:ve.flushSync===!0}),pe){let ue=await Rn(J,$.pathname,O.signal);if(ue.type==="aborted")return{shortCircuited:!0};if(ue.type==="error"){let be=fo(ue.partialMatches).route.id;return{matches:ue.partialMatches,pendingActionResult:[be,{type:"error",error:ue.error}]}}else if(ue.matches)J=ue.matches;else{let{notFoundMatches:be,error:je,route:lt}=mr($.pathname);return{matches:be,pendingActionResult:[lt.id,{type:"error",error:je}]}}}let me,we=Il(J,$);if(!we.route.action&&!we.route.lazy)me={type:"error",error:hr(405,{method:O.method,pathname:$.pathname,routeId:we.route.id})};else if(me=(await Kn("action",j,O,[we],J,null))[we.route.id],O.signal.aborted)return{shortCircuited:!0};if(yo(me)){let ue;return ve&&ve.replace!=null?ue=ve.replace:ue=s_(me.response.headers.get("Location"),new URL(O.url),h)===j.location.pathname+j.location.search,await Ft(O,me,!0,{submission:Q,replace:ue}),{shortCircuited:!0}}if(nr(me)){let ue=fo(J,we.route.id);return(ve&&ve.replace)!==!0&&(le="PUSH"),{matches:J,pendingActionResult:[ue.route.id,me]}}return{matches:J,pendingActionResult:[we.route.id,me]}}async function nt(O,$,Q,J,pe,ve,Pe,me,we,ue,be){let je=pe||Tf($,ve),lt=ve||Pe||h_(je),kt=!B&&!we;if(J){if(kt){let _t=Hn(be);Le({navigation:je,..._t!==void 0?{actionData:_t}:{}},{flushSync:ue})}let Ze=await Rn(Q,$.pathname,O.signal);if(Ze.type==="aborted")return{shortCircuited:!0};if(Ze.type==="error"){let _t=fo(Ze.partialMatches).route.id;return{matches:Ze.partialMatches,loaderData:{},errors:{[_t]:Ze.error}}}else if(Ze.matches)Q=Ze.matches;else{let{error:_t,notFoundMatches:en,route:Er}=mr($.pathname);return{matches:en,loaderData:{},errors:{[Er.id]:_t}}}}let Qe=u||a,[rt,ut]=n_(n.history,j,Q,lt,$,we===!0,k,at,X,he,_e,Qe,h,be);if(Be=++dt,rt.length===0&&ut.length===0){let Ze=jr();return st($,{matches:Q,loaderData:{},errors:be&&nr(be[1])?{[be[0]]:be[1].error}:null,...u_(be),...Ze?{fetchers:new Map(j.fetchers)}:{}},{flushSync:ue}),{shortCircuited:!0}}if(kt){let Ze={};if(!J){Ze.navigation=je;let _t=Hn(be);_t!==void 0&&(Ze.actionData=_t)}ut.length>0&&(Ze.fetchers=Wn(ut)),Le(Ze,{flushSync:ue})}ut.forEach(Ze=>{Jt(Ze.key),Ze.controller&&ze.set(Ze.key,Ze.controller)});let yr=()=>ut.forEach(Ze=>Jt(Ze.key));S&&S.signal.addEventListener("abort",yr);let{loaderResults:_r,fetcherResults:fn}=await pr(j,Q,rt,ut,O);if(O.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",yr),ut.forEach(Ze=>ze.delete(Ze.key));let Zt=gc(_r);if(Zt)return await Ft(O,Zt.result,!0,{replace:me}),{shortCircuited:!0};if(Zt=gc(fn),Zt)return _e.add(Zt.key),await Ft(O,Zt.result,!0,{replace:me}),{shortCircuited:!0};let{loaderData:di,errors:$r}=a_(j,Q,_r,be,ut,fn);we&&j.errors&&($r={...j.errors,...$r});let vr=jr(),ct=Ui(Be),hi=vr||ct||ut.length>0;return{matches:Q,loaderData:di,errors:$r,...hi?{fetchers:new Map(j.fetchers)}:{}}}function Hn(O){if(O&&!nr(O[1]))return{[O[0]]:O[1].data};if(j.actionData)return Object.keys(j.actionData).length===0?null:j.actionData}function Wn(O){return O.forEach($=>{let Q=j.fetchers.get($.key),J=El(void 0,Q?Q.data:void 0);j.fetchers.set($.key,J)}),new Map(j.fetchers)}async function Fi(O,$,Q,J){Jt(O);let pe=(J&&J.flushSync)===!0,ve=u||a,Pe=Wf(j.location,j.matches,h,Q,$,J==null?void 0:J.relative),me=ms(ve,Pe,h),we=gr(me,ve,Pe);if(we.active&&we.matches&&(me=we.matches),!me){Se(O,$,hr(404,{pathname:Pe}),{flushSync:pe});return}let{path:ue,submission:be,error:je}=e_(!0,Pe,J);if(je){Se(O,$,je,{flushSync:pe});return}let lt=Il(me,ue),kt=(J&&J.preventScrollReset)===!0;if(be&&Dr(be.formMethod)){await Fr(O,$,ue,lt,me,we.active,pe,kt,be);return}he.set(O,{routeId:$,path:ue}),await qn(O,$,ue,lt,me,we.active,pe,kt,be)}async function Fr(O,$,Q,J,pe,ve,Pe,me,we){Gn(),he.delete(O);function ue(vt){if(!vt.route.action&&!vt.route.lazy){let bn=hr(405,{method:we.formMethod,pathname:Q,routeId:$});return Se(O,$,bn,{flushSync:Pe}),!0}return!1}if(!ve&&ue(J))return;let be=j.fetchers.get(O);dn(O,o0(we,be),{flushSync:Pe});let je=new AbortController,lt=da(n.history,Q,je.signal,we);if(ve){let vt=await Rn(pe,Q,lt.signal);if(vt.type==="aborted")return;if(vt.type==="error"){Se(O,$,vt.error,{flushSync:Pe});return}else if(vt.matches){if(pe=vt.matches,J=Il(pe,Q),ue(J))return}else{Se(O,$,hr(404,{pathname:Q}),{flushSync:Pe});return}}ze.set(O,je);let kt=dt,rt=(await Kn("action",j,lt,[J],pe,O))[J.route.id];if(lt.signal.aborted){ze.get(O)===je&&ze.delete(O);return}if(X.has(O)){if(yo(rt)||nr(rt)){dn(O,fs(void 0));return}}else{if(yo(rt))if(ze.delete(O),Be>kt){dn(O,fs(void 0));return}else return _e.add(O),dn(O,El(we)),Ft(lt,rt,!1,{fetcherSubmission:we,preventScrollReset:me});if(nr(rt)){Se(O,$,rt.error);return}}let ut=j.navigation.location||j.location,yr=da(n.history,ut,je.signal),_r=u||a,fn=j.navigation.state!=="idle"?ms(_r,j.navigation.location,h):j.matches;Je(fn,"Didn't find any matches after fetcher action");let Zt=++dt;te.set(O,Zt);let di=El(we,rt.data);j.fetchers.set(O,di);let[$r,vr]=n_(n.history,j,fn,we,ut,!1,k,at,X,he,_e,_r,h,[J.route.id,rt]);vr.filter(vt=>vt.key!==O).forEach(vt=>{let bn=vt.key,pn=j.fetchers.get(bn),No=El(void 0,pn?pn.data:void 0);j.fetchers.set(bn,No),Jt(bn),vt.controller&&ze.set(bn,vt.controller)}),Le({fetchers:new Map(j.fetchers)});let ct=()=>vr.forEach(vt=>Jt(vt.key));je.signal.addEventListener("abort",ct);let{loaderResults:hi,fetcherResults:Ze}=await pr(j,fn,$r,vr,yr);if(je.signal.aborted)return;je.signal.removeEventListener("abort",ct),te.delete(O),ze.delete(O),vr.forEach(vt=>ze.delete(vt.key));let _t=gc(hi);if(_t)return Ft(yr,_t.result,!1,{preventScrollReset:me});if(_t=gc(Ze),_t)return _e.add(_t.key),Ft(yr,_t.result,!1,{preventScrollReset:me});let{loaderData:en,errors:Er}=a_(j,fn,hi,void 0,vr,Ze);if(j.fetchers.has(O)){let vt=fs(rt.data);j.fetchers.set(O,vt)}Ui(Zt),j.navigation.state==="loading"&&Zt>Be?(Je(le,"Expected pending action"),S&&S.abort(),st(j.navigation.location,{matches:fn,loaderData:en,errors:Er,fetchers:new Map(j.fetchers)})):(Le({errors:Er,loaderData:l_(j.loaderData,en,fn,Er),fetchers:new Map(j.fetchers)}),k=!1)}async function qn(O,$,Q,J,pe,ve,Pe,me,we){let ue=j.fetchers.get(O);dn(O,El(we,ue?ue.data:void 0),{flushSync:Pe});let be=new AbortController,je=da(n.history,Q,be.signal);if(ve){let rt=await Rn(pe,Q,je.signal);if(rt.type==="aborted")return;if(rt.type==="error"){Se(O,$,rt.error,{flushSync:Pe});return}else if(rt.matches)pe=rt.matches,J=Il(pe,Q);else{Se(O,$,hr(404,{pathname:Q}),{flushSync:Pe});return}}ze.set(O,be);let lt=dt,Qe=(await Kn("loader",j,je,[J],pe,O))[J.route.id];if(ze.get(O)===be&&ze.delete(O),!je.signal.aborted){if(X.has(O)){dn(O,fs(void 0));return}if(yo(Qe))if(Be>lt){dn(O,fs(void 0));return}else{_e.add(O),await Ft(je,Qe,!1,{preventScrollReset:me});return}if(nr(Qe)){Se(O,$,Qe.error);return}dn(O,fs(Qe.data))}}async function Ft(O,$,Q,{submission:J,fetcherSubmission:pe,preventScrollReset:ve,replace:Pe}={}){$.response.headers.has("X-Remix-Revalidate")&&(k=!0);let me=$.response.headers.get("Location");Je(me,"Expected a Location header on the redirect Response"),me=s_(me,new URL(O.url),h);let we=Ml(j.location,me,{_isRedirect:!0});if(t){let Qe=!1;if($.response.headers.has("X-Remix-Reload-Document"))Qe=!0;else if(xp.test(me)){const rt=n.history.createURL(me);Qe=rt.origin!==e.location.origin||Or(rt.pathname,h)==null}if(Qe){Pe?e.location.replace(me):e.location.assign(me);return}}S=null;let ue=Pe===!0||$.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:be,formAction:je,formEncType:lt}=j.navigation;!J&&!pe&&be&&je&&lt&&(J=h_(j.navigation));let kt=J||pe;if($S.has($.response.status)&&kt&&Dr(kt.formMethod))await Pt(ue,we,{submission:{...kt,formAction:me},preventScrollReset:ve||N,enableViewTransition:Q?A:void 0});else{let Qe=Tf(we,J);await Pt(ue,we,{overrideNavigation:Qe,fetcherSubmission:pe,preventScrollReset:ve||N,enableViewTransition:Q?A:void 0})}}async function Kn(O,$,Q,J,pe,ve){let Pe,me={};try{Pe=await XS(f,O,$,Q,J,pe,ve,o,i)}catch(we){return J.forEach(ue=>{me[ue.route.id]={type:"error",error:we}}),me}for(let[we,ue]of Object.entries(Pe))if(r0(ue)){let be=ue.result;me[we]={type:"redirect",response:e0(be,Q,we,pe,h)}}else me[we]=await ZS(ue);return me}async function pr(O,$,Q,J,pe){let ve=Kn("loader",O,pe,Q,$,null),Pe=Promise.all(J.map(async ue=>{if(ue.matches&&ue.match&&ue.controller){let je=(await Kn("loader",O,da(n.history,ue.path,ue.controller.signal),[ue.match],ue.matches,ue.key))[ue.match.route.id];return{[ue.key]:je}}else return Promise.resolve({[ue.key]:{type:"error",error:hr(404,{pathname:ue.path})}})})),me=await ve,we=(await Pe).reduce((ue,be)=>Object.assign(ue,be),{});return{loaderResults:me,fetcherResults:we}}function Gn(){k=!0,he.forEach((O,$)=>{ze.has($)&&at.add($),Jt($)})}function dn(O,$,Q={}){j.fetchers.set(O,$),Le({fetchers:new Map(j.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function Se(O,$,Q,J={}){let pe=fo(j.matches,$);hn(O),Le({errors:{[pe.route.id]:Q},fetchers:new Map(j.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function ft(O){return U.set(O,(U.get(O)||0)+1),X.has(O)&&X.delete(O),j.fetchers.get(O)||zS}function hn(O){let $=j.fetchers.get(O);ze.has(O)&&!($&&$.state==="loading"&&te.has(O))&&Jt(O),he.delete(O),te.delete(O),_e.delete(O),X.delete(O),at.delete(O),j.fetchers.delete(O)}function $s(O){let $=(U.get(O)||0)-1;$<=0?(U.delete(O),X.add(O)):U.set(O,$),Le({fetchers:new Map(j.fetchers)})}function Jt(O){let $=ze.get(O);$&&($.abort(),ze.delete(O))}function Ur(O){for(let $ of O){let Q=ft($),J=fs(Q.data);j.fetchers.set($,J)}}function jr(){let O=[],$=!1;for(let Q of _e){let J=j.fetchers.get(Q);Je(J,`Expected fetcher: ${Q}`),J.state==="loading"&&(_e.delete(Q),O.push(Q),$=!0)}return Ur(O),$}function Ui(O){let $=[];for(let[Q,J]of te)if(J<O){let pe=j.fetchers.get(Q);Je(pe,`Expected fetcher: ${Q}`),pe.state==="loading"&&(Jt(Q),te.delete(Q),$.push(Q))}return Ur($),$.length>0}function zs(O,$){let Q=j.blockers.get(O)||vl;return fe.get(O)!==$&&fe.set(O,$),Q}function ji(O){j.blockers.delete(O),fe.delete(O)}function Br(O,$){let Q=j.blockers.get(O)||vl;Je(Q.state==="unblocked"&&$.state==="blocked"||Q.state==="blocked"&&$.state==="blocked"||Q.state==="blocked"&&$.state==="proceeding"||Q.state==="blocked"&&$.state==="unblocked"||Q.state==="proceeding"&&$.state==="unblocked",`Invalid blocker state transition: ${Q.state} -> ${$.state}`);let J=new Map(j.blockers);J.set(O,$),Le({blockers:J})}function Bi({currentLocation:O,nextLocation:$,historyAction:Q}){if(fe.size===0)return;fe.size>1&&ln(!1,"A router only supports one blocker at a time");let J=Array.from(fe.entries()),[pe,ve]=J[J.length-1],Pe=j.blockers.get(pe);if(!(Pe&&Pe.state==="proceeding")&&ve({currentLocation:O,nextLocation:$,historyAction:Q}))return pe}function mr(O){let $=hr(404,{pathname:O}),Q=u||a,{matches:J,route:pe}=c_(Q);return{notFoundMatches:J,route:pe,error:$}}function $i(O,$,Q){if(C=O,z=$,b=Q||null,!F&&j.navigation===wf){F=!0;let J=Qn(j.location,j.matches);J!=null&&Le({restoreScrollPosition:J})}return()=>{C=null,z=null,b=null}}function ui(O,$){return b&&b(O,$.map(J=>ES(J,j.loaderData)))||O.key}function Dn(O,$){if(C&&z){let Q=ui(O,$);C[Q]=z()}}function Qn(O,$){if(C){let Q=ui(O,$),J=C[Q];if(typeof J=="number")return J}return null}function gr(O,$,Q){if(m)if(O){if(Object.keys(O[0].params).length>0)return{active:!0,matches:kc($,Q,h,!0)}}else return{active:!0,matches:kc($,Q,h,!0)||[]};return{active:!1,matches:null}}async function Rn(O,$,Q){if(!m)return{type:"success",matches:O};let J=O;for(;;){let pe=u==null,ve=u||a,Pe=o;try{await m({path:$,matches:J,patch:(ue,be)=>{Q.aborted||i_(ue,be,ve,Pe,i)}})}catch(ue){return{type:"error",error:ue,partialMatches:J}}finally{pe&&!Q.aborted&&(a=[...a])}if(Q.aborted)return{type:"aborted"};let me=ms(ve,$,h);if(me)return{type:"success",matches:me};let we=kc(ve,$,h,!0);if(!we||J.length===we.length&&J.every((ue,be)=>ue.route.id===we[be].route.id))return{type:"success",matches:null};J=we}}function Hs(O){o={},u=Wc(O,i,void 0,o)}function ci(O,$){let Q=u==null;i_(O,$,u||a,o,i),Q&&(a=[...a],Le({}))}return de={get basename(){return h},get future(){return v},get state(){return j},get routes(){return a},get window(){return e},initialize:$e,subscribe:qe,enableScrollRestoration:$i,navigate:Xt,fetch:Fi,revalidate:Sn,createHref:O=>n.history.createHref(O),encodeLocation:O=>n.history.encodeLocation(O),getFetcher:ft,deleteFetcher:$s,dispose:He,getBlocker:zs,deleteBlocker:ji,patchRoutes:ci,_internalFetchControllers:ze,_internalSetRoutes:Hs},de}function qS(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Wf(n,e,t,i,o,a){let u,h;if(o){u=[];for(let m of e)if(u.push(m),m.route.id===o){h=m;break}}else u=e,h=e[e.length-1];let f=kp(i||".",Pp(u),Or(n.pathname,t)||n.pathname,a==="path");if(i==null&&(f.search=n.search,f.hash=n.hash),(i==null||i===""||i===".")&&h){let m=Np(f.search);if(h.route.index&&!m)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&m){let v=new URLSearchParams(f.search),w=v.getAll("index");v.delete("index"),w.filter(C=>C).forEach(C=>v.append("index",C));let T=v.toString();f.search=T?`?${T}`:""}}return t!=="/"&&(f.pathname=f.pathname==="/"?t:ti([t,f.pathname])),ks(f)}function e_(n,e,t){if(!t||!qS(t))return{path:e};if(t.formMethod&&!i0(t.formMethod))return{path:e,error:hr(405,{method:t.formMethod})};let i=()=>({path:e,error:hr(400,{type:"invalid-body"})}),a=(t.formMethod||"get").toUpperCase(),u=nE(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Dr(a))return i();let w=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((T,[C,b])=>`${T}${C}=${b}
`,""):String(t.body);return{path:e,submission:{formMethod:a,formAction:u,formEncType:t.formEncType,formData:void 0,json:void 0,text:w}}}else if(t.formEncType==="application/json"){if(!Dr(a))return i();try{let w=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:a,formAction:u,formEncType:t.formEncType,formData:void 0,json:w,text:void 0}}}catch{return i()}}}Je(typeof FormData=="function","FormData is not available in this environment");let h,f;if(t.formData)h=Kf(t.formData),f=t.formData;else if(t.body instanceof FormData)h=Kf(t.body),f=t.body;else if(t.body instanceof URLSearchParams)h=t.body,f=o_(h);else if(t.body==null)h=new URLSearchParams,f=new FormData;else try{h=new URLSearchParams(t.body),f=o_(h)}catch{return i()}let m={formMethod:a,formAction:u,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Dr(m.formMethod))return{path:e,submission:m};let v=Os(e);return n&&v.search&&Np(v.search)&&h.append("index",""),v.search=`?${h}`,{path:ks(v),submission:m}}function t_(n,e,t=!1){let i=n.findIndex(o=>o.route.id===e);return i>=0?n.slice(0,t?i+1:i):n}function n_(n,e,t,i,o,a,u,h,f,m,v,w,T,C){let b=C?nr(C[1])?C[1].error:C[1].data:void 0,z=n.createURL(e.location),F=n.createURL(o),W=t;a&&e.errors?W=t_(t,Object.keys(e.errors)[0],!0):C&&nr(C[1])&&(W=t_(t,C[0]));let re=C?C[1].statusCode:void 0,ee=re&&re>=400,de=W.filter((le,N)=>{let{route:S}=le;if(S.lazy)return!0;if(S.loader==null)return!1;if(a)return qf(S,e.loaderData,e.errors);if(KS(e.loaderData,e.matches[N],le))return!0;let A=e.matches[N],D=le;return r_(le,{currentUrl:z,currentParams:A.params,nextUrl:F,nextParams:D.params,...i,actionResult:b,actionStatus:re,defaultShouldRevalidate:ee?!1:u||z.pathname+z.search===F.pathname+F.search||z.search!==F.search||GS(A,D)})}),j=[];return m.forEach((le,N)=>{if(a||!t.some(B=>B.route.id===le.routeId)||f.has(N))return;let S=ms(w,le.path,T);if(!S){j.push({key:N,routeId:le.routeId,path:le.path,matches:null,match:null,controller:null});return}let A=e.fetchers.get(N),D=Il(S,le.path),M=!1;v.has(N)?M=!1:h.has(N)?(h.delete(N),M=!0):A&&A.state!=="idle"&&A.data===void 0?M=u:M=r_(D,{currentUrl:z,currentParams:e.matches[e.matches.length-1].params,nextUrl:F,nextParams:t[t.length-1].params,...i,actionResult:b,actionStatus:re,defaultShouldRevalidate:ee?!1:u}),M&&j.push({key:N,routeId:le.routeId,path:le.path,matches:S,match:D,controller:new AbortController})}),[de,j]}function qf(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,o=t!=null&&t[n.id]!==void 0;return!i&&o?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!o}function KS(n,e,t){let i=!e||t.route.id!==e.route.id,o=!n.hasOwnProperty(t.route.id);return i||o}function GS(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function r_(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function i_(n,e,t,i,o){let a;if(n){let f=i[n];Je(f,`No route found to patch children into: routeId = ${n}`),f.children||(f.children=[]),a=f.children}else a=t;let u=e.filter(f=>!a.some(m=>tE(f,m))),h=Wc(u,o,[n||"_","patch",String((a==null?void 0:a.length)||"0")],i);a.push(...h)}function tE(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var o;return(o=e.children)==null?void 0:o.some(a=>tE(t,a))}):!1}async function QS(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let o=t[n.id];Je(o,"No route found in manifest");let a={};for(let u in i){let f=o[u]!==void 0&&u!=="hasErrorBoundary";ln(!f,`Route "${o.id}" has a static property "${u}" defined but its lazy function is also returning a value for this property. The lazy route property "${u}" will be ignored.`),!f&&!_S.has(u)&&(a[u]=i[u])}Object.assign(o,a),Object.assign(o,{...e(o),lazy:void 0})}async function YS({matches:n}){let e=n.filter(i=>i.shouldLoad);return(await Promise.all(e.map(i=>i.resolve()))).reduce((i,o,a)=>Object.assign(i,{[e[a].route.id]:o}),{})}async function XS(n,e,t,i,o,a,u,h,f,m){let v=a.map(C=>C.route.lazy?QS(C.route,f,h):void 0),w=a.map((C,b)=>{let z=v[b],F=o.some(re=>re.route.id===C.route.id);return{...C,shouldLoad:F,resolve:async re=>(re&&i.method==="GET"&&(C.route.lazy||C.route.loader)&&(F=!0),F?JS(e,i,C,z,re,m):Promise.resolve({type:"data",result:void 0}))}}),T=await n({matches:w,request:i,params:a[0].params,fetcherKey:u,context:m});try{await Promise.all(v)}catch{}return T}async function JS(n,e,t,i,o,a){let u,h,f=m=>{let v,w=new Promise((b,z)=>v=z);h=()=>v(),e.signal.addEventListener("abort",h);let T=b=>typeof m!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):m({request:e,params:t.params,context:a},...b!==void 0?[b]:[]),C=(async()=>{try{return{type:"data",result:await(o?o(z=>T(z)):T())}}catch(b){return{type:"error",result:b}}})();return Promise.race([C,w])};try{let m=t.route[n];if(i)if(m){let v,[w]=await Promise.all([f(m).catch(T=>{v=T}),i]);if(v!==void 0)throw v;u=w}else if(await i,m=t.route[n],m)u=await f(m);else if(n==="action"){let v=new URL(e.url),w=v.pathname+v.search;throw hr(405,{method:e.method,pathname:w,routeId:t.route.id})}else return{type:"data",result:void 0};else if(m)u=await f(m);else{let v=new URL(e.url),w=v.pathname+v.search;throw hr(404,{pathname:w})}}catch(m){return{type:"error",result:m}}finally{h&&e.signal.removeEventListener("abort",h)}return u}async function ZS(n){var i,o,a,u;let{result:e,type:t}=n;if(rE(e)){let h;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(f){return{type:"error",error:f}}return t==="error"?{type:"error",error:new Kc(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:"data",data:h,statusCode:e.status,headers:e.headers}}if(t==="error"){if(d_(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status};e=new Kc(((o=e.init)==null?void 0:o.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:md(e)?e.status:void 0}}return d_(e)?{type:"data",data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function e0(n,e,t,i,o){let a=n.headers.get("Location");if(Je(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!xp.test(a)){let u=i.slice(0,i.findIndex(h=>h.route.id===t)+1);a=Wf(new URL(e.url),u,o,a),n.headers.set("Location",a)}return n}function s_(n,e,t){if(xp.test(n)){let i=n,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i),a=Or(o.pathname,t)!=null;if(o.origin===e.origin&&a)return o.pathname+o.search+o.hash}return n}function da(n,e,t,i){let o=n.createURL(nE(e)).toString(),a={signal:t};if(i&&Dr(i.formMethod)){let{formMethod:u,formEncType:h}=i;a.method=u.toUpperCase(),h==="application/json"?(a.headers=new Headers({"Content-Type":h}),a.body=JSON.stringify(i.json)):h==="text/plain"?a.body=i.text:h==="application/x-www-form-urlencoded"&&i.formData?a.body=Kf(i.formData):a.body=i.formData}return new Request(o,a)}function Kf(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function o_(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function t0(n,e,t,i=!1,o=!1){let a={},u=null,h,f=!1,m={},v=t&&nr(t[1])?t[1].error:void 0;return n.forEach(w=>{if(!(w.route.id in e))return;let T=w.route.id,C=e[T];if(Je(!yo(C),"Cannot handle redirect results in processLoaderData"),nr(C)){let b=C.error;if(v!==void 0&&(b=v,v=void 0),u=u||{},o)u[T]=b;else{let z=fo(n,T);u[z.route.id]==null&&(u[z.route.id]=b)}i||(a[T]=eE),f||(f=!0,h=md(C.error)?C.error.status:500),C.headers&&(m[T]=C.headers)}else a[T]=C.data,C.statusCode&&C.statusCode!==200&&!f&&(h=C.statusCode),C.headers&&(m[T]=C.headers)}),v!==void 0&&t&&(u={[t[0]]:v},a[t[0]]=void 0),{loaderData:a,errors:u,statusCode:h||200,loaderHeaders:m}}function a_(n,e,t,i,o,a){let{loaderData:u,errors:h}=t0(e,t,i);return o.forEach(f=>{let{key:m,match:v,controller:w}=f,T=a[m];if(Je(T,"Did not find corresponding fetcher result"),!(w&&w.signal.aborted))if(nr(T)){let C=fo(n.matches,v==null?void 0:v.route.id);h&&h[C.route.id]||(h={...h,[C.route.id]:T.error}),n.fetchers.delete(m)}else if(yo(T))Je(!1,"Unhandled fetcher revalidation redirect");else{let C=fs(T.data);n.fetchers.set(m,C)}}),{loaderData:u,errors:h}}function l_(n,e,t,i){let o=Object.entries(e).filter(([,a])=>a!==eE).reduce((a,[u,h])=>(a[u]=h,a),{});for(let a of t){let u=a.route.id;if(!e.hasOwnProperty(u)&&n.hasOwnProperty(u)&&a.route.loader&&(o[u]=n[u]),i&&i.hasOwnProperty(u))break}return o}function u_(n){return n?nr(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function fo(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function c_(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function hr(n,{pathname:e,routeId:t,method:i,type:o,message:a}={}){let u="Unknown Server Error",h="Unknown @remix-run/router error";return n===400?(u="Bad Request",i&&e&&t?h=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(h="Unable to encode submission body")):n===403?(u="Forbidden",h=`Route "${t}" does not match URL "${e}"`):n===404?(u="Not Found",h=`No route matches URL "${e}"`):n===405&&(u="Method Not Allowed",i&&e&&t?h=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(h=`Invalid request method "${i.toUpperCase()}"`)),new Kc(n||500,u,new Error(h),!0)}function gc(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,o]=e[t];if(yo(o))return{key:i,result:o}}}function nE(n){let e=typeof n=="string"?Os(n):n;return ks({...e,hash:""})}function n0(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function r0(n){return rE(n.result)&&BS.has(n.result.status)}function nr(n){return n.type==="error"}function yo(n){return(n&&n.type)==="redirect"}function d_(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function rE(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function i0(n){return jS.has(n.toUpperCase())}function Dr(n){return FS.has(n.toUpperCase())}function Np(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Il(n,e){let t=typeof e=="string"?Os(e).search:e.search;if(n[n.length-1].route.index&&Np(t||""))return n[n.length-1];let i=Xv(n);return i[i.length-1]}function h_(n){let{formMethod:e,formAction:t,formEncType:i,text:o,formData:a,json:u}=n;if(!(!e||!t||!i)){if(o!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:o};if(a!=null)return{formMethod:e,formAction:t,formEncType:i,formData:a,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:u,text:void 0}}}function Tf(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function s0(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function El(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function o0(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function fs(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function a0(n,e){try{let t=n.sessionStorage.getItem(Zv);if(t){let i=JSON.parse(t);for(let[o,a]of Object.entries(i||{}))a&&Array.isArray(a)&&e.set(o,new Set(a||[]))}}catch{}}function l0(n,e){if(e.size>0){let t={};for(let[i,o]of e)t[i]=[...o];try{n.sessionStorage.setItem(Zv,JSON.stringify(t))}catch(i){ln(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function u0(){let n,e,t=new Promise((i,o)=>{n=async a=>{i(a);try{await t}catch{}},e=async a=>{o(a);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Ro=R.createContext(null);Ro.displayName="DataRouter";var ql=R.createContext(null);ql.displayName="DataRouterState";var Dp=R.createContext({isTransitioning:!1});Dp.displayName="ViewTransition";var iE=R.createContext(new Map);iE.displayName="Fetchers";var c0=R.createContext(null);c0.displayName="Await";var li=R.createContext(null);li.displayName="Navigation";var gd=R.createContext(null);gd.displayName="Location";var Vr=R.createContext({outlet:null,matches:[],isDataRoute:!1});Vr.displayName="Route";var bp=R.createContext(null);bp.displayName="RouteError";function d0(n,{relative:e}={}){Je(Kl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=R.useContext(li),{hash:o,pathname:a,search:u}=Gl(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:ti([t,a])),i.createHref({pathname:h,search:u,hash:o})}function Kl(){return R.useContext(gd)!=null}function Co(){return Je(Kl(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(gd).location}var sE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oE(n){R.useContext(li).static||R.useLayoutEffect(n)}function Ms(){let{isDataRoute:n}=R.useContext(Vr);return n?A0():h0()}function h0(){Je(Kl(),"useNavigate() may be used only in the context of a <Router> component.");let n=R.useContext(Ro),{basename:e,navigator:t}=R.useContext(li),{matches:i}=R.useContext(Vr),{pathname:o}=Co(),a=JSON.stringify(Pp(i)),u=R.useRef(!1);return oE(()=>{u.current=!0}),R.useCallback((f,m={})=>{if(ln(u.current,sE),!u.current)return;if(typeof f=="number"){t.go(f);return}let v=kp(f,JSON.parse(a),o,m.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ti([e,v.pathname])),(m.replace?t.replace:t.push)(v,m.state,m)},[e,t,a,o,n])}var f0=R.createContext(null);function p0(n){let e=R.useContext(Vr).outlet;return e&&R.createElement(f0.Provider,{value:n},e)}function m0(){let{matches:n}=R.useContext(Vr),e=n[n.length-1];return e?e.params:{}}function Gl(n,{relative:e}={}){let{matches:t}=R.useContext(Vr),{pathname:i}=Co(),o=JSON.stringify(Pp(t));return R.useMemo(()=>kp(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function g0(n,e,t,i){Je(Kl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=R.useContext(li),{matches:a}=R.useContext(Vr),u=a[a.length-1],h=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",v=u&&u.route;{let W=v&&v.path||"";aE(f,!v||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let w=Co(),T;T=w;let C=T.pathname||"/",b=C;if(m!=="/"){let W=m.replace(/^\//,"").split("/");b="/"+C.replace(/^\//,"").split("/").slice(W.length).join("/")}let z=ms(n,{pathname:b});return ln(v||z!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),ln(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),w0(z&&z.map(W=>Object.assign({},W,{params:Object.assign({},h,W.params),pathname:ti([m,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?m:ti([m,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),a,t,i)}function y0(){let n=C0(),e=md(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:a},"ErrorBoundary")," or"," ",R.createElement("code",{style:a},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),t?R.createElement("pre",{style:o},t):null,u)}var _0=R.createElement(y0,null),v0=class extends R.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?R.createElement(Vr.Provider,{value:this.props.routeContext},R.createElement(bp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function E0({routeContext:n,match:e,children:t}){let i=R.useContext(Ro);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Vr.Provider,{value:n},t)}function w0(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let f=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);Je(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:v,errors:w}=t,T=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!w||w[m.route.id]===void 0);if(m.route.lazy||T){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((f,m,v)=>{let w,T=!1,C=null,b=null;t&&(w=a&&m.route.id?a[m.route.id]:void 0,C=m.route.errorElement||_0,u&&(h<0&&v===0?(aE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,b=null):h===v&&(T=!0,b=m.route.hydrateFallbackElement||null)));let z=e.concat(o.slice(0,v+1)),F=()=>{let W;return w?W=C:T?W=b:m.route.Component?W=R.createElement(m.route.Component,null):m.route.element?W=m.route.element:W=f,R.createElement(E0,{match:m,routeContext:{outlet:f,matches:z,isDataRoute:t!=null},children:W})};return t&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?R.createElement(v0,{location:t.location,revalidation:t.revalidation,component:C,error:w,children:F(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):F()},null)}function Lp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T0(n){let e=R.useContext(Ro);return Je(e,Lp(n)),e}function I0(n){let e=R.useContext(ql);return Je(e,Lp(n)),e}function S0(n){let e=R.useContext(Vr);return Je(e,Lp(n)),e}function Op(n){let e=S0(n),t=e.matches[e.matches.length-1];return Je(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function R0(){return Op("useRouteId")}function C0(){var i;let n=R.useContext(bp),e=I0("useRouteError"),t=Op("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function A0(){let{router:n}=T0("useNavigate"),e=Op("useNavigate"),t=R.useRef(!1);return oE(()=>{t.current=!0}),R.useCallback(async(o,a={})=>{ln(t.current,sE),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var f_={};function aE(n,e,t){!e&&!f_[n]&&(f_[n]=!0,ln(!1,t))}var p_={};function m_(n,e){!n&&!p_[e]&&(p_[e]=!0,console.warn(e))}function P0(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&ln(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:R.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&ln(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:R.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&ln(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:R.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var k0=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function x0({router:n,flushSync:e}){let[t,i]=R.useState(n.state),[o,a]=R.useState(),[u,h]=R.useState({isTransitioning:!1}),[f,m]=R.useState(),[v,w]=R.useState(),[T,C]=R.useState(),b=R.useRef(new Map),z=R.useCallback((ee,{deletedFetchers:de,flushSync:j,viewTransitionOpts:le})=>{ee.fetchers.forEach((S,A)=>{S.data!==void 0&&b.current.set(A,S.data)}),de.forEach(S=>b.current.delete(S)),m_(j===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let N=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(m_(le==null||N,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!le||!N){e&&j?e(()=>i(ee)):R.startTransition(()=>i(ee));return}if(e&&j){e(()=>{v&&(f&&f.resolve(),v.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:le.currentLocation,nextLocation:le.nextLocation})});let S=n.window.document.startViewTransition(()=>{e(()=>i(ee))});S.finished.finally(()=>{e(()=>{m(void 0),w(void 0),a(void 0),h({isTransitioning:!1})})}),e(()=>w(S));return}v?(f&&f.resolve(),v.skipTransition(),C({state:ee,currentLocation:le.currentLocation,nextLocation:le.nextLocation})):(a(ee),h({isTransitioning:!0,flushSync:!1,currentLocation:le.currentLocation,nextLocation:le.nextLocation}))},[n.window,e,v,f]);R.useLayoutEffect(()=>n.subscribe(z),[n,z]),R.useEffect(()=>{u.isTransitioning&&!u.flushSync&&m(new k0)},[u]),R.useEffect(()=>{if(f&&o&&n.window){let ee=o,de=f.promise,j=n.window.document.startViewTransition(async()=>{R.startTransition(()=>i(ee)),await de});j.finished.finally(()=>{m(void 0),w(void 0),a(void 0),h({isTransitioning:!1})}),w(j)}},[o,f,n.window]),R.useEffect(()=>{f&&o&&t.location.key===o.location.key&&f.resolve()},[f,v,t.location,o]),R.useEffect(()=>{!u.isTransitioning&&T&&(a(T.state),h({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}),C(void 0))},[u.isTransitioning,T]);let F=R.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:ee=>n.navigate(ee),push:(ee,de,j)=>n.navigate(ee,{state:de,preventScrollReset:j==null?void 0:j.preventScrollReset}),replace:(ee,de,j)=>n.navigate(ee,{replace:!0,state:de,preventScrollReset:j==null?void 0:j.preventScrollReset})}),[n]),W=n.basename||"/",re=R.useMemo(()=>({router:n,navigator:F,static:!1,basename:W}),[n,F,W]);return R.createElement(R.Fragment,null,R.createElement(Ro.Provider,{value:re},R.createElement(ql.Provider,{value:t},R.createElement(iE.Provider,{value:b.current},R.createElement(Dp.Provider,{value:u},R.createElement(L0,{basename:W,location:t.location,navigationType:t.historyAction,navigator:F},R.createElement(N0,{routes:n.routes,future:n.future,state:t})))))),null)}var N0=R.memo(D0);function D0({routes:n,future:e,state:t}){return g0(n,void 0,t,e)}function b0(n){return p0(n.context)}function L0({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1}){Je(!Kl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=R.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=Os(t));let{pathname:f="/",search:m="",hash:v="",state:w=null,key:T="default"}=t,C=R.useMemo(()=>{let b=Or(f,u);return b==null?null:{location:{pathname:b,search:m,hash:v,state:w,key:T},navigationType:i}},[u,f,m,v,w,T,i]);return ln(C!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:R.createElement(li.Provider,{value:h},R.createElement(gd.Provider,{children:e,value:C}))}var xc="get",Nc="application/x-www-form-urlencoded";function yd(n){return n!=null&&typeof n.tagName=="string"}function O0(n){return yd(n)&&n.tagName.toLowerCase()==="button"}function M0(n){return yd(n)&&n.tagName.toLowerCase()==="form"}function V0(n){return yd(n)&&n.tagName.toLowerCase()==="input"}function F0(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function U0(n,e){return n.button===0&&(!e||e==="_self")&&!F0(n)}var yc=null;function j0(){if(yc===null)try{new FormData(document.createElement("form"),0),yc=!1}catch{yc=!0}return yc}var B0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function If(n){return n!=null&&!B0.has(n)?(ln(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nc}"`),null):n}function $0(n,e){let t,i,o,a,u;if(M0(n)){let h=n.getAttribute("action");i=h?Or(h,e):null,t=n.getAttribute("method")||xc,o=If(n.getAttribute("enctype"))||Nc,a=new FormData(n)}else if(O0(n)||V0(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?Or(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||xc,o=If(n.getAttribute("formenctype"))||If(h.getAttribute("enctype"))||Nc,a=new FormData(h,n),!j0()){let{name:m,type:v,value:w}=n;if(v==="image"){let T=m?`${m}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else m&&a.append(m,w)}}else{if(yd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=xc,i=null,o=Nc,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:u}}function Mp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function z0(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function H0(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function W0(n,e,t){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await z0(a,t);return u.links?u.links():[]}return[]}));return Q0(i.flat(1).filter(H0).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function g_(n,e,t,i,o,a){let u=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,h=(f,m)=>{var v;return t[m].pathname!==f.pathname||((v=t[m].route.path)==null?void 0:v.endsWith("*"))&&t[m].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,m)=>u(f,m)||h(f,m)):a==="data"?e.filter((f,m)=>{var w;let v=i.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let T=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function q0(n,e){return K0(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function K0(n){return[...new Set(n)]}function G0(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function Q0(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(G0(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}function Y0(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function X0(){let n=R.useContext(Ro);return Mp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function J0(){let n=R.useContext(ql);return Mp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Vp=R.createContext(void 0);Vp.displayName="FrameworkContext";function lE(){let n=R.useContext(Vp);return Mp(n,"You must render this element inside a <HydratedRouter> element"),n}function Z0(n,e){let t=R.useContext(Vp),[i,o]=R.useState(!1),[a,u]=R.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:v,onTouchStart:w}=e,T=R.useRef(null);R.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let z=W=>{W.forEach(re=>{u(re.isIntersecting)})},F=new IntersectionObserver(z,{threshold:.5});return T.current&&F.observe(T.current),()=>{F.disconnect()}}},[n]),R.useEffect(()=>{if(i){let z=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(z)}}},[i]);let C=()=>{o(!0)},b=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,T,{}]:[a,T,{onFocus:wl(h,C),onBlur:wl(f,b),onMouseEnter:wl(m,C),onMouseLeave:wl(v,b),onTouchStart:wl(w,C)}]:[!1,T,{}]}function wl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function eR({page:n,...e}){let{router:t}=X0(),i=R.useMemo(()=>ms(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?R.createElement(nR,{page:n,matches:i,...e}):null}function tR(n){let{manifest:e,routeModules:t}=lE(),[i,o]=R.useState([]);return R.useEffect(()=>{let a=!1;return W0(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),i}function nR({page:n,matches:e,...t}){let i=Co(),{manifest:o,routeModules:a}=lE(),{loaderData:u,matches:h}=J0(),f=R.useMemo(()=>g_(n,e,h,o,i,"data"),[n,e,h,o,i]),m=R.useMemo(()=>g_(n,e,h,o,i,"assets"),[n,e,h,o,i]),v=R.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let C=new Set,b=!1;if(e.forEach(F=>{var re;let W=o.routes[F.route.id];!W||!W.hasLoader||(!f.some(ee=>ee.route.id===F.route.id)&&F.route.id in u&&((re=a[F.route.id])!=null&&re.shouldRevalidate)||W.hasClientLoader?b=!0:C.add(F.route.id))}),C.size===0)return[];let z=Y0(n);return b&&C.size>0&&z.searchParams.set("_routes",e.filter(F=>C.has(F.route.id)).map(F=>F.route.id).join(",")),[z.pathname+z.search]},[u,i,o,f,e,n,a]),w=R.useMemo(()=>q0(m,o),[m,o]),T=tR(m);return R.createElement(R.Fragment,null,v.map(C=>R.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),w.map(C=>R.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),T.map(({key:C,link:b})=>R.createElement("link",{key:C,...b})))}function rR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var uE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uE&&(window.__reactRouterVersion="7.1.3")}catch{}function iR(n,e){return WS({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:mS({window:e==null?void 0:e.window}),hydrationData:sR(),routes:n,mapRouteProperties:P0,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function sR(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:oR(n.errors)}),n}function oR(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")t[i]=new Kc(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let a=window[o.__subType];if(typeof a=="function")try{let u=new a(o.message);u.stack="",t[i]=u}catch{}}if(t[i]==null){let a=new Error(o.message);a.stack="",t[i]=a}}else t[i]=o;return t}var cE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dE=R.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:u,state:h,target:f,to:m,preventScrollReset:v,viewTransition:w,...T},C){let{basename:b}=R.useContext(li),z=typeof m=="string"&&cE.test(m),F,W=!1;if(typeof m=="string"&&z&&(F=m,uE))try{let A=new URL(window.location.href),D=m.startsWith("//")?new URL(A.protocol+m):new URL(m),M=Or(D.pathname,b);D.origin===A.origin&&M!=null?m=M+D.search+D.hash:W=!0}catch{ln(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=d0(m,{relative:o}),[ee,de,j]=Z0(i,T),le=uR(m,{replace:u,state:h,target:f,preventScrollReset:v,relative:o,viewTransition:w});function N(A){e&&e(A),A.defaultPrevented||le(A)}let S=R.createElement("a",{...T,...j,href:F||re,onClick:W||a?e:N,ref:rR(C,de),target:f,"data-discover":!z&&t==="render"?"true":void 0});return ee&&!z?R.createElement(R.Fragment,null,S,R.createElement(eR,{page:re})):S});dE.displayName="Link";var br=R.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:u,viewTransition:h,children:f,...m},v){let w=Gl(u,{relative:m.relative}),T=Co(),C=R.useContext(ql),{navigator:b,basename:z}=R.useContext(li),F=C!=null&&pR(w)&&h===!0,W=b.encodeLocation?b.encodeLocation(w).pathname:w.pathname,re=T.pathname,ee=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(re=re.toLowerCase(),ee=ee?ee.toLowerCase():null,W=W.toLowerCase()),ee&&z&&(ee=Or(ee,z)||ee);const de=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let j=re===W||!o&&re.startsWith(W)&&re.charAt(de)==="/",le=ee!=null&&(ee===W||!o&&ee.startsWith(W)&&ee.charAt(W.length)==="/"),N={isActive:j,isPending:le,isTransitioning:F},S=j?e:void 0,A;typeof i=="function"?A=i(N):A=[i,j?"active":null,le?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(N):a;return R.createElement(dE,{...m,"aria-current":S,className:A,ref:v,style:D,to:u,viewTransition:h},typeof f=="function"?f(N):f)});br.displayName="NavLink";var aR=R.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:u=xc,action:h,onSubmit:f,relative:m,preventScrollReset:v,viewTransition:w,...T},C)=>{let b=hR(),z=fR(h,{relative:m}),F=u.toLowerCase()==="get"?"get":"post",W=typeof h=="string"&&cE.test(h),re=ee=>{if(f&&f(ee),ee.defaultPrevented)return;ee.preventDefault();let de=ee.nativeEvent.submitter,j=(de==null?void 0:de.getAttribute("formmethod"))||u;b(de||ee.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:o,state:a,relative:m,preventScrollReset:v,viewTransition:w})};return R.createElement("form",{ref:C,method:F,action:z,onSubmit:i?f:re,...T,"data-discover":!W&&n==="render"?"true":void 0})});aR.displayName="Form";function lR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hE(n){let e=R.useContext(Ro);return Je(e,lR(n)),e}function uR(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:u}={}){let h=Ms(),f=Co(),m=Gl(n,{relative:a});return R.useCallback(v=>{if(U0(v,e)){v.preventDefault();let w=t!==void 0?t:ks(f)===ks(m);h(n,{replace:w,state:i,preventScrollReset:o,relative:a,viewTransition:u})}},[f,h,m,t,i,e,n,o,a,u])}var cR=0,dR=()=>`__${String(++cR)}__`;function hR(){let{router:n}=hE("useSubmit"),{basename:e}=R.useContext(li),t=R0();return R.useCallback(async(i,o={})=>{let{action:a,method:u,encType:h,formData:f,body:m}=$0(i,e);if(o.navigate===!1){let v=o.fetcherKey||dR();await n.fetch(v,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function fR(n,{relative:e}={}){let{basename:t}=R.useContext(li),i=R.useContext(Vr);Je(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...Gl(n||".",{relative:e})},u=Co();if(n==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(w=>w).forEach(w=>h.append("index",w));let v=h.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ti([t,a.pathname])),ks(a)}function pR(n,e={}){let t=R.useContext(Dp);Je(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=hE("useViewTransitionState"),o=Gl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Or(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=Or(t.nextLocation.pathname,i)||t.nextLocation.pathname;return qc(o.pathname,u)!=null||qc(o.pathname,a)!=null}new TextEncoder;var fE=Gv();const va=pd(fE);/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mR(n){return R.createElement(x0,{flushSync:fE.flushSync,...n})}const gR="_homeContainer_x1t9d_1",yR={homeContainer:gR},_R="_blgsTitleAndContent_19p9g_1",vR="_blogCard_19p9g_7",y_={blgsTitleAndContent:_R,blogCard:vR};var Sf={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var __;function ER(){return __||(__=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(a=o(a,i(h)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var h in a)e.call(a,h)&&a[h]&&(u=o(u,h));return u}function o(a,u){return u?a?a+" "+u:a+u:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Sf)),Sf.exports}var wR=ER();const yt=pd(wR),TR=["as","disabled"];function IR(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function SR(n){return!n||n.trim()==="#"}function pE({tagName:n,disabled:e,href:t,target:i,rel:o,role:a,onClick:u,tabIndex:h=0,type:f}){n||(t!=null||i!=null||o!=null?n="a":n="button");const m={tagName:n};if(n==="button")return[{type:f||"button",disabled:e},m];const v=T=>{if((e||n==="a"&&SR(t))&&T.preventDefault(),e){T.stopPropagation();return}u==null||u(T)},w=T=>{T.key===" "&&(T.preventDefault(),v(T))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:h,href:t,target:n==="a"?i:void 0,"aria-disabled":e||void 0,rel:n==="a"?o:void 0,onClick:v,onKeyDown:w},m]}const RR=R.forwardRef((n,e)=>{let{as:t,disabled:i}=n,o=IR(n,TR);const[a,{tagName:u}]=pE(Object.assign({tagName:t,disabled:i},o));return x.jsx(u,Object.assign({},o,a,{ref:e}))});RR.displayName="Button";const CR=["xxl","xl","lg","md","sm","xs"],AR="xs",_d=R.createContext({prefixes:{},breakpoints:CR,minBreakpoint:AR});function Vt(n,e){const{prefixes:t}=R.useContext(_d);return n||t[e]||e}function mE(){const{breakpoints:n}=R.useContext(_d);return n}function gE(){const{minBreakpoint:n}=R.useContext(_d);return n}function PR(){const{dir:n}=R.useContext(_d);return n==="rtl"}const Mt=R.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:i,active:o=!1,disabled:a=!1,className:u,...h},f)=>{const m=Vt(e,"btn"),[v,{tagName:w}]=pE({tagName:n,disabled:a,...h}),T=w;return x.jsx(T,{...v,...h,ref:f,disabled:a,className:yt(u,m,o&&"active",t&&`${m}-${t}`,i&&`${m}-${i}`,h.href&&a&&"disabled")})});Mt.displayName="Button";const Fp=R.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},o)=>(e=Vt(e,"card-body"),x.jsx(t,{ref:o,className:yt(n,e),...i})));Fp.displayName="CardBody";const yE=R.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},o)=>(e=Vt(e,"card-footer"),x.jsx(t,{ref:o,className:yt(n,e),...i})));yE.displayName="CardFooter";const _E=R.createContext(null);_E.displayName="CardHeaderContext";const vE=R.forwardRef(({bsPrefix:n,className:e,as:t="div",...i},o)=>{const a=Vt(n,"card-header"),u=R.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return x.jsx(_E.Provider,{value:u,children:x.jsx(t,{ref:o,...i,className:yt(e,a)})})});vE.displayName="CardHeader";const EE=R.forwardRef(({bsPrefix:n,className:e,variant:t,as:i="img",...o},a)=>{const u=Vt(n,"card-img");return x.jsx(i,{ref:a,className:yt(t?`${u}-${t}`:u,e),...o})});EE.displayName="CardImg";const wE=R.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},o)=>(e=Vt(e,"card-img-overlay"),x.jsx(t,{ref:o,className:yt(n,e),...i})));wE.displayName="CardImgOverlay";const TE=R.forwardRef(({className:n,bsPrefix:e,as:t="a",...i},o)=>(e=Vt(e,"card-link"),x.jsx(t,{ref:o,className:yt(n,e),...i})));TE.displayName="CardLink";const Up=n=>R.forwardRef((e,t)=>x.jsx("div",{...e,ref:t,className:yt(e.className,n)})),kR=Up("h6"),IE=R.forwardRef(({className:n,bsPrefix:e,as:t=kR,...i},o)=>(e=Vt(e,"card-subtitle"),x.jsx(t,{ref:o,className:yt(n,e),...i})));IE.displayName="CardSubtitle";const SE=R.forwardRef(({className:n,bsPrefix:e,as:t="p",...i},o)=>(e=Vt(e,"card-text"),x.jsx(t,{ref:o,className:yt(n,e),...i})));SE.displayName="CardText";const xR=Up("h5"),RE=R.forwardRef(({className:n,bsPrefix:e,as:t=xR,...i},o)=>(e=Vt(e,"card-title"),x.jsx(t,{ref:o,className:yt(n,e),...i})));RE.displayName="CardTitle";const CE=R.forwardRef(({bsPrefix:n,className:e,bg:t,text:i,border:o,body:a=!1,children:u,as:h="div",...f},m)=>{const v=Vt(n,"card");return x.jsx(h,{ref:m,...f,className:yt(e,v,t&&`bg-${t}`,i&&`text-${i}`,o&&`border-${o}`),children:a?x.jsx(Fp,{children:u}):u})});CE.displayName="Card";const Zr=Object.assign(CE,{Img:EE,Title:RE,Subtitle:IE,Body:Fp,Link:TE,Text:SE,Header:vE,Footer:yE,ImgOverlay:wE}),NR=({item:n})=>{const e=Ms(),t=i=>{e(`/displayblog/${i}`)};return x.jsx(x.Fragment,{children:x.jsxs(Zr,{className:`${y_.blogCard} shadow  bg-body rounded`,style:{width:"18rem"},children:[x.jsx(Zr.Img,{variant:"top",src:n.image,style:{minHeight:"200px",maxHeight:"200px"}}),x.jsxs(Zr.Body,{children:[x.jsxs("div",{className:y_.blgsTitleAndContent,children:[x.jsx(Zr.Title,{children:n.title.slice(0,50)}),x.jsx(Zr.Text,{children:n.content.slice(0,100)})]}),x.jsx(Mt,{variant:"primary",onClick:()=>t(n.id),children:"Read More"})]})]})})},DR=({data:n,fetchData:e})=>(R.useEffect(()=>{e()},[]),x.jsx(x.Fragment,{children:x.jsx("div",{className:`${yR.homeContainer} container-fluid`,children:n.map(t=>x.jsx(NR,{item:t},t.id))})})),bR="_mainOuterContainer_1ue62_1",LR="_container_1ue62_13",OR="_loginHeading_1ue62_1",MR="_login_form_1ue62_1",VR="_login_signup_btn_1ue62_61",FR="_loginButton_1ue62_75",UR="_signUpButton_1ue62_83",uo={mainOuterContainer:bR,container:LR,loginHeading:OR,login_form:MR,login_signup_btn:VR,loginButton:FR,signUpButton:UR};var v_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},jR=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],h=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},PE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,h=u?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,v=a>>2,w=(a&3)<<4|h>>4;let T=(h&15)<<2|m>>6,C=m&63;f||(C=64,u||(T=64)),i.push(t[v],t[w],t[T],t[C])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(AE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):jR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||m==null||w==null)throw new BR;const T=a<<2|h>>4;if(i.push(T),m!==64){const C=h<<4&240|m>>2;if(i.push(C),w!==64){const b=m<<6&192|w;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class BR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $R=function(n){const e=AE(n);return PE.encodeByteArray(e,!0)},Gc=function(n){return $R(n).replace(/\./g,"")},kE=function(n){try{return PE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=()=>zR().__FIREBASE_DEFAULTS__,WR=()=>{if(typeof process>"u"||typeof v_>"u")return;const n=v_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},qR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&kE(n[1]);return e&&JSON.parse(e)},vd=()=>{try{return HR()||WR()||qR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},xE=n=>{var e,t;return(t=(e=vd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},KR=n=>{const e=xE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},NE=()=>{var n;return(n=vd())===null||n===void 0?void 0:n.config},DE=n=>{var e;return(e=vd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Gc(JSON.stringify(t)),Gc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function XR(){var n;const e=(n=vd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function eC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tC(){const n=Tn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function nC(){return!XR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rC(){try{return typeof indexedDB=="object"}catch{return!1}}function iC(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="FirebaseError";class Mi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=sC,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ql.prototype.create)}}class Ql{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?oC(a,i):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new Mi(o,h,i)}}function oC(n,e){return n.replace(aC,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const aC=/\{\$([^}]+)}/g;function lC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Qc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],u=e[o];if(E_(a)&&E_(u)){if(!Qc(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function E_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Sl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Rl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function uC(n,e){const t=new cC(n,e);return t.subscribe.bind(t)}class cC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");dC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Rf),o.error===void 0&&(o.error=Rf),o.complete===void 0&&(o.complete=Rf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Rf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(n){return n&&n._delegate?n._delegate:n}class Eo{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new GR;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pC(e))try{this.getOrInitializeService({instanceIdentifier:co})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=co){return this.instances.has(e)}getOptions(e=co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&u.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:fC(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=co){return this.component?this.component.multipleInstances?e:co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fC(n){return n===co?void 0:n}function pC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new hC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ke||(Ke={}));const gC={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},yC=Ke.INFO,_C={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},vC=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=_C[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jp{constructor(e){this.name=e,this._logLevel=yC,this._logHandler=vC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const EC=(n,e)=>e.some(t=>n instanceof t);let w_,T_;function wC(){return w_||(w_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TC(){return T_||(T_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bE=new WeakMap,Gf=new WeakMap,LE=new WeakMap,Cf=new WeakMap,Bp=new WeakMap;function IC(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ts(n.result)),o()},u=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&bE.set(t,n)}).catch(()=>{}),Bp.set(e,n),e}function SC(n){if(Gf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Gf.set(n,e)}let Qf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Gf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||LE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ts(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function RC(n){Qf=n(Qf)}function CC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Af(this),e,...t);return LE.set(i,e.sort?e.sort():[e]),Ts(i)}:TC().includes(n)?function(...e){return n.apply(Af(this),e),Ts(bE.get(this))}:function(...e){return Ts(n.apply(Af(this),e))}}function AC(n){return typeof n=="function"?CC(n):(n instanceof IDBTransaction&&SC(n),EC(n,wC())?new Proxy(n,Qf):n)}function Ts(n){if(n instanceof IDBRequest)return IC(n);if(Cf.has(n))return Cf.get(n);const e=AC(n);return e!==n&&(Cf.set(n,e),Bp.set(e,n)),e}const Af=n=>Bp.get(n);function PC(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),h=Ts(u);return i&&u.addEventListener("upgradeneeded",f=>{i(Ts(u.result),f.oldVersion,f.newVersion,Ts(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const kC=["get","getKey","getAll","getAllKeys","count"],xC=["put","add","delete","clear"],Pf=new Map;function I_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Pf.get(e))return Pf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=xC.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||kC.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,o?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),o&&f.done]))[0]};return Pf.set(e,a),a}RC(n=>({...n,get:(e,t,i)=>I_(e,t)||n.get(e,t,i),has:(e,t)=>!!I_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(DC(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function DC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yf="@firebase/app",S_="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new jp("@firebase/app"),bC="@firebase/app-compat",LC="@firebase/analytics-compat",OC="@firebase/analytics",MC="@firebase/app-check-compat",VC="@firebase/app-check",FC="@firebase/auth",UC="@firebase/auth-compat",jC="@firebase/database",BC="@firebase/data-connect",$C="@firebase/database-compat",zC="@firebase/functions",HC="@firebase/functions-compat",WC="@firebase/installations",qC="@firebase/installations-compat",KC="@firebase/messaging",GC="@firebase/messaging-compat",QC="@firebase/performance",YC="@firebase/performance-compat",XC="@firebase/remote-config",JC="@firebase/remote-config-compat",ZC="@firebase/storage",eA="@firebase/storage-compat",tA="@firebase/firestore",nA="@firebase/vertexai",rA="@firebase/firestore-compat",iA="firebase",sA="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf="[DEFAULT]",oA={[Yf]:"fire-core",[bC]:"fire-core-compat",[OC]:"fire-analytics",[LC]:"fire-analytics-compat",[VC]:"fire-app-check",[MC]:"fire-app-check-compat",[FC]:"fire-auth",[UC]:"fire-auth-compat",[jC]:"fire-rtdb",[BC]:"fire-data-connect",[$C]:"fire-rtdb-compat",[zC]:"fire-fn",[HC]:"fire-fn-compat",[WC]:"fire-iid",[qC]:"fire-iid-compat",[KC]:"fire-fcm",[GC]:"fire-fcm-compat",[QC]:"fire-perf",[YC]:"fire-perf-compat",[XC]:"fire-rc",[JC]:"fire-rc-compat",[ZC]:"fire-gcs",[eA]:"fire-gcs-compat",[tA]:"fire-fst",[rA]:"fire-fst-compat",[nA]:"fire-vertex","fire-js":"fire-js",[iA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new Map,aA=new Map,Jf=new Map;function R_(n,e){try{n.container.addComponent(e)}catch(t){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ra(n){const e=n.name;if(Jf.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;Jf.set(e,n);for(const t of Yc.values())R_(t,n);for(const t of aA.values())R_(t,n);return!0}function $p(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ei(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Is=new Ql("app","Firebase",lA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=sA;function OE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Xf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Is.create("bad-app-name",{appName:String(o)});if(t||(t=NE()),!t)throw Is.create("no-options");const a=Yc.get(o);if(a){if(Qc(t,a.options)&&Qc(i,a.config))return a;throw Is.create("duplicate-app",{appName:o})}const u=new mC(o);for(const f of Jf.values())u.addComponent(f);const h=new uA(t,i,u);return Yc.set(o,h),h}function ME(n=Xf){const e=Yc.get(n);if(!e&&n===Xf&&NE())return OE();if(!e)throw Is.create("no-app",{appName:n});return e}function Ss(n,e,t){var i;let o=(i=oA[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(h.join(" "));return}Ra(new Eo(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="firebase-heartbeat-database",dA=1,Vl="firebase-heartbeat-store";let kf=null;function VE(){return kf||(kf=PC(cA,dA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Vl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Is.create("idb-open",{originalErrorMessage:n.message})})),kf}async function hA(n){try{const t=(await VE()).transaction(Vl),i=await t.objectStore(Vl).get(FE(n));return await t.done,i}catch(e){if(e instanceof Mi)Ni.warn(e.message);else{const t=Is.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ni.warn(t.message)}}}async function C_(n,e){try{const i=(await VE()).transaction(Vl,"readwrite");await i.objectStore(Vl).put(e,FE(n)),await i.done}catch(t){if(t instanceof Mi)Ni.warn(t.message);else{const i=Is.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ni.warn(i.message)}}}function FE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=1024,pA=30*24*60*60*1e3;class mA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new yA(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=A_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const h=new Date(u.date).valueOf();return Date.now()-h<=pA}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Ni.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=A_(),{heartbeatsToSend:i,unsentEntries:o}=gA(this._heartbeatsCache.heartbeats),a=Gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ni.warn(t),""}}}function A_(){return new Date().toISOString().substring(0,10)}function gA(n,e=fA){const t=[];let i=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),P_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),P_(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class yA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rC()?iC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await hA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return C_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return C_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function P_(n){return Gc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(n){Ra(new Eo("platform-logger",e=>new NC(e),"PRIVATE")),Ra(new Eo("heartbeat",e=>new mA(e),"PRIVATE")),Ss(Yf,S_,n),Ss(Yf,S_,"esm2017"),Ss("fire-js","")}_A("");function zp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function UE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vA=UE,jE=new Ql("auth","Firebase",UE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new jp("@firebase/auth");function EA(n,...e){Xc.logLevel<=Ke.WARN&&Xc.warn(`Auth (${ba}): ${n}`,...e)}function Dc(n,...e){Xc.logLevel<=Ke.ERROR&&Xc.error(`Auth (${ba}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(n,...e){throw Hp(n,...e)}function ni(n,...e){return Hp(n,...e)}function BE(n,e,t){const i=Object.assign(Object.assign({},vA()),{[e]:t});return new Ql("auth","Firebase",i).create(e,{appName:n.name})}function xi(n){return BE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return jE.create(n,...e)}function Oe(n,e,...t){if(!n)throw Hp(e,...t)}function Ai(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Dc(e),new Error(e)}function Di(n,e){n||Ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function wA(){return k_()==="http:"||k_()==="https:"}function k_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wA()||ZR()||"connection"in navigator)?navigator.onLine:!0}function IA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Di(t>e,"Short delay should be less than long delay!"),this.isMobile=YR()||eC()}get(){return TA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(n,e){Di(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=new Xl(3e4,6e4);function Vs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Fs(n,e,t,i,o={}){return zE(n,o,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const h=Yl(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},a);return JR()||(m.referrerPolicy="no-referrer"),$E.fetch()(HE(n,n.config.apiHost,t,h),m)})}async function zE(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},SA),e);try{const o=new AA(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw _c(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw _c(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw _c(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw _c(n,"user-disabled",u);const v=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw BE(n,v,m);Mr(n,v)}}catch(o){if(o instanceof Mi)throw o;Mr(n,"network-request-failed",{message:String(o)})}}async function Jl(n,e,t,i,o={}){const a=await Fs(n,e,t,i,o);return"mfaPendingCredential"in a&&Mr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function HE(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Wp(n.config,o):`${n.config.apiScheme}://${o}`}function CA(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ni(this.auth,"network-request-failed")),RA.get())})}}function _c(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=ni(n,e,i);return o.customData._tokenResponse=t,o}function x_(n){return n!==void 0&&n.enterprise!==void 0}class PA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return CA(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kA(n,e){return Fs(n,"GET","/v2/recaptchaConfig",Vs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xA(n,e){return Fs(n,"POST","/v1/accounts:delete",e)}async function WE(n,e){return Fs(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NA(n,e=!1){const t=In(n),i=await t.getIdToken(e),o=qp(i);Oe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:xl(xf(o.auth_time)),issuedAtTime:xl(xf(o.iat)),expirationTime:xl(xf(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function xf(n){return Number(n)*1e3}function qp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const o=kE(t);return o?JSON.parse(o):(Dc("Failed to decode base64 JWT payload"),null)}catch(o){return Dc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function N_(n){const e=qp(n);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Mi&&DA(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function DA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Fl(n,WE(t,{idToken:i}));Oe(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?qE(a.providerUserInfo):[],h=OA(n.providerData,u),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),v=f?m:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new ep(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,w)}async function LA(n){const e=In(n);await Jc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OA(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function qE(n){return n.map(e=>{var{providerId:t}=e,i=zp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MA(n,e){const t=await zE(n,{},async()=>{const i=Yl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=HE(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",$E.fetch()(u,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function VA(n,e){return Fs(n,"POST","/v2/accounts:revokeToken",Vs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):N_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const t=N_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await MA(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,u=new wa;return i&&(Oe(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(Oe(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Oe(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wa,this.toJSON())}_performRefresh(){return Ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(n,e){Oe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Pi{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=zp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ep(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return Oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return NA(this,e)}reload(){return LA(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Pi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Jc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(xi(this.auth));const e=await this.getIdToken();return await Fl(this,xA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,u,h,f,m,v;const w=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,C=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,b=(u=t.photoURL)!==null&&u!==void 0?u:void 0,z=(h=t.tenantId)!==null&&h!==void 0?h:void 0,F=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,W=(m=t.createdAt)!==null&&m!==void 0?m:void 0,re=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:ee,emailVerified:de,isAnonymous:j,providerData:le,stsTokenManager:N}=t;Oe(ee&&N,e,"internal-error");const S=wa.fromJSON(this.name,N);Oe(typeof ee=="string",e,"internal-error"),ds(w,e.name),ds(T,e.name),Oe(typeof de=="boolean",e,"internal-error"),Oe(typeof j=="boolean",e,"internal-error"),ds(C,e.name),ds(b,e.name),ds(z,e.name),ds(F,e.name),ds(W,e.name),ds(re,e.name);const A=new Pi({uid:ee,auth:e,email:T,emailVerified:de,displayName:w,isAnonymous:j,photoURL:b,phoneNumber:C,tenantId:z,stsTokenManager:S,createdAt:W,lastLoginAt:re});return le&&Array.isArray(le)&&(A.providerData=le.map(D=>Object.assign({},D))),F&&(A._redirectEventId=F),A}static async _fromIdTokenResponse(e,t,i=!1){const o=new wa;o.updateFromServerResponse(t);const a=new Pi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Jc(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Oe(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?qE(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),h=new wa;h.updateFromIdToken(i);const f=new Pi({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ep(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=new Map;function ki(n){Di(n instanceof Function,"Expected a class definition");let e=D_.get(n);return e?(Di(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,D_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}KE.type="NONE";const b_=KE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(n,e,t){return`firebase:${n}:${e}:${t}`}class Ta{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=bc(this.userKey,o.apiKey,a),this.fullPersistenceKey=bc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Pi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ta(ki(b_),e,i);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||ki(b_);const u=bc(i,e.config.apiKey,e.name);let h=null;for(const m of t)try{const v=await m._get(u);if(v){const w=Pi._fromJSON(e,v);m!==a&&(h=w),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Ta(a,e,i):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new Ta(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZE(e))return"Blackberry";if(ew(e))return"Webos";if(QE(e))return"Safari";if((e.includes("chrome/")||YE(e))&&!e.includes("edge/"))return"Chrome";if(JE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function GE(n=Tn()){return/firefox\//i.test(n)}function QE(n=Tn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YE(n=Tn()){return/crios\//i.test(n)}function XE(n=Tn()){return/iemobile/i.test(n)}function JE(n=Tn()){return/android/i.test(n)}function ZE(n=Tn()){return/blackberry/i.test(n)}function ew(n=Tn()){return/webos/i.test(n)}function Kp(n=Tn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function FA(n=Tn()){var e;return Kp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function UA(){return tC()&&document.documentMode===10}function tw(n=Tn()){return Kp(n)||JE(n)||ew(n)||ZE(n)||/windows phone/i.test(n)||XE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(n,e=[]){let t;switch(n){case"Browser":t=L_(Tn());break;case"Worker":t=`${L_(Tn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ba}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BA(n,e={}){return Fs(n,"GET","/v2/passwordPolicy",Vs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=6;class zA{constructor(e){var t,i,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:$A,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O_(this),this.idTokenSubscription=new O_(this),this.beforeStateQueue=new jA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ki(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Ta.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await WE(this,{idToken:e}),i=await Pi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ei(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Jc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(xi(this));const t=e?In(e):null;return t&&Oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BA(this),t=new zA(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ql("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await VA(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ki(e)||this._popupRedirectResolver;Oe(t,this,"argument-error"),this.redirectPersistenceManager=await Ta.create(this,[ki(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&EA(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ao(n){return In(n)}class O_{constructor(e){this.auth=e,this.observer=null,this.addObserver=uC(t=>this.observer=t)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ed={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WA(n){Ed=n}function rw(n){return Ed.loadJS(n)}function qA(){return Ed.recaptchaEnterpriseScript}function KA(){return Ed.gapiScript}function GA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class QA{constructor(){this.enterprise=new YA}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class YA{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const XA="recaptcha-enterprise",iw="NO_RECAPTCHA";class JA{constructor(e){this.type=XA,this.auth=Ao(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{kA(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new PA(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(f=>{h(f)})})}function o(a,u,h){const f=window.grecaptcha;x_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(iw)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new QA().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{i(this.auth).then(h=>{if(!t&&x_(window.grecaptcha))o(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=qA();f.length!==0&&(f+=h),rw(f).then(()=>{o(h,a,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function M_(n,e,t,i=!1,o=!1){const a=new JA(n);let u;if(o)u=iw;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function tp(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await M_(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await M_(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(n,e){const t=$p(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Qc(a,e??{}))return o;Mr(o,"already-initialized")}return t.initialize({options:e})}function eP(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(ki);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function tP(n,e,t){const i=Ao(n);Oe(i._canInitEmulator,i,"emulator-config-failed"),Oe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=sw(e),{host:u,port:h}=nP(e),f=h===null?"":`:${h}`;i.config.emulator={url:`${a}//${u}${f}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),rP()}function sw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function nP(n){const e=sw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:V_(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:V_(u)}}}function V_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function rP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ai("not implemented")}_getIdTokenResponse(e){return Ai("not implemented")}_linkToIdToken(e,t){return Ai("not implemented")}_getReauthenticationResolver(e){return Ai("not implemented")}}async function iP(n,e){return Fs(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sP(n,e){return Jl(n,"POST","/v1/accounts:signInWithPassword",Vs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oP(n,e){return Jl(n,"POST","/v1/accounts:signInWithEmailLink",Vs(n,e))}async function aP(n,e){return Jl(n,"POST","/v1/accounts:signInWithEmailLink",Vs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends Gp{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Ul(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Ul(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tp(e,t,"signInWithPassword",sP);case"emailLink":return oP(e,{email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tp(e,i,"signUpPassword",iP);case"emailLink":return aP(e,{idToken:t,email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(n,e){return Jl(n,"POST","/v1/accounts:signInWithIdp",Vs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP="http://localhost";class wo extends Gp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Mr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=zp(t,["providerId","signInMethod"]);if(!i||!o)return null;const u=new wo(i,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ia(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ia(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ia(e,t)}buildRequest(){const e={requestUri:lP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Yl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cP(n){const e=Sl(Rl(n)).link,t=e?Sl(Rl(e)).deep_link_id:null,i=Sl(Rl(n)).deep_link_id;return(i?Sl(Rl(i)).link:null)||i||t||e||n}class Qp{constructor(e){var t,i,o,a,u,h;const f=Sl(Rl(e)),m=(t=f.apiKey)!==null&&t!==void 0?t:null,v=(i=f.oobCode)!==null&&i!==void 0?i:null,w=uP((o=f.mode)!==null&&o!==void 0?o:null);Oe(m&&v&&w,"argument-error"),this.apiKey=m,this.operation=w,this.code=v,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=cP(e);try{return new Qp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(){this.providerId=La.PROVIDER_ID}static credential(e,t){return Ul._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Qp.parseLink(t);return Oe(i,"argument-error"),Ul._fromEmailAndCode(e,i.code,i.tenantId)}}La.PROVIDER_ID="password";La.EMAIL_PASSWORD_SIGN_IN_METHOD="password";La.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends ow{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Zl{constructor(){super("facebook.com")}static credential(e){return wo._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Zl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return wo._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ys.credential(t,i)}catch{return null}}}ys.GOOGLE_SIGN_IN_METHOD="google.com";ys.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Zl{constructor(){super("github.com")}static credential(e){return wo._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.GITHUB_SIGN_IN_METHOD="github.com";_s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Zl{constructor(){super("twitter.com")}static credential(e,t){return wo._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return vs.credential(t,i)}catch{return null}}}vs.TWITTER_SIGN_IN_METHOD="twitter.com";vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dP(n,e){return Jl(n,"POST","/v1/accounts:signUp",Vs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await Pi._fromIdTokenResponse(e,i,o),u=F_(i);return new To({user:a,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=F_(i);return new To({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function F_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends Mi{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Zc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Zc(e,t,i,o)}}function aw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Zc._fromErrorAndOperation(n,a,e,i):a})}async function hP(n,e,t=!1){const i=await Fl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return To._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(n,e,t=!1){const{auth:i}=n;if(ei(i.app))return Promise.reject(xi(i));const o="reauthenticate";try{const a=await Fl(n,aw(i,o,e,n),t);Oe(a.idToken,i,"internal-error");const u=qp(a.idToken);Oe(u,i,"internal-error");const{sub:h}=u;return Oe(n.uid===h,i,"user-mismatch"),To._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Mr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lw(n,e,t=!1){if(ei(n.app))return Promise.reject(xi(n));const i="signIn",o=await aw(n,i,e),a=await To._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function pP(n,e){return lw(Ao(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uw(n){const e=Ao(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function mP(n,e,t){if(ei(n.app))return Promise.reject(xi(n));const i=Ao(n),u=await tp(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dP).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&uw(n),f}),h=await To._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function gP(n,e,t){return ei(n.app)?Promise.reject(xi(n)):pP(In(n),La.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&uw(n),i})}function yP(n,e,t,i){return In(n).onIdTokenChanged(e,t,i)}function _P(n,e,t){return In(n).beforeAuthStateChanged(e,t)}function cw(n){return In(n).signOut()}const ed="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ed,"1"),this.storage.removeItem(ed),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=1e3,EP=10;class hw extends dw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);UA()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,EP):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},vP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}hw.type="LOCAL";const wP=hw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw extends dw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}fw.type="SESSION";const pw=fw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new wd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(u).map(async m=>m(t.origin,a)),f=await TP(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const m=Yp("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function SP(n){ri().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function RP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function AP(){return mw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="firebaseLocalStorageDb",PP=1,td="firebaseLocalStorage",yw="fbase_key";class eu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Td(n,e){return n.transaction([td],e?"readwrite":"readonly").objectStore(td)}function kP(){const n=indexedDB.deleteDatabase(gw);return new eu(n).toPromise()}function np(){const n=indexedDB.open(gw,PP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(td,{keyPath:yw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(td)?e(i):(i.close(),await kP(),e(await np()))})})}async function U_(n,e,t){const i=Td(n,!0).put({[yw]:e,value:t});return new eu(i).toPromise()}async function xP(n,e){const t=Td(n,!1).get(e),i=await new eu(t).toPromise();return i===void 0?null:i.value}function j_(n,e){const t=Td(n,!0).delete(e);return new eu(t).toPromise()}const NP=800,DP=3;class _w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await np(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>DP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wd._getInstance(AP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await RP(),!this.activeServiceWorker)return;this.sender=new IP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await np();return await U_(e,ed,"1"),await j_(e,ed),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>U_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>xP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>j_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Td(o,!1).getAll();return new eu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_w.type="LOCAL";const bP=_w;new Xl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(n,e){return e?ki(e):(Oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp extends Gp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ia(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ia(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function OP(n){return lw(n.auth,new Xp(n),n.bypassAuthState)}function MP(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),fP(t,new Xp(n),n.bypassAuthState)}async function VP(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),hP(t,new Xp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OP;case"linkViaPopup":case"linkViaRedirect":return VP;case"reauthViaPopup":case"reauthViaRedirect":return MP;default:Mr(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=new Xl(2e3,1e4);class Ea extends vw{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Di(this.filter.length===1,"Popup operations only handle one event");const e=Yp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FP.get())};e()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP="pendingRedirect",Lc=new Map;class jP extends vw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Lc.get(this.auth._key());if(!e){try{const i=await BP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Lc.set(this.auth._key(),e)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BP(n,e){const t=HP(e),i=zP(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function $P(n,e){Lc.set(n._key(),e)}function zP(n){return ki(n._redirectPersistence)}function HP(n){return bc(UP,n.config.apiKey,n.name)}async function WP(n,e,t=!1){if(ei(n.app))return Promise.reject(xi(n));const i=Ao(n),o=LP(i,e),u=await new jP(i,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=10*60*1e3;class KP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Ew(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(ni(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qP&&this.cachedEventUids.clear(),this.cachedEventUids.has(B_(e))}saveEventToCache(e){this.cachedEventUids.add(B_(e)),this.lastProcessedEventTime=Date.now()}}function B_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Ew({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function GP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ew(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(n,e={}){return Fs(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XP=/^https?/;async function JP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await QP(n);for(const t of e)try{if(ZP(t))return}catch{}Mr(n,"unauthorized-domain")}function ZP(n){const e=Zf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!XP.test(t))return!1;if(YP.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=new Xl(3e4,6e4);function $_(){const n=ri().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function tk(n){return new Promise((e,t)=>{var i,o,a;function u(){$_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$_(),t(ni(n,"network-request-failed"))},timeout:ek.get()})}if(!((o=(i=ri().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=ri().gapi)===null||a===void 0)&&a.load)u();else{const h=GA("iframefcb");return ri()[h]=()=>{gapi.load?u():t(ni(n,"network-request-failed"))},rw(`${KA()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw Oc=null,e})}let Oc=null;function nk(n){return Oc=Oc||tk(n),Oc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=new Xl(5e3,15e3),ik="__/auth/iframe",sk="emulator/auth/iframe",ok={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ak=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lk(n){const e=n.config;Oe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Wp(e,sk):`https://${n.config.authDomain}/${ik}`,i={apiKey:e.apiKey,appName:n.name,v:ba},o=ak.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Yl(i).slice(1)}`}async function uk(n){const e=await nk(n),t=ri().gapi;return Oe(t,n,"internal-error"),e.open({where:document.body,url:lk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ok,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const u=ni(n,"network-request-failed"),h=ri().setTimeout(()=>{a(u)},rk.get());function f(){ri().clearTimeout(h),o(i)}i.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dk=500,hk=600,fk="_blank",pk="http://localhost";class z_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mk(n,e,t,i=dk,o=hk){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},ck),{width:i.toString(),height:o.toString(),top:a,left:u}),m=Tn().toLowerCase();t&&(h=YE(m)?fk:t),GE(m)&&(e=e||pk,f.scrollbars="yes");const v=Object.entries(f).reduce((T,[C,b])=>`${T}${C}=${b},`,"");if(FA(m)&&h!=="_self")return gk(e||"",h),new z_(null);const w=window.open(e||"",h,v);Oe(w,n,"popup-blocked");try{w.focus()}catch{}return new z_(w)}function gk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk="__/auth/handler",_k="emulator/auth/handler",vk=encodeURIComponent("fac");async function H_(n,e,t,i,o,a){Oe(n.config.authDomain,n,"auth-domain-config-required"),Oe(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ba,eventId:o};if(e instanceof ow){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",lC(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))u[v]=w}if(e instanceof Zl){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await n._getAppCheckToken(),m=f?`#${vk}=${encodeURIComponent(f)}`:"";return`${Ek(n)}?${Yl(h).slice(1)}${m}`}function Ek({config:n}){return n.emulator?Wp(n,_k):`https://${n.authDomain}/${yk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="webStorageSupport";class wk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pw,this._completeRedirectFn=WP,this._overrideRedirectResult=$P}async _openPopup(e,t,i,o){var a;Di((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await H_(e,t,i,Zf(),o);return mk(e,u,Yp())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await H_(e,t,i,Zf(),o);return SP(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Di(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await uk(e),i=new KP(e);return t.register("authEvent",o=>(Oe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Nf,{type:Nf},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Nf];u!==void 0&&t(!!u),Mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=JP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return tw()||QE()||Kp()}}const Tk=wk;var W_="@firebase/auth",q_="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Rk(n){Ra(new Eo("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;Oe(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nw(n)},m=new HA(i,o,a,f);return eP(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ra(new Eo("auth-internal",e=>{const t=Ao(e.getProvider("auth").getImmediate());return(i=>new Ik(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ss(W_,q_,Sk(n)),Ss(W_,q_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=5*60,Ak=DE("authIdTokenMaxAge")||Ck;let K_=null;const Pk=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Ak)return;const o=t==null?void 0:t.token;K_!==o&&(K_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function kk(n=ME()){const e=$p(n,"auth");if(e.isInitialized())return e.getImmediate();const t=ZA(n,{popupRedirectResolver:Tk,persistence:[bP,wP,pw]}),i=DE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=Pk(a.toString());_P(t,u,()=>u(t.currentUser)),yP(t,h=>u(h))}}const o=xE("auth");return o&&tP(t,`http://${o}`),t}function xk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}WA({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=ni("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",xk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Rk("Browser");var Nk="firebase",Dk="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ss(Nk,Dk,"app");var G_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rs,ww;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function A(){}A.prototype=S.prototype,N.D=S.prototype,N.prototype=new A,N.prototype.constructor=N,N.C=function(D,M,B){for(var k=Array(arguments.length-2),at=2;at<arguments.length;at++)k[at-2]=arguments[at];return S.prototype[M].apply(D,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,A){A||(A=0);var D=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)D[M]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(M=0;16>M;++M)D[M]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=N.g[0],A=N.g[1],M=N.g[2];var B=N.g[3],k=S+(B^A&(M^B))+D[0]+3614090360&4294967295;S=A+(k<<7&4294967295|k>>>25),k=B+(M^S&(A^M))+D[1]+3905402710&4294967295,B=S+(k<<12&4294967295|k>>>20),k=M+(A^B&(S^A))+D[2]+606105819&4294967295,M=B+(k<<17&4294967295|k>>>15),k=A+(S^M&(B^S))+D[3]+3250441966&4294967295,A=M+(k<<22&4294967295|k>>>10),k=S+(B^A&(M^B))+D[4]+4118548399&4294967295,S=A+(k<<7&4294967295|k>>>25),k=B+(M^S&(A^M))+D[5]+1200080426&4294967295,B=S+(k<<12&4294967295|k>>>20),k=M+(A^B&(S^A))+D[6]+2821735955&4294967295,M=B+(k<<17&4294967295|k>>>15),k=A+(S^M&(B^S))+D[7]+4249261313&4294967295,A=M+(k<<22&4294967295|k>>>10),k=S+(B^A&(M^B))+D[8]+1770035416&4294967295,S=A+(k<<7&4294967295|k>>>25),k=B+(M^S&(A^M))+D[9]+2336552879&4294967295,B=S+(k<<12&4294967295|k>>>20),k=M+(A^B&(S^A))+D[10]+4294925233&4294967295,M=B+(k<<17&4294967295|k>>>15),k=A+(S^M&(B^S))+D[11]+2304563134&4294967295,A=M+(k<<22&4294967295|k>>>10),k=S+(B^A&(M^B))+D[12]+1804603682&4294967295,S=A+(k<<7&4294967295|k>>>25),k=B+(M^S&(A^M))+D[13]+4254626195&4294967295,B=S+(k<<12&4294967295|k>>>20),k=M+(A^B&(S^A))+D[14]+2792965006&4294967295,M=B+(k<<17&4294967295|k>>>15),k=A+(S^M&(B^S))+D[15]+1236535329&4294967295,A=M+(k<<22&4294967295|k>>>10),k=S+(M^B&(A^M))+D[1]+4129170786&4294967295,S=A+(k<<5&4294967295|k>>>27),k=B+(A^M&(S^A))+D[6]+3225465664&4294967295,B=S+(k<<9&4294967295|k>>>23),k=M+(S^A&(B^S))+D[11]+643717713&4294967295,M=B+(k<<14&4294967295|k>>>18),k=A+(B^S&(M^B))+D[0]+3921069994&4294967295,A=M+(k<<20&4294967295|k>>>12),k=S+(M^B&(A^M))+D[5]+3593408605&4294967295,S=A+(k<<5&4294967295|k>>>27),k=B+(A^M&(S^A))+D[10]+38016083&4294967295,B=S+(k<<9&4294967295|k>>>23),k=M+(S^A&(B^S))+D[15]+3634488961&4294967295,M=B+(k<<14&4294967295|k>>>18),k=A+(B^S&(M^B))+D[4]+3889429448&4294967295,A=M+(k<<20&4294967295|k>>>12),k=S+(M^B&(A^M))+D[9]+568446438&4294967295,S=A+(k<<5&4294967295|k>>>27),k=B+(A^M&(S^A))+D[14]+3275163606&4294967295,B=S+(k<<9&4294967295|k>>>23),k=M+(S^A&(B^S))+D[3]+4107603335&4294967295,M=B+(k<<14&4294967295|k>>>18),k=A+(B^S&(M^B))+D[8]+1163531501&4294967295,A=M+(k<<20&4294967295|k>>>12),k=S+(M^B&(A^M))+D[13]+2850285829&4294967295,S=A+(k<<5&4294967295|k>>>27),k=B+(A^M&(S^A))+D[2]+4243563512&4294967295,B=S+(k<<9&4294967295|k>>>23),k=M+(S^A&(B^S))+D[7]+1735328473&4294967295,M=B+(k<<14&4294967295|k>>>18),k=A+(B^S&(M^B))+D[12]+2368359562&4294967295,A=M+(k<<20&4294967295|k>>>12),k=S+(A^M^B)+D[5]+4294588738&4294967295,S=A+(k<<4&4294967295|k>>>28),k=B+(S^A^M)+D[8]+2272392833&4294967295,B=S+(k<<11&4294967295|k>>>21),k=M+(B^S^A)+D[11]+1839030562&4294967295,M=B+(k<<16&4294967295|k>>>16),k=A+(M^B^S)+D[14]+4259657740&4294967295,A=M+(k<<23&4294967295|k>>>9),k=S+(A^M^B)+D[1]+2763975236&4294967295,S=A+(k<<4&4294967295|k>>>28),k=B+(S^A^M)+D[4]+1272893353&4294967295,B=S+(k<<11&4294967295|k>>>21),k=M+(B^S^A)+D[7]+4139469664&4294967295,M=B+(k<<16&4294967295|k>>>16),k=A+(M^B^S)+D[10]+3200236656&4294967295,A=M+(k<<23&4294967295|k>>>9),k=S+(A^M^B)+D[13]+681279174&4294967295,S=A+(k<<4&4294967295|k>>>28),k=B+(S^A^M)+D[0]+3936430074&4294967295,B=S+(k<<11&4294967295|k>>>21),k=M+(B^S^A)+D[3]+3572445317&4294967295,M=B+(k<<16&4294967295|k>>>16),k=A+(M^B^S)+D[6]+76029189&4294967295,A=M+(k<<23&4294967295|k>>>9),k=S+(A^M^B)+D[9]+3654602809&4294967295,S=A+(k<<4&4294967295|k>>>28),k=B+(S^A^M)+D[12]+3873151461&4294967295,B=S+(k<<11&4294967295|k>>>21),k=M+(B^S^A)+D[15]+530742520&4294967295,M=B+(k<<16&4294967295|k>>>16),k=A+(M^B^S)+D[2]+3299628645&4294967295,A=M+(k<<23&4294967295|k>>>9),k=S+(M^(A|~B))+D[0]+4096336452&4294967295,S=A+(k<<6&4294967295|k>>>26),k=B+(A^(S|~M))+D[7]+1126891415&4294967295,B=S+(k<<10&4294967295|k>>>22),k=M+(S^(B|~A))+D[14]+2878612391&4294967295,M=B+(k<<15&4294967295|k>>>17),k=A+(B^(M|~S))+D[5]+4237533241&4294967295,A=M+(k<<21&4294967295|k>>>11),k=S+(M^(A|~B))+D[12]+1700485571&4294967295,S=A+(k<<6&4294967295|k>>>26),k=B+(A^(S|~M))+D[3]+2399980690&4294967295,B=S+(k<<10&4294967295|k>>>22),k=M+(S^(B|~A))+D[10]+4293915773&4294967295,M=B+(k<<15&4294967295|k>>>17),k=A+(B^(M|~S))+D[1]+2240044497&4294967295,A=M+(k<<21&4294967295|k>>>11),k=S+(M^(A|~B))+D[8]+1873313359&4294967295,S=A+(k<<6&4294967295|k>>>26),k=B+(A^(S|~M))+D[15]+4264355552&4294967295,B=S+(k<<10&4294967295|k>>>22),k=M+(S^(B|~A))+D[6]+2734768916&4294967295,M=B+(k<<15&4294967295|k>>>17),k=A+(B^(M|~S))+D[13]+1309151649&4294967295,A=M+(k<<21&4294967295|k>>>11),k=S+(M^(A|~B))+D[4]+4149444226&4294967295,S=A+(k<<6&4294967295|k>>>26),k=B+(A^(S|~M))+D[11]+3174756917&4294967295,B=S+(k<<10&4294967295|k>>>22),k=M+(S^(B|~A))+D[2]+718787259&4294967295,M=B+(k<<15&4294967295|k>>>17),k=A+(B^(M|~S))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(M+(k<<21&4294967295|k>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+B&4294967295}i.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var A=S-this.blockSize,D=this.B,M=this.h,B=0;B<S;){if(M==0)for(;B<=A;)o(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<S;)if(D[M++]=N.charCodeAt(B++),M==this.blockSize){o(this,D),M=0;break}}else for(;B<S;)if(D[M++]=N[B++],M==this.blockSize){o(this,D),M=0;break}}this.h=M,this.o+=S},i.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var A=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=A&255,A/=256;for(this.u(N),N=Array(16),S=A=0;4>S;++S)for(var D=0;32>D;D+=8)N[A++]=this.g[S]>>>D&255;return N};function a(N,S){var A=h;return Object.prototype.hasOwnProperty.call(A,N)?A[N]:A[N]=S(N)}function u(N,S){this.h=S;for(var A=[],D=!0,M=N.length-1;0<=M;M--){var B=N[M]|0;D&&B==S||(A[M]=B,D=!1)}this.g=A}var h={};function f(N){return-128<=N&&128>N?a(N,function(S){return new u([S|0],0>S?-1:0)}):new u([N|0],0>N?-1:0)}function m(N){if(isNaN(N)||!isFinite(N))return w;if(0>N)return F(m(-N));for(var S=[],A=1,D=0;N>=A;D++)S[D]=N/A|0,A*=4294967296;return new u(S,0)}function v(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return F(v(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=m(Math.pow(S,8)),D=w,M=0;M<N.length;M+=8){var B=Math.min(8,N.length-M),k=parseInt(N.substring(M,M+B),S);8>B?(B=m(Math.pow(S,B)),D=D.j(B).add(m(k))):(D=D.j(A),D=D.add(m(k)))}return D}var w=f(0),T=f(1),C=f(16777216);n=u.prototype,n.m=function(){if(z(this))return-F(this).m();for(var N=0,S=1,A=0;A<this.g.length;A++){var D=this.i(A);N+=(0<=D?D:4294967296+D)*S,S*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(b(this))return"0";if(z(this))return"-"+F(this).toString(N);for(var S=m(Math.pow(N,6)),A=this,D="";;){var M=de(A,S).g;A=W(A,M.j(S));var B=((0<A.g.length?A.g[0]:A.h)>>>0).toString(N);if(A=M,b(A))return B+D;for(;6>B.length;)B="0"+B;D=B+D}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function b(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function z(N){return N.h==-1}n.l=function(N){return N=W(this,N),z(N)?-1:b(N)?0:1};function F(N){for(var S=N.g.length,A=[],D=0;D<S;D++)A[D]=~N.g[D];return new u(A,~N.h).add(T)}n.abs=function(){return z(this)?F(this):this},n.add=function(N){for(var S=Math.max(this.g.length,N.g.length),A=[],D=0,M=0;M<=S;M++){var B=D+(this.i(M)&65535)+(N.i(M)&65535),k=(B>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);D=k>>>16,B&=65535,k&=65535,A[M]=k<<16|B}return new u(A,A[A.length-1]&-2147483648?-1:0)};function W(N,S){return N.add(F(S))}n.j=function(N){if(b(this)||b(N))return w;if(z(this))return z(N)?F(this).j(F(N)):F(F(this).j(N));if(z(N))return F(this.j(F(N)));if(0>this.l(C)&&0>N.l(C))return m(this.m()*N.m());for(var S=this.g.length+N.g.length,A=[],D=0;D<2*S;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<N.g.length;M++){var B=this.i(D)>>>16,k=this.i(D)&65535,at=N.i(M)>>>16,ze=N.i(M)&65535;A[2*D+2*M]+=k*ze,re(A,2*D+2*M),A[2*D+2*M+1]+=B*ze,re(A,2*D+2*M+1),A[2*D+2*M+1]+=k*at,re(A,2*D+2*M+1),A[2*D+2*M+2]+=B*at,re(A,2*D+2*M+2)}for(D=0;D<S;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=S;D<2*S;D++)A[D]=0;return new u(A,0)};function re(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ee(N,S){this.g=N,this.h=S}function de(N,S){if(b(S))throw Error("division by zero");if(b(N))return new ee(w,w);if(z(N))return S=de(F(N),S),new ee(F(S.g),F(S.h));if(z(S))return S=de(N,F(S)),new ee(F(S.g),S.h);if(30<N.g.length){if(z(N)||z(S))throw Error("slowDivide_ only works with positive integers.");for(var A=T,D=S;0>=D.l(N);)A=j(A),D=j(D);var M=le(A,1),B=le(D,1);for(D=le(D,2),A=le(A,2);!b(D);){var k=B.add(D);0>=k.l(N)&&(M=M.add(A),B=k),D=le(D,1),A=le(A,1)}return S=W(N,M.j(S)),new ee(M,S)}for(M=w;0<=N.l(S);){for(A=Math.max(1,Math.floor(N.m()/S.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),B=m(A),k=B.j(S);z(k)||0<k.l(N);)A-=D,B=m(A),k=B.j(S);b(B)&&(B=T),M=M.add(B),N=W(N,k)}return new ee(M,N)}n.A=function(N){return de(this,N).h},n.and=function(N){for(var S=Math.max(this.g.length,N.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)&N.i(D);return new u(A,this.h&N.h)},n.or=function(N){for(var S=Math.max(this.g.length,N.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)|N.i(D);return new u(A,this.h|N.h)},n.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)^N.i(D);return new u(A,this.h^N.h)};function j(N){for(var S=N.g.length+1,A=[],D=0;D<S;D++)A[D]=N.i(D)<<1|N.i(D-1)>>>31;return new u(A,N.h)}function le(N,S){var A=S>>5;S%=32;for(var D=N.g.length-A,M=[],B=0;B<D;B++)M[B]=0<S?N.i(B+A)>>>S|N.i(B+A+1)<<32-S:N.i(B+A);return new u(M,N.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,ww=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Rs=u}).apply(typeof G_<"u"?G_:typeof self<"u"?self:typeof window<"u"?window:{});var vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tw,Cl,Iw,Mc,rp,Sw,Rw,Cw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vc=="object"&&vc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(c,g){if(g)e:{var _=i;c=c.split(".");for(var I=0;I<c.length-1;I++){var H=c[I];if(!(H in _))break e;_=_[H]}c=c[c.length-1],I=_[c],g=g(I),g!=I&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,I=!1,H={next:function(){if(!I&&_<c.length){var Y=_++;return{value:g(Y,c[Y]),done:!1}}return I=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,I),c.apply(g,H)}}return function(){return c.apply(g,arguments)}}function T(c,g,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,T.apply(null,arguments)}function C(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function b(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(I,H,Y){for(var ce=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)ce[pt-2]=arguments[pt];return g.prototype[H].apply(I,ce)}}function z(c){const g=c.length;if(0<g){const _=Array(g);for(let I=0;I<g;I++)_[I]=c[I];return _}return[]}function F(c,g){for(let _=1;_<arguments.length;_++){const I=arguments[_];if(f(I)){const H=c.length||0,Y=I.length||0;c.length=H+Y;for(let ce=0;ce<Y;ce++)c[H+ce]=I[ce]}else c.push(I)}}class W{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function re(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function de(c){return de[" "](c),c}de[" "]=function(){};var j=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function le(c,g,_){for(const I in c)g.call(_,c[I],I,c)}function N(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function S(c){const g={};for(const _ in c)g[_]=c[_];return g}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,g){let _,I;for(let H=1;H<arguments.length;H++){I=arguments[H];for(_ in I)c[_]=I[_];for(let Y=0;Y<A.length;Y++)_=A[Y],Object.prototype.hasOwnProperty.call(I,_)&&(c[_]=I[_])}}function M(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function B(c){h.setTimeout(()=>{throw c},0)}function k(){var c=_e;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class at{constructor(){this.h=this.g=null}add(g,_){const I=ze.get();I.set(g,_),this.h?this.h.next=I:this.g=I,this.h=I}}var ze=new W(()=>new dt,c=>c.reset());class dt{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Be,te=!1,_e=new at,he=()=>{const c=h.Promise.resolve(void 0);Be=()=>{c.then(U)}};var U=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(_){B(_)}var g=ze;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}te=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};h.addEventListener("test",_,g),h.removeEventListener("test",_,g)}catch{}return c}();function ke(c,g){if(fe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(j){e:{try{de(g.nodeName);var H=!0;break e}catch{}H=!1}H||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:$e[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ke.aa.h.call(this)}}b(ke,fe);var $e={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var He="closure_listenable_"+(1e6*Math.random()|0),qe=0;function Le(c,g,_,I,H){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!I,this.ha=H,this.key=++qe,this.da=this.fa=!1}function st(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Xt(c){this.src=c,this.g={},this.h=0}Xt.prototype.add=function(c,g,_,I,H){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ce=Pt(c,g,I,H);return-1<ce?(g=c[ce],_||(g.fa=!1)):(g=new Le(g,this.src,Y,!!I,H),g.fa=_,c.push(g)),g};function Sn(c,g){var _=g.type;if(_ in c.g){var I=c.g[_],H=Array.prototype.indexOf.call(I,g,void 0),Y;(Y=0<=H)&&Array.prototype.splice.call(I,H,1),Y&&(st(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Pt(c,g,_,I){for(var H=0;H<c.length;++H){var Y=c[H];if(!Y.da&&Y.listener==g&&Y.capture==!!_&&Y.ha==I)return H}return-1}var cn="closure_lm_"+(1e6*Math.random()|0),nt={};function Hn(c,g,_,I,H){if(Array.isArray(g)){for(var Y=0;Y<g.length;Y++)Hn(c,g[Y],_,I,H);return null}return _=dn(_),c&&c[He]?c.K(g,_,m(I)?!!I.capture:!1,H):Wn(c,g,_,!1,I,H)}function Wn(c,g,_,I,H,Y){if(!g)throw Error("Invalid event type");var ce=m(H)?!!H.capture:!!H,pt=pr(c);if(pt||(c[cn]=pt=new Xt(c)),_=pt.add(g,_,I,ce,Y),_.proxy)return _;if(I=Fi(),_.proxy=I,I.src=c,I.listener=_,c.addEventListener)Ae||(H=ce),H===void 0&&(H=!1),c.addEventListener(g.toString(),I,H);else if(c.attachEvent)c.attachEvent(Ft(g.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Fi(){function c(_){return g.call(c.src,c.listener,_)}const g=Kn;return c}function Fr(c,g,_,I,H){if(Array.isArray(g))for(var Y=0;Y<g.length;Y++)Fr(c,g[Y],_,I,H);else I=m(I)?!!I.capture:!!I,_=dn(_),c&&c[He]?(c=c.i,g=String(g).toString(),g in c.g&&(Y=c.g[g],_=Pt(Y,_,I,H),-1<_&&(st(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[g],c.h--)))):c&&(c=pr(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Pt(g,_,I,H)),(_=-1<c?g[c]:null)&&qn(_))}function qn(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[He])Sn(g.i,c);else{var _=c.type,I=c.proxy;g.removeEventListener?g.removeEventListener(_,I,c.capture):g.detachEvent?g.detachEvent(Ft(_),I):g.addListener&&g.removeListener&&g.removeListener(I),(_=pr(g))?(Sn(_,c),_.h==0&&(_.src=null,g[cn]=null)):st(c)}}}function Ft(c){return c in nt?nt[c]:nt[c]="on"+c}function Kn(c,g){if(c.da)c=!0;else{g=new ke(g,this);var _=c.listener,I=c.ha||c.src;c.fa&&qn(c),c=_.call(I,g)}return c}function pr(c){return c=c[cn],c instanceof Xt?c:null}var Gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function dn(c){return typeof c=="function"?c:(c[Gn]||(c[Gn]=function(g){return c.handleEvent(g)}),c[Gn])}function Se(){X.call(this),this.i=new Xt(this),this.M=this,this.F=null}b(Se,X),Se.prototype[He]=!0,Se.prototype.removeEventListener=function(c,g,_,I){Fr(this,c,g,_,I)};function ft(c,g){var _,I=c.F;if(I)for(_=[];I;I=I.F)_.push(I);if(c=c.M,I=g.type||g,typeof g=="string")g=new fe(g,c);else if(g instanceof fe)g.target=g.target||c;else{var H=g;g=new fe(I,c),D(g,H)}if(H=!0,_)for(var Y=_.length-1;0<=Y;Y--){var ce=g.g=_[Y];H=hn(ce,I,!0,g)&&H}if(ce=g.g=c,H=hn(ce,I,!0,g)&&H,H=hn(ce,I,!1,g)&&H,_)for(Y=0;Y<_.length;Y++)ce=g.g=_[Y],H=hn(ce,I,!1,g)&&H}Se.prototype.N=function(){if(Se.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],I=0;I<_.length;I++)st(_[I]);delete c.g[g],c.h--}}this.F=null},Se.prototype.K=function(c,g,_,I){return this.i.add(String(c),g,!1,_,I)},Se.prototype.L=function(c,g,_,I){return this.i.add(String(c),g,!0,_,I)};function hn(c,g,_,I){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var H=!0,Y=0;Y<g.length;++Y){var ce=g[Y];if(ce&&!ce.da&&ce.capture==_){var pt=ce.listener,Ut=ce.ha||ce.src;ce.fa&&Sn(c.i,ce),H=pt.call(Ut,I)!==!1&&H}}return H&&!I.defaultPrevented}function $s(c,g,_){if(typeof c=="function")_&&(c=T(c,_));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function Jt(c){c.g=$s(()=>{c.g=null,c.i&&(c.i=!1,Jt(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Ur extends X{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Jt(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(c){X.call(this),this.h=c,this.g={}}b(jr,X);var Ui=[];function zs(c){le(c.g,function(g,_){this.g.hasOwnProperty(_)&&qn(g)},c),c.g={}}jr.prototype.N=function(){jr.aa.N.call(this),zs(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ji=h.JSON.stringify,Br=h.JSON.parse,Bi=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function mr(){}mr.prototype.h=null;function $i(c){return c.h||(c.h=c.i())}function ui(){}var Dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qn(){fe.call(this,"d")}b(Qn,fe);function gr(){fe.call(this,"c")}b(gr,fe);var Rn={},Hs=null;function ci(){return Hs=Hs||new Se}Rn.La="serverreachability";function O(c){fe.call(this,Rn.La,c)}b(O,fe);function $(c){const g=ci();ft(g,new O(g))}Rn.STAT_EVENT="statevent";function Q(c,g){fe.call(this,Rn.STAT_EVENT,c),this.stat=g}b(Q,fe);function J(c){const g=ci();ft(g,new Q(g,c))}Rn.Ma="timingevent";function pe(c,g){fe.call(this,Rn.Ma,c),this.size=g}b(pe,fe);function ve(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function Pe(){this.g=!0}Pe.prototype.xa=function(){this.g=!1};function me(c,g,_,I,H,Y){c.info(function(){if(c.g)if(Y)for(var ce="",pt=Y.split("&"),Ut=0;Ut<pt.length;Ut++){var et=pt[Ut].split("=");if(1<et.length){var Wt=et[0];et=et[1];var bt=Wt.split("_");ce=2<=bt.length&&bt[1]=="type"?ce+(Wt+"="+et+"&"):ce+(Wt+"=redacted&")}}else ce=null;else ce=Y;return"XMLHTTP REQ ("+I+") [attempt "+H+"]: "+g+`
`+_+`
`+ce})}function we(c,g,_,I,H,Y,ce){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+H+"]: "+g+`
`+_+`
`+Y+" "+ce})}function ue(c,g,_,I){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+je(c,_)+(I?" "+I:"")})}function be(c,g){c.info(function(){return"TIMEOUT: "+g})}Pe.prototype.info=function(){};function je(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var I=_[c];if(!(2>I.length)){var H=I[1];if(Array.isArray(H)&&!(1>H.length)){var Y=H[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ce=1;ce<H.length;ce++)H[ce]=""}}}}return ji(_)}catch{return g}}var lt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qe;function rt(){}b(rt,mr),rt.prototype.g=function(){return new XMLHttpRequest},rt.prototype.i=function(){return{}},Qe=new rt;function ut(c,g,_,I){this.j=c,this.i=g,this.l=_,this.R=I||1,this.U=new jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yr}function yr(){this.i=null,this.g="",this.h=!1}var _r={},fn={};function Zt(c,g,_){c.L=1,c.v=qi(Yn(g)),c.m=_,c.P=!0,di(c,null)}function di(c,g){c.F=Date.now(),ct(c),c.A=Yn(c.v);var _=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),Gi(_.i,"t",I),c.C=0,_=c.j.J,c.h=new yr,c.g=Eu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Ur(T(c.Y,c,c.g),c.O)),g=c.U,_=c.g,I=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(Ui[0]=H.toString()),H=Ui);for(var Y=0;Y<H.length;Y++){var ce=Hn(_,H[Y],I||g.handleEvent,!1,g.h||g);if(!ce)break;g.g[ce.key]=ce}g=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),$(),me(c.i,c.u,c.A,c.l,c.R,c.m)}ut.prototype.ca=function(c){c=c.target;const g=this.M;g&&On(c)==3?g.j():this.Y(c)},ut.prototype.Y=function(c){try{if(c==this.g)e:{const bt=On(this.g);var g=this.g.Ba();const sr=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||Ha(this.g)))){this.J||bt!=4||g==7||(g==8||0>=sr?$(3):$(2)),Ze(this);var _=this.g.Z();this.X=_;t:if($r(this)){var I=Ha(this.g);c="";var H=I.length,Y=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),_t(this);var ce="";break t}this.h.i=new h.TextDecoder}for(g=0;g<H;g++)this.h.h=!0,c+=this.h.i.decode(I[g],{stream:!(Y&&g==H-1)});I.length=0,this.h.g+=c,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=_==200,we(this.i,this.u,this.A,this.l,this.R,bt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,Ut=this.g;if((pt=Ut.g?Ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(pt)){var et=pt;break t}}et=null}if(_=et)ue(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Er(this,_);else{this.o=!1,this.s=3,J(12),en(this),_t(this);break e}}if(this.P){_=!0;let Jn;for(;!this.J&&this.C<ce.length;)if(Jn=vr(this,ce),Jn==fn){bt==4&&(this.s=4,J(14),_=!1),ue(this.i,this.l,null,"[Incomplete Response]");break}else if(Jn==_r){this.s=4,J(15),ue(this.i,this.l,ce,"[Invalid Chunk]"),_=!1;break}else ue(this.i,this.l,Jn,null),Er(this,Jn);if($r(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||ce.length!=0||this.h.h||(this.s=1,J(16),_=!1),this.o=this.o&&_,!_)ue(this.i,this.l,ce,"[Invalid Chunked Response]"),en(this),_t(this);else if(0<ce.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),qa(Wt),Wt.M=!0,J(11))}}else ue(this.i,this.l,ce,null),Er(this,ce);bt==4&&en(this),this.o&&!this.J&&(bt==4?$o(this.j,this):(this.o=!1,ct(this)))}else Vo(this.g),_==400&&0<ce.indexOf("Unknown SID")?(this.s=3,J(12)):(this.s=0,J(13)),en(this),_t(this)}}}catch{}finally{}};function $r(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function vr(c,g){var _=c.C,I=g.indexOf(`
`,_);return I==-1?fn:(_=Number(g.substring(_,I)),isNaN(_)?_r:(I+=1,I+_>g.length?fn:(g=g.slice(I,I+_),c.C=I+_,g)))}ut.prototype.cancel=function(){this.J=!0,en(this)};function ct(c){c.S=Date.now()+c.I,hi(c,c.I)}function hi(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ve(T(c.ba,c),g)}function Ze(c){c.B&&(h.clearTimeout(c.B),c.B=null)}ut.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(be(this.i,this.A),this.L!=2&&($(),J(17)),en(this),this.s=2,_t(this)):hi(this,this.S-c)};function _t(c){c.j.G==0||c.J||$o(c.j,c)}function en(c){Ze(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,zs(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Er(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Cn(_.h,c))){if(!c.K&&Cn(_.h,c)&&_.G==3){try{var I=_.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var H=I;if(H[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Bo(_),Rr(_);else break e;jo(_),J(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=ve(T(_.Za,_),6e3));if(1>=No(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else yi(_,11)}else if((c.K||_.g==c)&&Bo(_),!re(g))for(H=_.Da.g.parse(g),g=0;g<H.length;g++){let et=H[g];if(_.T=et[0],et=et[1],_.G==2)if(et[0]=="c"){_.K=et[1],_.ia=et[2];const Wt=et[3];Wt!=null&&(_.la=Wt,_.j.info("VER="+_.la));const bt=et[4];bt!=null&&(_.Aa=bt,_.j.info("SVER="+_.Aa));const sr=et[5];sr!=null&&typeof sr=="number"&&0<sr&&(I=1.5*sr,_.L=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const Jn=c.g;if(Jn){const Ys=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ys){var Y=I.h;Y.g||Ys.indexOf("spdy")==-1&&Ys.indexOf("quic")==-1&&Ys.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(ja(Y,Y.h),Y.h=null))}if(I.D){const Ho=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ho&&(I.ya=Ho,mt(I.I,I.D,Ho))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),I=_;var ce=c;if(I.qa=vu(I,I.J?I.ia:null,I.W),ce.K){au(I.h,ce);var pt=ce,Ut=I.L;Ut&&(pt.I=Ut),pt.B&&(Ze(pt),ct(pt)),I.g=ce}else Qs(I);0<_.i.length&&qr(_)}else et[0]!="stop"&&et[0]!="close"||yi(_,7);else _.G==3&&(et[0]=="stop"||et[0]=="close"?et[0]=="stop"?yi(_,7):nn(_):et[0]!="noop"&&_.l&&_.l.ta(et),_.v=0)}}$(4)}catch{}}var vt=class{constructor(c,g){this.g=c,this.map=g}};function bn(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function No(c){return c.h?1:c.g?c.g.size:0}function Cn(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ja(c,g){c.g?c.g.add(g):c.h=g}function au(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}bn.prototype.cancel=function(){if(this.i=lu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function lu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return z(c.i)}function Do(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,I=0;I<_;I++)g.push(c[I]);return g}g=[],_=0;for(I in c)g[_++]=c[I];return g}function bo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const I in c)g[_++]=I;return g}}}function zi(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=bo(c),I=Do(c),H=I.length,Y=0;Y<H;Y++)g.call(void 0,I[Y],_&&_[Y],c)}var Ws=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hd(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var I=c[_].indexOf("="),H=null;if(0<=I){var Y=c[_].substring(0,I);H=c[_].substring(I+1)}else Y=c[_];g(Y,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function fi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof fi){this.h=c.h,qs(this,c.j),this.o=c.o,this.g=c.g,Hi(this,c.s),this.l=c.l;var g=c.i,_=new zr;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Wi(this,_),this.m=c.m}else c&&(g=String(c).match(Ws))?(this.h=!1,qs(this,g[1]||"",!0),this.o=Ye(g[2]||""),this.g=Ye(g[3]||"",!0),Hi(this,g[4]),this.l=Ye(g[5]||"",!0),Wi(this,g[6]||"",!0),this.m=Ye(g[7]||"")):(this.h=!1,this.i=new zr(null,this.h))}fi.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Ki(g,Lo,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Ki(g,Lo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ki(_,_.charAt(0)=="/"?du:cu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ki(_,Ba)),c.join("")};function Yn(c){return new fi(c)}function qs(c,g,_){c.j=_?Ye(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Hi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Wi(c,g,_){g instanceof zr?(c.i=g,Hr(c.i,c.h)):(_||(g=Ki(g,hu)),c.i=new zr(g,c.h))}function mt(c,g,_){c.i.set(g,_)}function qi(c){return mt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ye(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ki(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,uu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function uu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Lo=/[#\/\?@]/g,cu=/[#\?:]/g,du=/[#\?]/g,hu=/[#\?@]/g,Ba=/#/g;function zr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function tn(c){c.g||(c.g=new Map,c.h=0,c.i&&Hd(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=zr.prototype,n.add=function(c,g){tn(this),this.i=null,c=ir(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function wr(c,g){tn(c),g=ir(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Tr(c,g){return tn(c),g=ir(c,g),c.g.has(g)}n.forEach=function(c,g){tn(this),this.g.forEach(function(_,I){_.forEach(function(H){c.call(g,H,I,this)},this)},this)},n.na=function(){tn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let I=0;I<g.length;I++){const H=c[I];for(let Y=0;Y<H.length;Y++)_.push(g[I])}return _},n.V=function(c){tn(this);let g=[];if(typeof c=="string")Tr(this,c)&&(g=g.concat(this.g.get(ir(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return tn(this),this.i=null,c=ir(this,c),Tr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Gi(c,g,_){wr(c,g),0<_.length&&(c.i=null,c.g.set(ir(c,g),z(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var I=g[_];const Y=encodeURIComponent(String(I)),ce=this.V(I);for(I=0;I<ce.length;I++){var H=Y;ce[I]!==""&&(H+="="+encodeURIComponent(String(ce[I]))),c.push(H)}}return this.i=c.join("&")};function ir(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Hr(c,g){g&&!c.j&&(tn(c),c.i=null,c.g.forEach(function(_,I){var H=I.toLowerCase();I!=H&&(wr(this,I),Gi(this,H,_))},c)),c.j=g}function Wd(c,g){const _=new Pe;if(h.Image){const I=new Image;I.onload=C(Ln,_,"TestLoadImage: loaded",!0,g,I),I.onerror=C(Ln,_,"TestLoadImage: error",!1,g,I),I.onabort=C(Ln,_,"TestLoadImage: abort",!1,g,I),I.ontimeout=C(Ln,_,"TestLoadImage: timeout",!1,g,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else g(!1)}function fu(c,g){const _=new Pe,I=new AbortController,H=setTimeout(()=>{I.abort(),Ln(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:I.signal}).then(Y=>{clearTimeout(H),Y.ok?Ln(_,"TestPingServer: ok",!0,g):Ln(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(H),Ln(_,"TestPingServer: error",!1,g)})}function Ln(c,g,_,I,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),I(_)}catch{}}function qd(){this.g=new Bi}function pu(c,g,_){const I=_||"";try{zi(c,function(H,Y){let ce=H;m(H)&&(ce=ji(H)),g.push(I+Y+"="+encodeURIComponent(ce))})}catch(H){throw g.push(I+"type="+encodeURIComponent("_badmap")),H}}function pi(c){this.l=c.Ub||null,this.j=c.eb||!1}b(pi,mr),pi.prototype.g=function(){return new Ks(this.l,this.j)},pi.prototype.i=function(c){return function(){return c}}({});function Ks(c,g){Se.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Ks,Se),n=Ks.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Sr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ir(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Sr(this)),this.g&&(this.readyState=3,Sr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function mu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Ir(this):Sr(this),this.readyState==3&&mu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Ir(this))},n.Qa=function(c){this.g&&(this.response=c,Ir(this))},n.ga=function(){this.g&&Ir(this)};function Ir(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Sr(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Sr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function mi(c){let g="";return le(c,function(_,I){g+=I,g+=":",g+=_,g+=`\r
`}),g}function Qi(c,g,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=mi(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):mt(c,g,_))}function Tt(c){Se.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Tt,Se);var Kd=/^https?$/i,$a=["POST","PUT"];n=Tt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qe.g(),this.v=this.o?$i(this.o):$i(Qe),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Y){Gs(this,Y);return}if(c=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var H in I)_.set(H,I[H]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Y of I.keys())_.set(Y,I.get(Y));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call($a,g,void 0))||I||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ce]of _)this.g.setRequestHeader(Y,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mo(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Gs(this,Y)}};function Gs(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Oo(c),Xn(c)}function Oo(c){c.A||(c.A=!0,ft(c,"complete"),ft(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ft(this,"complete"),ft(this,"abort"),Xn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xn(this,!0)),Tt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?za(this):this.bb())},n.bb=function(){za(this)};function za(c){if(c.h&&typeof u<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)$s(c.Ea,0,c);else if(ft(c,"readystatechange"),On(c)==4){c.h=!1;try{const ce=c.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var I;if(I=ce===0){var H=String(c.D).match(Ws)[1]||null;!H&&h.self&&h.self.location&&(H=h.self.location.protocol.slice(0,-1)),I=!Kd.test(H?H.toLowerCase():"")}_=I}if(_)ft(c,"complete"),ft(c,"success");else{c.m=6;try{var Y=2<On(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Oo(c)}}finally{Xn(c)}}}}function Xn(c,g){if(c.g){Mo(c);const _=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||ft(c,"ready");try{_.onreadystatechange=I}catch{}}}function Mo(c){c.I&&(h.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Br(g)}};function Ha(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Vo(c){const g={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(re(c[I]))continue;var _=M(c[I]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=g[H]||[];g[H]=Y,Y.push(_)}N(g,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wr(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Wa(c){this.Aa=0,this.i=[],this.j=new Pe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wr("baseRetryDelayMs",5e3,c),this.cb=Wr("retryDelaySeedMs",1e4,c),this.Wa=Wr("forwardChannelMaxRetries",2,c),this.wa=Wr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new bn(c&&c.concurrentRequestLimit),this.Da=new qd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Wa.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,I){J(0),this.W=c,this.H=g||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.I=vu(this,null,this.W),qr(this)};function nn(c){if(Fo(c),c.G==3){var g=c.U++,_=Yn(c.I);if(mt(_,"SID",c.K),mt(_,"RID",g),mt(_,"TYPE","terminate"),gi(c,_),g=new ut(c,c.j,g),g.L=2,g.v=qi(Yn(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=g.v,_=!0),_||(g.g=Eu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ct(g)}_u(c)}function Rr(c){c.g&&(qa(c),c.g.cancel(),c.g=null)}function Fo(c){Rr(c),c.u&&(h.clearTimeout(c.u),c.u=null),Bo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function qr(c){if(!pn(c.h)&&!c.s){c.s=!0;var g=c.Ga;Be||he(),te||(Be(),te=!0),_e.add(g,c),c.B=0}}function Gd(c,g){return No(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ve(T(c.Ga,c,g),yu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new ut(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=S(Y),D(Y,this.S)):Y=this.S),this.m!==null||this.O||(H.H=Y,Y=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Yi(this,H,g),_=Yn(this.I),mt(_,"RID",c),mt(_,"CVER",22),this.D&&mt(_,"X-HTTP-Session-Id",this.D),gi(this,_),Y&&(this.O?g="headers="+encodeURIComponent(String(mi(Y)))+"&"+g:this.m&&Qi(_,this.m,Y)),ja(this.h,H),this.Ua&&mt(_,"TYPE","init"),this.P?(mt(_,"$req",g),mt(_,"SID","null"),H.T=!0,Zt(H,_,null)):Zt(H,_,g),this.G=2}}else this.G==3&&(c?Uo(this,c):this.i.length==0||pn(this.h)||Uo(this))};function Uo(c,g){var _;g?_=g.l:_=c.U++;const I=Yn(c.I);mt(I,"SID",c.K),mt(I,"RID",_),mt(I,"AID",c.T),gi(c,I),c.m&&c.o&&Qi(I,c.m,c.o),_=new ut(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Yi(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ja(c.h,_),Zt(_,I,g)}function gi(c,g){c.H&&le(c.H,function(_,I){mt(g,I,_)}),c.l&&zi({},function(_,I){mt(g,I,_)})}function Yi(c,g,_){_=Math.min(c.i.length,_);var I=c.l?T(c.l.Na,c.l,c):null;e:{var H=c.i;let Y=-1;for(;;){const ce=["count="+_];Y==-1?0<_?(Y=H[0].g,ce.push("ofs="+Y)):Y=0:ce.push("ofs="+Y);let pt=!0;for(let Ut=0;Ut<_;Ut++){let et=H[Ut].g;const Wt=H[Ut].map;if(et-=Y,0>et)Y=Math.max(0,H[Ut].g-100),pt=!1;else try{pu(Wt,ce,"req"+et+"_")}catch{I&&I(Wt)}}if(pt){I=ce.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,I}function Qs(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Be||he(),te||(Be(),te=!0),_e.add(g,c),c.v=0}}function jo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ve(T(c.Fa,c),yu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ve(T(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,J(10),Rr(this),gu(this))};function qa(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function gu(c){c.g=new ut(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Yn(c.qa);mt(g,"RID","rpc"),mt(g,"SID",c.K),mt(g,"AID",c.T),mt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&mt(g,"TO",c.ja),mt(g,"TYPE","xmlhttp"),gi(c,g),c.m&&c.o&&Qi(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=qi(Yn(g)),_.m=null,_.P=!0,di(_,c)}n.Za=function(){this.C!=null&&(this.C=null,Rr(this),jo(this),J(19))};function Bo(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function $o(c,g){var _=null;if(c.g==g){Bo(c),qa(c),c.g=null;var I=2}else if(Cn(c.h,g))_=g.D,au(c.h,g),I=1;else return;if(c.G!=0){if(g.o)if(I==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var H=c.B;I=ci(),ft(I,new pe(I,_)),qr(c)}else Qs(c);else if(H=g.s,H==3||H==0&&0<g.X||!(I==1&&Gd(c,g)||I==2&&jo(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),H){case 1:yi(c,5);break;case 4:yi(c,10);break;case 3:yi(c,6);break;default:yi(c,2)}}}function yu(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function yi(c,g){if(c.j.info("Error code "+g),g==2){var _=T(c.fb,c),I=c.Xa;const H=!I;I=new fi(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||qs(I,"https"),qi(I),H?Wd(I.toString(),_):fu(I.toString(),_)}else J(2);c.G=0,c.l&&c.l.sa(g),_u(c),Fo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),J(2)):(this.j.info("Failed to ping google.com"),J(1))};function _u(c){if(c.G=0,c.ka=[],c.l){const g=lu(c.h);(g.length!=0||c.i.length!=0)&&(F(c.ka,g),F(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function vu(c,g,_){var I=_ instanceof fi?Yn(_):new fi(_);if(I.g!="")g&&(I.g=g+"."+I.g),Hi(I,I.s);else{var H=h.location;I=H.protocol,g=g?g+"."+H.hostname:H.hostname,H=+H.port;var Y=new fi(null);I&&qs(Y,I),g&&(Y.g=g),H&&Hi(Y,H),_&&(Y.l=_),I=Y}return _=c.D,g=c.ya,_&&g&&mt(I,_,g),mt(I,"VER",c.la),gi(c,I),I}function Eu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Tt(new pi({eb:_})):new Tt(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ka(){}n=Ka.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function zo(){}zo.prototype.g=function(c,g){return new An(c,g)};function An(c,g){Se.call(this),this.g=new Wa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!re(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!re(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Kr(this)}b(An,Se),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){nn(this.g)},An.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=ji(c),c=_);g.i.push(new vt(g.Ya++,c)),g.G==3&&qr(g)},An.prototype.N=function(){this.g.l=null,delete this.j,nn(this.g),delete this.g,An.aa.N.call(this)};function wu(c){Qn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}b(wu,Qn);function Tu(){gr.call(this),this.status=1}b(Tu,gr);function Kr(c){this.g=c}b(Kr,Ka),Kr.prototype.ua=function(){ft(this.g,"a")},Kr.prototype.ta=function(c){ft(this.g,new wu(c))},Kr.prototype.sa=function(c){ft(this.g,new Tu)},Kr.prototype.ra=function(){ft(this.g,"b")},zo.prototype.createWebChannel=zo.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,Cw=function(){return new zo},Rw=function(){return ci()},Sw=Rn,rp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lt.NO_ERROR=0,lt.TIMEOUT=8,lt.HTTP_ERROR=6,Mc=lt,kt.COMPLETE="complete",Iw=kt,ui.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",Se.prototype.listen=Se.prototype.K,Cl=ui,Tt.prototype.listenOnce=Tt.prototype.L,Tt.prototype.getLastError=Tt.prototype.Ka,Tt.prototype.getLastErrorCode=Tt.prototype.Ba,Tt.prototype.getStatus=Tt.prototype.Z,Tt.prototype.getResponseJson=Tt.prototype.Oa,Tt.prototype.getResponseText=Tt.prototype.oa,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Ha,Tw=Tt}).apply(typeof vc<"u"?vc:typeof self<"u"?self:typeof window<"u"?window:{});const Q_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oa="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new jp("@firebase/firestore");function ma(){return Io.logLevel}function ye(n,...e){if(Io.logLevel<=Ke.DEBUG){const t=e.map(Jp);Io.debug(`Firestore (${Oa}): ${n}`,...t)}}function bi(n,...e){if(Io.logLevel<=Ke.ERROR){const t=e.map(Jp);Io.error(`Firestore (${Oa}): ${n}`,...t)}}function Ca(n,...e){if(Io.logLevel<=Ke.WARN){const t=e.map(Jp);Io.warn(`Firestore (${Oa}): ${n}`,...t)}}function Jp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(n="Unexpected state"){const e=`FIRESTORE (${Oa}) INTERNAL ASSERTION FAILED: `+n;throw bi(e),new Error(e)}function ht(n,e){n||Ve()}function Ue(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends Mi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(En.UNAUTHENTICATED))}shutdown(){}}class Lk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ok{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ht(this.o===void 0);let i=this.i;const o=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let a=new Cs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Cs,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},h=f=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Cs)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ht(typeof i.accessToken=="string"),new Aw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string"),new En(e)}}class Mk{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=En.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Vk{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Mk(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Uk{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ht(this.o===void 0);const i=a=>{a.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,ye("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ht(typeof t.token=="string"),this.R=t.token,new Fk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=jk(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%e.length))}return i}}function Xe(n,e){return n<e?-1:n>e?1:0}function Aa(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new zt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ce(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ce(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ce(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new zt(0,0))}static max(){return new Fe(new zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ve(),i===void 0?i=e.length-t:i>e.length-t&&Ve(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Jr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=Jr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=Jr.isNumericId(e),o=Jr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Jr.extractNumericId(e).compare(Jr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rs.fromString(e.substring(4,e.length-2))}}class St extends Jr{construct(e,t,i){return new St(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ce(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new St(t)}static emptyPath(){return new St([])}}const Bk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Jr{construct(e,t,i){return new an(e,t,i)}static isValidIdentifier(e){return Bk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new an(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new Ce(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new Ce(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ce(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(i+=h,o++):(a(),o++)}if(a(),u)throw new Ce(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(t)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(St.fromString(e))}static fromName(e){return new De(St.fromString(e).popFirst(5))}static empty(){return new De(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return St.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new St(e.slice()))}}function $k(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Fe.fromTimestamp(i===1e9?new zt(t+1,0):new zt(t,i));return new xs(o,De.empty(),e)}function zk(n){return new xs(n.readTime,n.key,-1)}class xs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new xs(Fe.min(),De.empty(),-1)}static max(){return new xs(Fe.max(),De.empty(),-1)}}function Hk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=De.comparator(n.documentKey,e.documentKey),t!==0?t:Xe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==Wk)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,i)=>{t(e)})}static reject(e){return new Z((t,i)=>{i(e)})}static waitFor(e){return new Z((t,i)=>{let o=0,a=0,u=!1;e.forEach(h=>{++o,h.next(()=>{++a,u&&a===o&&t()},f=>i(f))}),u=!0,a===o&&t()})}static or(e){let t=Z.resolve(!1);for(const i of e)t=t.next(o=>o?Z.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new Z((i,o)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next(v=>{u[m]=v,++h,h===a&&i(u)},v=>o(v))}})}static doWhile(e,t){return new Z((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function Kk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Va(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Id.oe=-1;function Sd(n){return n==null}function nd(n){return n===0&&1/n==-1/0}function Gk(n){return typeof n=="number"&&Number.isInteger(n)&&!nd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Y_(e)),e=Yk(n.get(t),e);return Y_(e)}function Yk(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function Y_(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Us(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function kw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,t){this.comparator=e,this.root=t||on.EMPTY}insert(e,t){return new At(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ec(this.root,e,this.comparator,!0)}}class Ec{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??on.RED,this.left=o??on.EMPTY,this.right=a??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new on(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return on.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ve();const e=this.left.check();if(e!==this.right.check())throw Ve();return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve()}get value(){throw Ve()}get color(){throw Ve()}get left(){throw Ve()}get right(){throw Ve()}copy(e,t,i,o,a){return this}insert(e,t,i){return new on(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new J_(this.data.getIterator())}getIteratorFrom(e){return new J_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ht(this.comparator);return t.data=e,t}}class J_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new rr([])}unionWith(e){let t=new Ht(an.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new rr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Aa(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new xw("Invalid base64 string: "+a):a}}(e);return new un(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new un(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const Xk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ns(n){if(ht(!!n),typeof n=="string"){let e=0;const t=Xk.exec(n);if(ht(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Dt(n.seconds),nanos:Dt(n.nanos)}}function Dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ds(n){return typeof n=="string"?un.fromBase64String(n):un.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Rd(n){const e=n.mapValue.fields.__previous_value__;return Zp(e)?Rd(e):e}function jl(n){const e=Ns(n.mapValue.fields.__local_write_time__.timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,t,i,o,a,u,h,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m}}class Bl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Zp(n)?4:e1(n)?9007199254740991:Zk(n)?10:11:Ve()}function oi(n,e){if(n===e)return!0;const t=bs(n);if(t!==bs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return jl(n).isEqual(jl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Ns(o.timestampValue),h=Ns(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Ds(o.bytesValue).isEqual(Ds(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return Dt(o.geoPointValue.latitude)===Dt(a.geoPointValue.latitude)&&Dt(o.geoPointValue.longitude)===Dt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Dt(o.integerValue)===Dt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Dt(o.doubleValue),h=Dt(a.doubleValue);return u===h?nd(u)===nd(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Aa(n.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(X_(u)!==X_(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!oi(u[f],h[f])))return!1;return!0}(n,e);default:return Ve()}}function $l(n,e){return(n.values||[]).find(t=>oi(t,e))!==void 0}function Pa(n,e){if(n===e)return 0;const t=bs(n),i=bs(e);if(t!==i)return Xe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xe(n.booleanValue,e.booleanValue);case 2:return function(a,u){const h=Dt(a.integerValue||a.doubleValue),f=Dt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return Z_(n.timestampValue,e.timestampValue);case 4:return Z_(jl(n),jl(e));case 5:return Xe(n.stringValue,e.stringValue);case 6:return function(a,u){const h=Ds(a),f=Ds(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),f=u.split("/");for(let m=0;m<h.length&&m<f.length;m++){const v=Xe(h[m],f[m]);if(v!==0)return v}return Xe(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const h=Xe(Dt(a.latitude),Dt(u.latitude));return h!==0?h:Xe(Dt(a.longitude),Dt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ev(n.arrayValue,e.arrayValue);case 10:return function(a,u){var h,f,m,v;const w=a.fields||{},T=u.fields||{},C=(h=w.value)===null||h===void 0?void 0:h.arrayValue,b=(f=T.value)===null||f===void 0?void 0:f.arrayValue,z=Xe(((m=C==null?void 0:C.values)===null||m===void 0?void 0:m.length)||0,((v=b==null?void 0:b.values)===null||v===void 0?void 0:v.length)||0);return z!==0?z:ev(C,b)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===wc.mapValue&&u===wc.mapValue)return 0;if(a===wc.mapValue)return 1;if(u===wc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let w=0;w<f.length&&w<v.length;++w){const T=Xe(f[w],v[w]);if(T!==0)return T;const C=Pa(h[f[w]],m[v[w]]);if(C!==0)return C}return Xe(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Ve()}}function Z_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Xe(n,e);const t=Ns(n),i=Ns(e),o=Xe(t.seconds,i.seconds);return o!==0?o:Xe(t.nanos,i.nanos)}function ev(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=Pa(t[o],i[o]);if(a)return a}return Xe(t.length,i.length)}function ka(n){return ip(n)}function ip(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ns(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ds(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return De.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=ip(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${ip(t.fields[u])}`;return o+"}"}(n.mapValue):Ve()}function Vc(n){switch(bs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rd(n);return e?16+Vc(e):16;case 5:return 2*n.stringValue.length;case 6:return Ds(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+Vc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Us(i.fields,(a,u)=>{o+=a.length+Vc(u)}),o}(n.mapValue);default:throw Ve()}}function sp(n){return!!n&&"integerValue"in n}function em(n){return!!n&&"arrayValue"in n}function tv(n){return!!n&&"nullValue"in n}function nv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Fc(n){return!!n&&"mapValue"in n}function Zk(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Nl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Us(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Nl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Nl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function e1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Fc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nl(t)}setAll(e){let t=an.emptyPath(),i={},o=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,i,o),i={},o=[],t=h.popLast()}u?i[h.lastSegment()]=Nl(u):o.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());Fc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Fc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Us(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new zn(Nl(this.value))}}function Nw(n){const e=[];return Us(n.fields,(t,i)=>{const o=new an([t]);if(Fc(i)){const a=Nw(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,t,i,o,a,u,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new wn(e,0,Fe.min(),Fe.min(),Fe.min(),zn.empty(),0)}static newFoundDocument(e,t,i,o){return new wn(e,1,t,Fe.min(),i,o,0)}static newNoDocument(e,t){return new wn(e,2,t,Fe.min(),Fe.min(),zn.empty(),0)}static newUnknownDocument(e,t){return new wn(e,3,t,Fe.min(),Fe.min(),zn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,t){this.position=e,this.inclusive=t}}function rv(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?i=De.comparator(De.fromName(u.referenceValue),t.key):i=Pa(u,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function iv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!oi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,t="asc"){this.field=e,this.dir=t}}function t1(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{}class $t extends Dw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new r1(e,t,i):t==="array-contains"?new o1(e,i):t==="in"?new a1(e,i):t==="not-in"?new l1(e,i):t==="array-contains-any"?new u1(e,i):new $t(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new i1(e,i):new s1(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Pa(t,this.value)):t!==null&&bs(this.value)===bs(t)&&this.matchesComparison(Pa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends Dw{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ai(e,t)}matches(e){return bw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function bw(n){return n.op==="and"}function Lw(n){return n1(n)&&bw(n)}function n1(n){for(const e of n.filters)if(e instanceof ai)return!1;return!0}function op(n){if(n instanceof $t)return n.field.canonicalString()+n.op.toString()+ka(n.value);if(Lw(n))return n.filters.map(e=>op(e)).join(",");{const e=n.filters.map(t=>op(t)).join(",");return`${n.op}(${e})`}}function Ow(n,e){return n instanceof $t?function(i,o){return o instanceof $t&&i.op===o.op&&i.field.isEqual(o.field)&&oi(i.value,o.value)}(n,e):n instanceof ai?function(i,o){return o instanceof ai&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,u,h)=>a&&Ow(u,o.filters[h]),!0):!1}(n,e):void Ve()}function Mw(n){return n instanceof $t?function(t){return`${t.field.canonicalString()} ${t.op} ${ka(t.value)}`}(n):n instanceof ai?function(t){return t.op.toString()+" {"+t.getFilters().map(Mw).join(" ,")+"}"}(n):"Filter"}class r1 extends $t{constructor(e,t,i){super(e,t,i),this.key=De.fromName(i.referenceValue)}matches(e){const t=De.comparator(e.key,this.key);return this.matchesComparison(t)}}class i1 extends $t{constructor(e,t){super(e,"in",t),this.keys=Vw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class s1 extends $t{constructor(e,t){super(e,"not-in",t),this.keys=Vw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Vw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>De.fromName(i.referenceValue))}class o1 extends $t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return em(t)&&$l(t.arrayValue,this.value)}}class a1 extends $t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&$l(this.value.arrayValue,t)}}class l1 extends $t{constructor(e,t){super(e,"not-in",t)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!$l(this.value.arrayValue,t)}}class u1 extends $t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!em(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>$l(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,t=null,i=[],o=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=h,this.ue=null}}function sv(n,e=null,t=[],i=[],o=null,a=null,u=null){return new c1(n,e,t,i,o,a,u)}function tm(n){const e=Ue(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>op(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Sd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ka(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ka(i)).join(",")),e.ue=t}return e.ue}function nm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!t1(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Ow(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!iv(n.startAt,e.startAt)&&iv(n.endAt,e.endAt)}function ap(n){return De.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,t=null,i=[],o=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function d1(n,e,t,i,o,a,u,h){return new Cd(n,e,t,i,o,a,u,h)}function Fw(n){return new Cd(n)}function ov(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function h1(n){return n.collectionGroup!==null}function Dl(n){const e=Ue(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Ht(an.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new id(a,i))}),t.has(an.keyField().canonicalString())||e.ce.push(new id(an.keyField(),i))}return e.ce}function ii(n){const e=Ue(n);return e.le||(e.le=f1(e,Dl(n))),e.le}function f1(n,e){if(n.limitType==="F")return sv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new id(o.field,a)});const t=n.endAt?new rd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new rd(n.startAt.position,n.startAt.inclusive):null;return sv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function lp(n,e,t){return new Cd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ad(n,e){return nm(ii(n),ii(e))&&n.limitType===e.limitType}function Uw(n){return`${tm(ii(n))}|lt:${n.limitType}`}function ga(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>Mw(o)).join(", ")}]`),Sd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>ka(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>ka(o)).join(",")),`Target(${i})`}(ii(n))}; limitType=${n.limitType})`}function Pd(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):De.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of Dl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(u,h,f){const m=rv(u,h,f);return u.inclusive?m<=0:m<0}(i.startAt,Dl(i),o)||i.endAt&&!function(u,h,f){const m=rv(u,h,f);return u.inclusive?m>=0:m>0}(i.endAt,Dl(i),o))}(n,e)}function p1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function jw(n){return(e,t)=>{let i=!1;for(const o of Dl(n)){const a=m1(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function m1(n,e,t){const i=n.field.isKeyField()?De.comparator(e.key,t.key):function(a,u,h){const f=u.data.field(a),m=h.data.field(a);return f!==null&&m!==null?Pa(f,m):Ve()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Us(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return kw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=new At(De.comparator);function Li(){return g1}const Bw=new At(De.comparator);function Al(...n){let e=Bw;for(const t of n)e=e.insert(t.key,t);return e}function $w(n){let e=Bw;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function _o(){return bl()}function zw(){return bl()}function bl(){return new Po(n=>n.toString(),(n,e)=>n.isEqual(e))}const y1=new At(De.comparator),_1=new Ht(De.comparator);function Ge(...n){let e=_1;for(const t of n)e=e.add(t);return e}const v1=new Ht(Xe);function E1(){return v1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nd(e)?"-0":e}}function Hw(n){return{integerValue:""+n}}function w1(n,e){return Gk(e)?Hw(e):rm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(){this._=void 0}}function T1(n,e,t){return n instanceof sd?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Zp(a)&&(a=Rd(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof zl?qw(n,e):n instanceof Hl?Kw(n,e):function(o,a){const u=Ww(o,a),h=av(u)+av(o.Pe);return sp(u)&&sp(o.Pe)?Hw(h):rm(o.serializer,h)}(n,e)}function I1(n,e,t){return n instanceof zl?qw(n,e):n instanceof Hl?Kw(n,e):t}function Ww(n,e){return n instanceof od?function(i){return sp(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class sd extends kd{}class zl extends kd{constructor(e){super(),this.elements=e}}function qw(n,e){const t=Gw(e);for(const i of n.elements)t.some(o=>oi(o,i))||t.push(i);return{arrayValue:{values:t}}}class Hl extends kd{constructor(e){super(),this.elements=e}}function Kw(n,e){let t=Gw(e);for(const i of n.elements)t=t.filter(o=>!oi(o,i));return{arrayValue:{values:t}}}class od extends kd{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function av(n){return Dt(n.integerValue||n.doubleValue)}function Gw(n){return em(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function S1(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof zl&&o instanceof zl||i instanceof Hl&&o instanceof Hl?Aa(i.elements,o.elements,oi):i instanceof od&&o instanceof od?oi(i.Pe,o.Pe):i instanceof sd&&o instanceof sd}(n.transform,e.transform)}class R1{constructor(e,t){this.version=e,this.transformResults=t}}class Lr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Lr}static exists(e){return new Lr(void 0,e)}static updateTime(e){return new Lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class xd{}function Qw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new im(n.key,Lr.none()):new tu(n.key,n.data,Lr.none());{const t=n.data,i=zn.empty();let o=new Ht(an.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new js(n.key,i,new rr(o.toArray()),Lr.none())}}function C1(n,e,t){n instanceof tu?function(o,a,u){const h=o.value.clone(),f=uv(o.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof js?function(o,a,u){if(!Uc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=uv(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(Yw(o)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Ll(n,e,t,i){return n instanceof tu?function(a,u,h,f){if(!Uc(a.precondition,u))return h;const m=a.value.clone(),v=cv(a.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof js?function(a,u,h,f){if(!Uc(a.precondition,u))return h;const m=cv(a.fieldTransforms,f,u),v=u.data;return v.setAll(Yw(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,i):function(a,u,h){return Uc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function A1(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=Ww(i.transform,o||null);a!=null&&(t===null&&(t=zn.empty()),t.set(i.field,a))}return t||null}function lv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Aa(i,o,(a,u)=>S1(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class tu extends xd{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class js extends xd{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Yw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function uv(n,e,t){const i=new Map;ht(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,h=e.data.field(a.field);i.set(a.field,I1(u,h,t[o]))}return i}function cv(n,e,t){const i=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);i.set(o.field,T1(a,u,e))}return i}class im extends xd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class P1 extends xd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&C1(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ll(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ll(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=zw();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(o.key)?null:h;const f=Qw(u,h);f!==null&&i.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Fe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ge())}isEqual(e){return this.batchId===e.batchId&&Aa(this.mutations,e.mutations,(t,i)=>lv(t,i))&&Aa(this.baseMutations,e.baseMutations,(t,i)=>lv(t,i))}}class sm{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){ht(e.mutations.length===i.length);let o=function(){return y1}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new sm(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,tt;function D1(n){switch(n){default:return Ve();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}function Xw(n){if(n===void 0)return bi("GRPC error has no .code"),se.UNKNOWN;switch(n){case Ot.OK:return se.OK;case Ot.CANCELLED:return se.CANCELLED;case Ot.UNKNOWN:return se.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return se.INTERNAL;case Ot.UNAVAILABLE:return se.UNAVAILABLE;case Ot.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Ot.NOT_FOUND:return se.NOT_FOUND;case Ot.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Ot.ABORTED:return se.ABORTED;case Ot.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Ot.DATA_LOSS:return se.DATA_LOSS;default:return Ve()}}(tt=Ot||(Ot={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=new Rs([4294967295,4294967295],0);function dv(n){const e=b1().encode(n),t=new ww;return t.update(e),new Uint8Array(t.digest())}function hv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Rs([t,i],0),new Rs([o,a],0)]}class om{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Pl(`Invalid padding: ${t}`);if(i<0)throw new Pl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Rs.fromNumber(this.Te)}de(e,t,i){let o=e.add(t.multiply(Rs.fromNumber(i)));return o.compare(L1)===1&&(o=new Rs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=dv(e),[i,o]=hv(t);for(let a=0;a<this.hashCount;a++){const u=this.de(i,o,a);if(!this.Ee(u))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new om(a,o,t);return i.forEach(h=>u.insert(h)),u}insert(e){if(this.Te===0)return;const t=dv(e),[i,o]=hv(t);for(let a=0;a<this.hashCount;a++){const u=this.de(i,o,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Nd(Fe.min(),o,new At(Xe),Li(),Ge())}}class nu{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new nu(i,t,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class Jw{constructor(e,t){this.targetId=e,this.me=t}}class Zw{constructor(e,t,i=un.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class fv{constructor(){this.fe=0,this.ge=pv(),this.pe=un.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ge(),t=Ge(),i=Ge();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ve()}}),new nu(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=pv()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ht(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class O1{constructor(e){this.Be=e,this.Le=new Map,this.ke=Li(),this.qe=Tc(),this.Qe=Tc(),this.Ke=new At(Xe)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Ve()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const a=o.target;if(ap(a))if(i===0){const u=new De(a.path);this.We(t,u,wn.newNoDocument(u,Fe.min()))}else ht(i===1);else{const u=this.Ze(t);if(u!==i){const h=this.Xe(e),f=h?this.et(h,e,u):1;if(f!==0){this.He(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,m)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let u,h;try{u=Ds(i).toUint8Array()}catch(f){if(f instanceof xw)return Ca("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new om(u,o,a)}catch(f){return Ca(f instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Te===0?null:h}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Be.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const u=this.Be.nt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.We(t,a,null),o++)}),o}it(e){const t=new Map;this.Le.forEach((a,u)=>{const h=this.Ye(u);if(h){if(a.current&&ap(h.target)){const f=new De(h.target.path);this.st(f).has(u)||this.ot(u,f)||this.We(u,f,wn.newNoDocument(f,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let i=Ge();this.Qe.forEach((a,u)=>{let h=!0;u.forEachWhile(f=>{const m=this.Ye(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const o=new Nd(e,t,this.Ke,this.ke,i);return this.ke=Li(),this.qe=Tc(),this.Qe=Tc(),this.Ke=new At(Xe),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new fv,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Ht(Xe),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ht(Xe),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new fv),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function Tc(){return new At(De.comparator)}function pv(){return new At(De.comparator)}const M1={asc:"ASCENDING",desc:"DESCENDING"},V1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F1={and:"AND",or:"OR"};class U1{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function up(n,e){return n.useProto3Json||Sd(e)?e:{value:e}}function ad(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function j1(n,e){return ad(n,e.toTimestamp())}function si(n){return ht(!!n),Fe.fromTimestamp(function(t){const i=Ns(t);return new zt(i.seconds,i.nanos)}(n))}function am(n,e){return cp(n,e).canonicalString()}function cp(n,e){const t=function(o){return new St(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function tT(n){const e=St.fromString(n);return ht(oT(e)),e}function dp(n,e){return am(n.databaseId,e.path)}function Df(n,e){const t=tT(e);if(t.get(1)!==n.databaseId.projectId)throw new Ce(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ce(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new De(rT(t))}function nT(n,e){return am(n.databaseId,e)}function B1(n){const e=tT(n);return e.length===4?St.emptyPath():rT(e)}function hp(n){return new St(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rT(n){return ht(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function mv(n,e,t){return{name:dp(n,e),fields:t.value.mapValue.fields}}function $1(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(ht(v===void 0||typeof v=="string"),un.fromBase64String(v||"")):(ht(v===void 0||v instanceof Buffer||v instanceof Uint8Array),un.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(m){const v=m.code===void 0?se.UNKNOWN:Xw(m.code);return new Ce(v,m.message||"")}(u);t=new Zw(i,o,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Df(n,i.document.name),a=si(i.document.updateTime),u=i.document.createTime?si(i.document.createTime):Fe.min(),h=new zn({mapValue:{fields:i.document.fields}}),f=wn.newFoundDocument(o,a,u,h),m=i.targetIds||[],v=i.removedTargetIds||[];t=new jc(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Df(n,i.document),a=i.readTime?si(i.readTime):Fe.min(),u=wn.newNoDocument(o,a),h=i.removedTargetIds||[];t=new jc([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Df(n,i.document),a=i.removedTargetIds||[];t=new jc([],a,o,null)}else{if(!("filter"in e))return Ve();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new N1(o,a),h=i.targetId;t=new Jw(h,u)}}return t}function z1(n,e){let t;if(e instanceof tu)t={update:mv(n,e.key,e.value)};else if(e instanceof im)t={delete:dp(n,e.key)};else if(e instanceof js)t={update:mv(n,e.key,e.data),updateMask:J1(e.fieldMask)};else{if(!(e instanceof P1))return Ve();t={verify:dp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,u){const h=u.transform;if(h instanceof sd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof zl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Hl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof od)return{fieldPath:u.field.canonicalString(),increment:h.Pe};throw Ve()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:j1(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ve()}(n,e.precondition)),t}function H1(n,e){return n&&n.length>0?(ht(e!==void 0),n.map(t=>function(o,a){let u=o.updateTime?si(o.updateTime):si(a);return u.isEqual(Fe.min())&&(u=si(a)),new R1(u,o.transformResults||[])}(t,e))):[]}function W1(n,e){return{documents:[nT(n,e.path)]}}function q1(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=nT(n,o);const a=function(m){if(m.length!==0)return sT(ai.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(v=>function(T){return{field:ya(T.field),direction:Q1(T.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=up(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ct:t,parent:o}}function K1(n){let e=B1(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){ht(i===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(w){const T=iT(w);return T instanceof ai&&Lw(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(T=>function(b){return new id(_a(b.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(T))}(t.orderBy));let h=null;t.limit&&(h=function(w){let T;return T=typeof w=="object"?w.value:w,Sd(T)?null:T}(t.limit));let f=null;t.startAt&&(f=function(w){const T=!!w.before,C=w.values||[];return new rd(C,T)}(t.startAt));let m=null;return t.endAt&&(m=function(w){const T=!w.before,C=w.values||[];return new rd(C,T)}(t.endAt)),d1(e,o,u,a,h,"F",f,m)}function G1(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function iT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=_a(t.unaryFilter.field);return $t.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=_a(t.unaryFilter.field);return $t.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=_a(t.unaryFilter.field);return $t.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=_a(t.unaryFilter.field);return $t.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ve()}}(n):n.fieldFilter!==void 0?function(t){return $t.create(_a(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ve()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ai.create(t.compositeFilter.filters.map(i=>iT(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ve()}}(t.compositeFilter.op))}(n):Ve()}function Q1(n){return M1[n]}function Y1(n){return V1[n]}function X1(n){return F1[n]}function ya(n){return{fieldPath:n.canonicalString()}}function _a(n){return an.fromServerFormat(n.fieldPath)}function sT(n){return n instanceof $t?function(t){if(t.op==="=="){if(nv(t.value))return{unaryFilter:{field:ya(t.field),op:"IS_NAN"}};if(tv(t.value))return{unaryFilter:{field:ya(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(nv(t.value))return{unaryFilter:{field:ya(t.field),op:"IS_NOT_NAN"}};if(tv(t.value))return{unaryFilter:{field:ya(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ya(t.field),op:Y1(t.op),value:t.value}}}(n):n instanceof ai?function(t){const i=t.getFilters().map(o=>sT(o));return i.length===1?i[0]:{compositeFilter:{op:X1(t.op),filters:i}}}(n):Ve()}function J1(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function oT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,t,i,o,a=Fe.min(),u=Fe.min(),h=un.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.ht=e}}function ex(n){const e=K1({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.ln=new nx}addToCollectionParentIndex(e,t){return this.ln.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(xs.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(xs.min())}updateCollectionGroup(e,t,i){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class nx{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Ht(St.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Ht(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class $n{static withCacheSize(e){return new $n(e,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(41943040,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new xa(0)}static Qn(){return new xa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv([n,e],[t,i]){const o=Xe(n,t);return o===0?Xe(e,i):o}class rx{constructor(e){this.Gn=e,this.buffer=new Ht(yv),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();yv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ix{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ye("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Va(t)?ye("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Ma(t)}await this.Yn(3e5)})}}class sx{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(Id.oe);const i=new rx(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(gv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gv):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,a,u,h,f,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(i=w,h=Date.now(),this.removeTargets(e,i,t))).next(w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(m=Date.now(),ma()<=Ke.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${w} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:w})))}}function ox(n,e){return new sx(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(){this.changes=new Po(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Z.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Ll(i.mutation,o,rr.empty(),zt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ge()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ge()){const o=_o();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let u=Al();return a.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=_o();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ge()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,i,o){let a=Li();const u=bl(),h=function(){return bl()}();return t.forEach((f,m)=>{const v=i.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof js)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),Ll(v.mutation,m,v.mutation.getFieldMask(),zt.now())):u.set(m.key,rr.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((m,v)=>u.set(m,v)),t.forEach((m,v)=>{var w;return h.set(m,new lx(v,(w=u.get(m))!==null&&w!==void 0?w:null))}),h))}recalculateAndSaveOverlays(e,t){const i=bl();let o=new At((u,h)=>u-h),a=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let v=i.get(f)||rr.empty();v=h.applyToLocalView(m,v),i.set(f,v);const w=(o.get(h.batchId)||Ge()).add(f);o=o.insert(h.batchId,w)})}).next(()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,v=f.value,w=zw();v.forEach(T=>{if(!a.has(T)){const C=Qw(t.get(T),i.get(T));C!==null&&w.set(T,C),a=a.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,w))}return Z.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(u){return De.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):h1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):Z.resolve(_o());let h=-1,f=a;return u.next(m=>Z.forEach(m,(v,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),a.get(v)?Z.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{f=f.insert(v,T)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,f,m,Ge())).next(v=>({batchId:h,changes:$w(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new De(t)).next(i=>{let o=Al();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let u=Al();return this.indexManager.getCollectionParents(e,a).next(h=>Z.forEach(h,f=>{const m=function(w,T){return new Cd(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next(v=>{v.forEach((w,T)=>{u=u.insert(w,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(u=>{a.forEach((f,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,wn.newInvalidDocument(v)))});let h=Al();return u.forEach((f,m)=>{const v=a.get(f);v!==void 0&&Ll(v.mutation,m,rr.empty(),zt.now()),Pd(t,m)&&(h=h.insert(f,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Z.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:si(o.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:ex(o.bundledQuery),readTime:si(o.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(){this.overlays=new At(De.comparator),this.dr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const i=_o();return Z.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.Tt(e,t,a)}),Z.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.dr.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.dr.delete(i)),Z.resolve()}getOverlaysForCollection(e,t,i){const o=_o(),a=t.length+1,u=new De(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new At((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let v=a.get(m.largestBatchId);v===null&&(v=_o(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const h=_o(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,v)=>h.set(m,v)),!(h.size()>=o)););return Z.resolve(h)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.dr.get(o.largestBatchId).delete(i.key);this.dr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new x1(t,i));let a=this.dr.get(t);a===void 0&&(a=Ge(),this.dr.set(t,a)),this.dr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(){this.Er=new Ht(Yt.Ar),this.Rr=new Ht(Yt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const i=new Yt(e,t);this.Er=this.Er.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Yt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new De(new St([])),i=new Yt(t,e),o=new Yt(t,e+1),a=[];return this.Rr.forEachInRange([i,o],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new De(new St([])),i=new Yt(t,e),o=new Yt(t,e+1);let a=Ge();return this.Rr.forEachInRange([i,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Yt(e,0),i=this.Er.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Yt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return De.comparator(e.key,t.key)||Xe(e.br,t.br)}static Vr(e,t){return Xe(e.br,t.br)||De.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Ht(Yt.Ar)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new k1(a,t,i,o);this.mutationQueue.push(u);for(const h of o)this.vr=this.vr.add(new Yt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Z.resolve(u)}lookupMutationBatch(e,t){return Z.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),a=o<0?0:o;return Z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Yt(t,0),o=new Yt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([i,o],u=>{const h=this.Cr(u.br);a.push(h)}),Z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ht(Xe);return t.forEach(o=>{const a=new Yt(o,0),u=new Yt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],h=>{i=i.add(h.br)})}),Z.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;De.isDocumentKey(a)||(a=a.child(""));const u=new Yt(new De(a),0);let h=new Ht(Xe);return this.vr.forEachWhile(f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(h=h.add(f.br)),!0)},u),Z.resolve(this.Mr(h))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){ht(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return Z.forEach(t.mutations,o=>{const a=new Yt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Bn(e){}containsKey(e,t){const i=new Yt(t,0),o=this.vr.firstAfterOrEqual(i);return Z.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.Nr=e,this.docs=function(){return new At(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,u=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Z.resolve(i?i.document.mutableCopy():wn.newInvalidDocument(t))}getEntries(e,t){let i=Li();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():wn.newInvalidDocument(o))}),Z.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=Li();const u=t.path,h=new De(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||Hk(zk(v),i)<=0||(o.has(v.key)||Pd(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return Z.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Ve()}Br(e,t){return Z.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new mx(this)}getSize(e){return Z.resolve(this.size)}}class mx extends ax{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),Z.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.persistence=e,this.Lr=new Po(t=>tm(t),nm),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.kr=0,this.qr=new lm,this.targetCount=0,this.Qr=xa.qn()}forEachTarget(e,t){return this.Lr.forEach((i,o)=>t(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),Z.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new xa(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Un(t),Z.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Lr.forEach((u,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Lr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),Z.waitFor(a).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const i=this.Lr.get(t)||null;return Z.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),Z.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),Z.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return Z.resolve(i)}containsKey(e,t){return Z.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Id(0),this.Ur=!1,this.Ur=!0,this.Wr=new hx,this.referenceDelegate=e(this),this.Gr=new gx(this),this.indexManager=new tx,this.remoteDocumentCache=function(o){return new px(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new Z1(t),this.jr=new cx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new fx(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){ye("MemoryPersistence","Starting transaction:",e);const o=new yx(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(a=>this.referenceDelegate.Jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Yr(e,t){return Z.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class yx extends qk{constructor(e){super(),this.currentSequenceNumber=e}}class um{constructor(e){this.persistence=e,this.Zr=new lm,this.Xr=null}static ei(e){return new um(e)}get ti(){if(this.Xr)return this.Xr;throw Ve()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),Z.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ti.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ti,i=>{const o=De.fromPath(i);return this.ni(e,o).next(a=>{a||t.removeEntry(o,Fe.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Z.or([()=>Z.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class ld{constructor(e,t){this.persistence=e,this.ri=new Po(i=>Qk(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=ox(this,t)}static ei(e,t){return new ld(e,t)}Hr(){}Jr(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return Z.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(a=>a?Z.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Br(e,u=>this.ir(e,u,t).next(h=>{h||(i++,a.removeEntry(u,Fe.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Z.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Vc(e.data.value)),t}ir(e,t,i){return Z.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return Z.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=Ge(),o=Ge();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new cm(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return nC()?8:Kk(Tn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Xi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,t,o,i).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new _x;return this.ts(e,t,u).next(h=>{if(a.result=h,this.Hi)return this.ns(e,t,u,h.size)})}).next(()=>a.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(ma()<=Ke.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",ga(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Z.resolve()):(ma()<=Ke.DEBUG&&ye("QueryEngine","Query:",ga(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(ma()<=Ke.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",ga(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ii(t))):Z.resolve())}Xi(e,t){if(ov(t))return Z.resolve(null);let i=ii(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=lp(t,null,"F"),i=ii(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=Ge(...a);return this.Zi.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,i).next(f=>{const m=this.rs(t,h);return this.ss(t,m,u,f.readTime)?this.Xi(e,lp(t,null,"F")):this.os(e,m,t,f)}))})))}es(e,t,i,o){return ov(t)||o.isEqual(Fe.min())?Z.resolve(null):this.Zi.getDocuments(e,i).next(a=>{const u=this.rs(t,a);return this.ss(t,u,i,o)?Z.resolve(null):(ma()<=Ke.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ga(t)),this.os(e,u,t,$k(o,-1)).next(h=>h))})}rs(e,t){let i=new Ht(jw(e));return t.forEach((o,a)=>{Pd(e,a)&&(i=i.add(a))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ts(e,t,i){return ma()<=Ke.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",ga(t)),this.Zi.getDocumentsMatchingQuery(e,t,xs.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new At(Xe),this.cs=new Po(a=>tm(a),nm),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ux(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function wx(n,e,t,i){return new Ex(n,e,t,i)}async function lT(n,e){const t=Ue(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],h=[];let f=Ge();for(const m of o){u.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of a){h.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(i,f).next(m=>({Ts:m,removedBatchIds:u,addedBatchIds:h}))})})}function Tx(n,e){const t=Ue(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(h,f,m,v){const w=m.batch,T=w.keys();let C=Z.resolve();return T.forEach(b=>{C=C.next(()=>v.getEntry(f,b)).next(z=>{const F=m.docVersions.get(b);ht(F!==null),z.version.compareTo(F)<0&&(w.applyToRemoteDocument(z,m),z.isValidDocument()&&(z.setReadTime(m.commitVersion),v.addEntry(z)))})}),C.next(()=>h.mutationQueue.removeMutationBatch(f,w))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=Ge();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function uT(n){const e=Ue(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function Ix(n,e){const t=Ue(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const h=[];e.targetChanges.forEach((v,w)=>{const T=o.get(w);if(!T)return;h.push(t.Gr.removeMatchingKeys(a,v.removedDocuments,w).next(()=>t.Gr.addMatchingKeys(a,v.addedDocuments,w)));let C=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?C=C.withResumeToken(un.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,i)),o=o.insert(w,C),function(z,F,W){return z.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(T,C,v)&&h.push(t.Gr.updateTargetData(a,C))});let f=Li(),m=Ge();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),h.push(Sx(a,u,e.documentUpdates).next(v=>{f=v.Is,m=v.ds})),!i.isEqual(Fe.min())){const v=t.Gr.getLastRemoteSnapshotVersion(a).next(w=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,i));h.push(v)}return Z.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,m)).next(()=>f)}).then(a=>(t.us=o,a))}function Sx(n,e,t){let i=Ge(),o=Ge();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=Li();return t.forEach((h,f)=>{const m=a.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(Fe.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):ye("LocalStore","Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)}),{Is:u,ds:o}})}function Rx(n,e){const t=Ue(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Cx(n,e){const t=Ue(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(a=>a?(o=a,Z.resolve(o)):t.Gr.allocateTargetId(i).next(u=>(o=new ws(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function fp(n,e,t){const i=Ue(n),o=i.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!Va(u))throw u;ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function _v(n,e,t){const i=Ue(n);let o=Fe.min(),a=Ge();return i.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,v){const w=Ue(f),T=w.cs.get(v);return T!==void 0?Z.resolve(w.us.get(T)):w.Gr.getTargetData(m,v)}(i,u,ii(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(u,h.targetId).next(f=>{a=f})}).next(()=>i._s.getDocumentsMatchingQuery(u,e,t?o:Fe.min(),t?a:Ge())).next(h=>(Ax(i,p1(e),h),{documents:h,Es:a})))}function Ax(n,e,t){let i=n.ls.get(e)||Fe.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.ls.set(e,i)}class vv{constructor(){this.activeTargetIds=E1()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Px{constructor(){this._o=new vv,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new vv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic=null;function bf(){return Ic===null?Ic=function(){return 268435456+Math.round(2147483648*Math.random())}():Ic++,"0x"+Ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class Dx extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Oo(t,i,o,a,u){const h=bf(),f=this.No(t,i.toUriEncodedString());ye("RestConnection",`Sending RPC '${t}' ${h}:`,f,o);const m={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(m,a,u),this.Lo(t,f,m,o).then(v=>(ye("RestConnection",`Received RPC '${t}' ${h}: `,v),v),v=>{throw Ca("RestConnection",`RPC '${t}' ${h} failed with error: `,v,"url: ",f,"request:",o),v})}ko(t,i,o,a,u,h){return this.Oo(t,i,o,a,u)}Bo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,u)=>t[u]=a),o&&o.headers.forEach((a,u)=>t[u]=a)}No(t,i){const o=xx[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,i,o){const a=bf();return new Promise((u,h)=>{const f=new Tw;f.setWithCredentials(!0),f.listenOnce(Iw.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Mc.NO_ERROR:const v=f.getResponseJson();ye(vn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case Mc.TIMEOUT:ye(vn,`RPC '${e}' ${a} timed out`),h(new Ce(se.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const w=f.getStatus();if(ye(vn,`RPC '${e}' ${a} failed with status:`,w,"response text:",f.getResponseText()),w>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const C=T==null?void 0:T.error;if(C&&C.status&&C.message){const b=function(F){const W=F.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(W)>=0?W:se.UNKNOWN}(C.status);h(new Ce(b,C.message))}else h(new Ce(se.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new Ce(se.UNAVAILABLE,"Connection failed."));break;default:Ve()}}finally{ye(vn,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(o);ye(vn,`RPC '${e}' ${a} sending request:`,o),f.send(t,"POST",m,i,15)})}qo(e,t,i){const o=bf(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Cw(),h=Rw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Bo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const v=a.join("");ye(vn,`Creating RPC '${e}' stream ${o}: ${v}`,f);const w=u.createWebChannel(v,f);let T=!1,C=!1;const b=new Nx({Eo:F=>{C?ye(vn,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(T||(ye(vn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),ye(vn,`RPC '${e}' stream ${o} sending:`,F),w.send(F))},Ao:()=>w.close()}),z=(F,W,re)=>{F.listen(W,ee=>{try{re(ee)}catch(de){setTimeout(()=>{throw de},0)}})};return z(w,Cl.EventType.OPEN,()=>{C||(ye(vn,`RPC '${e}' stream ${o} transport opened.`),b.So())}),z(w,Cl.EventType.CLOSE,()=>{C||(C=!0,ye(vn,`RPC '${e}' stream ${o} transport closed`),b.Do())}),z(w,Cl.EventType.ERROR,F=>{C||(C=!0,Ca(vn,`RPC '${e}' stream ${o} transport errored:`,F),b.Do(new Ce(se.UNAVAILABLE,"The operation could not be completed")))}),z(w,Cl.EventType.MESSAGE,F=>{var W;if(!C){const re=F.data[0];ht(!!re);const ee=re,de=(ee==null?void 0:ee.error)||((W=ee[0])===null||W===void 0?void 0:W.error);if(de){ye(vn,`RPC '${e}' stream ${o} received error:`,de);const j=de.status;let le=function(A){const D=Ot[A];if(D!==void 0)return Xw(D)}(j),N=de.message;le===void 0&&(le=se.INTERNAL,N="Unknown error status: "+j+" with message "+de.message),C=!0,b.Do(new Ce(le,N)),w.close()}else ye(vn,`RPC '${e}' stream ${o} received:`,re),b.vo(re)}}),z(h,Sw.STAT_EVENT,F=>{F.stat===rp.PROXY?ye(vn,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===rp.NOPROXY&&ye(vn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{b.bo()},0),b}}function Lf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(n){return new U1(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,t,i=1e3,o=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,t,i,o,a,u,h,f){this.li=e,this.Yo=i,this.Zo=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new cT(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(bi(t.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new Ce(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.d_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.d_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bx extends dT{constructor(e,t,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=$1(this.serializer,e),i=function(a){if(!("targetChange"in a))return Fe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Fe.min():u.readTime?si(u.readTime):Fe.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=hp(this.serializer),t.addTarget=function(a,u){let h;const f=u.target;if(h=ap(f)?{documents:W1(a,f)}:{query:q1(a,f).ct},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=eT(a,u.resumeToken);const m=up(a,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Fe.min())>0){h.readTime=ad(a,u.snapshotVersion.toTimestamp());const m=up(a,u.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const i=G1(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=hp(this.serializer),t.removeTarget=e,this.c_(t)}}class Lx extends dT{constructor(e,t,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return ht(!!e.streamToken),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=H1(e.writeResults,e.commitTime),i=si(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=hp(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>z1(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new Ce(se.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,cp(t,i),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ce(se.UNKNOWN,a.toString())})}ko(e,t,i,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.ko(e,cp(t,i),o,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ce(se.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Mx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(bi(t),this.C_=!1):ye("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{i.enqueueAndForget(async()=>{ko(this)&&(ye("RemoteStore","Restarting streams for network reachability change."),await async function(f){const m=Ue(f);m.k_.add(4),await ru(m),m.K_.set("Unknown"),m.k_.delete(4),await bd(m)}(this))})}),this.K_=new Mx(i,o)}}async function bd(n){if(ko(n))for(const e of n.q_)await e(!0)}async function ru(n){for(const e of n.q_)await e(!1)}function hT(n,e){const t=Ue(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),pm(t)?fm(t):Fa(t).s_()&&hm(t,e))}function dm(n,e){const t=Ue(n),i=Fa(t);t.L_.delete(e),i.s_()&&fT(t,e),t.L_.size===0&&(i.s_()?i.a_():ko(t)&&t.K_.set("Unknown"))}function hm(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Fa(n).V_(e)}function fT(n,e){n.U_.xe(e),Fa(n).m_(e)}function fm(n){n.U_=new O1({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Fa(n).start(),n.K_.F_()}function pm(n){return ko(n)&&!Fa(n).i_()&&n.L_.size>0}function ko(n){return Ue(n).k_.size===0}function pT(n){n.U_=void 0}async function Fx(n){n.K_.set("Online")}async function Ux(n){n.L_.forEach((e,t)=>{hm(n,e)})}async function jx(n,e){pT(n),pm(n)?(n.K_.O_(e),fm(n)):n.K_.set("Unknown")}async function Bx(n,e,t){if(n.K_.set("Online"),e instanceof Zw&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const h of a.targetIds)o.L_.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.L_.delete(h),o.U_.removeTarget(h))}(n,e)}catch(i){ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ud(n,i)}else if(e instanceof jc?n.U_.$e(e):e instanceof Jw?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Fe.min()))try{const i=await uT(n.localStore);t.compareTo(i)>=0&&await function(a,u){const h=a.U_.it(u);return h.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.L_.get(m);v&&a.L_.set(m,v.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,m)=>{const v=a.L_.get(f);if(!v)return;a.L_.set(f,v.withResumeToken(un.EMPTY_BYTE_STRING,v.snapshotVersion)),fT(a,f);const w=new ws(v.target,f,m,v.sequenceNumber);hm(a,w)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){ye("RemoteStore","Failed to raise snapshot:",i),await ud(n,i)}}async function ud(n,e,t){if(!Va(e))throw e;n.k_.add(1),await ru(n),n.K_.set("Offline"),t||(t=()=>uT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ye("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await bd(n)})}function mT(n,e){return e().catch(t=>ud(n,t,e))}async function Ld(n){const e=Ue(n),t=Ls(e);let i=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;$x(e);)try{const o=await Rx(e.localStore,i);if(o===null){e.B_.length===0&&t.a_();break}i=o.batchId,zx(e,o)}catch(o){await ud(e,o)}gT(e)&&yT(e)}function $x(n){return ko(n)&&n.B_.length<10}function zx(n,e){n.B_.push(e);const t=Ls(n);t.s_()&&t.f_&&t.g_(e.mutations)}function gT(n){return ko(n)&&!Ls(n).i_()&&n.B_.length>0}function yT(n){Ls(n).start()}async function Hx(n){Ls(n).w_()}async function Wx(n){const e=Ls(n);for(const t of n.B_)e.g_(t.mutations)}async function qx(n,e,t){const i=n.B_.shift(),o=sm.from(i,e,t);await mT(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Ld(n)}async function Kx(n,e){e&&Ls(n).f_&&await async function(i,o){if(function(u){return D1(u)&&u!==se.ABORTED}(o.code)){const a=i.B_.shift();Ls(i).__(),await mT(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Ld(i)}}(n,e),gT(n)&&yT(n)}async function wv(n,e){const t=Ue(n);t.asyncQueue.verifyOperationInProgress(),ye("RemoteStore","RemoteStore received new credentials");const i=ko(t);t.k_.add(3),await ru(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await bd(t)}async function Gx(n,e){const t=Ue(n);e?(t.k_.delete(2),await bd(t)):e||(t.k_.add(2),await ru(t),t.K_.set("Unknown"))}function Fa(n){return n.W_||(n.W_=function(t,i,o){const a=Ue(t);return a.b_(),new bx(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:Fx.bind(null,n),mo:Ux.bind(null,n),po:jx.bind(null,n),R_:Bx.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),pm(n)?fm(n):n.K_.set("Unknown")):(await n.W_.stop(),pT(n))})),n.W_}function Ls(n){return n.G_||(n.G_=function(t,i,o){const a=Ue(t);return a.b_(),new Lx(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:Hx.bind(null,n),po:Kx.bind(null,n),p_:Wx.bind(null,n),y_:qx.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Ld(n)):(await n.G_.stop(),n.B_.length>0&&(ye("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const u=Date.now()+i,h=new mm(e,t,u,o,a);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gm(n,e){if(bi("AsyncQueue",`${e}: ${n}`),Va(n))return new Ce(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{static emptySet(e){return new Sa(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||De.comparator(t.key,i.key):(t,i)=>De.comparator(t.key,i.key),this.keyedMap=Al(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Sa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Sa;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(){this.z_=new At(De.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ve():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Na{constructor(e,t,i,o,a,u,h,f,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,o,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Na(e,t,Sa.emptySet(t),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class Yx{constructor(){this.queries=Iv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Ue(t),a=o.queries;o.queries=Iv(),a.forEach((u,h)=>{for(const f of h.J_)f.onError(i)})})(this,new Ce(se.ABORTED,"Firestore shutting down"))}}function Iv(){return new Po(n=>Uw(n),Ad)}async function Xx(n,e){const t=Ue(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.Y_()&&e.Z_()&&(i=2):(a=new Qx,i=e.Z_()?0:1);try{switch(i){case 0:a.H_=await t.onListen(o,!0);break;case 1:a.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const h=gm(u,`Initialization of query '${ga(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&ym(t)}async function Jx(n,e){const t=Ue(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?o=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Zx(n,e){const t=Ue(n);let i=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const h of u.J_)h.ta(o)&&(i=!0);u.H_=o}}i&&ym(t)}function eN(n,e,t){const i=Ue(n),o=i.queries.get(e);if(o)for(const a of o.J_)a.onError(t);i.queries.delete(e)}function ym(n){n.X_.forEach(e=>{e.next()})}var pp,Sv;(Sv=pp||(pp={})).na="default",Sv.Cache="cache";class tN{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Na(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Na.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==pp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e){this.key=e}}class vT{constructor(e){this.key=e}}class nN{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ge(),this.mutatedKeys=Ge(),this.Va=jw(e),this.ma=new Sa(this.Va)}get fa(){return this.Ea}ga(e,t){const i=t?t.pa:new Tv,o=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,w)=>{const T=o.get(v),C=Pd(this.query,w)?w:null,b=!!T&&this.mutatedKeys.has(T.key),z=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let F=!1;T&&C?T.data.isEqual(C.data)?b!==z&&(i.track({type:3,doc:C}),F=!0):this.ya(T,C)||(i.track({type:2,doc:C}),F=!0,(f&&this.Va(C,f)>0||m&&this.Va(C,m)<0)&&(h=!0)):!T&&C?(i.track({type:0,doc:C}),F=!0):T&&!C&&(i.track({type:1,doc:T}),F=!0,(f||m)&&(h=!0)),F&&(C?(u=u.add(C),a=z?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{ma:u,pa:i,ss:h,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((v,w)=>function(C,b){const z=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve()}};return z(C)-z(b)}(v.type,w.type)||this.Va(v.doc,w.doc)),this.wa(i),o=o!=null&&o;const h=t&&!o?this.Sa():[],f=this.Ra.size===0&&this.current&&!o?1:0,m=f!==this.Aa;return this.Aa=f,u.length!==0||m?{snapshot:new Na(this.query,e.ma,a,u,e.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:h}:{ba:h}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Tv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ge(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new vT(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new _T(i))}),t}va(e){this.Ea=e.Es,this.Ra=Ge();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Na.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class rN{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class iN{constructor(e){this.key=e,this.Fa=!1}}class sN{constructor(e,t,i,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new Po(h=>Uw(h),Ad),this.Oa=new Map,this.Na=new Set,this.Ba=new At(De.comparator),this.La=new Map,this.ka=new lm,this.qa={},this.Qa=new Map,this.Ka=xa.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function oN(n,e,t=!0){const i=RT(n);let o;const a=i.xa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Ca()):o=await ET(i,e,t,!0),o}async function aN(n,e){const t=RT(n);await ET(t,e,!0,!1)}async function ET(n,e,t,i){const o=await Cx(n.localStore,ii(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await lN(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&hT(n.remoteStore,o),h}async function lN(n,e,t,i,o){n.Ua=(w,T,C)=>async function(z,F,W,re){let ee=F.view.ga(W);ee.ss&&(ee=await _v(z.localStore,F.query,!1).then(({documents:N})=>F.view.ga(N,ee)));const de=re&&re.targetChanges.get(F.targetId),j=re&&re.targetMismatches.get(F.targetId)!=null,le=F.view.applyChanges(ee,z.isPrimaryClient,de,j);return Cv(z,F.targetId,le.ba),le.snapshot}(n,w,T,C);const a=await _v(n.localStore,e,!0),u=new nN(e,a.Es),h=u.ga(a.documents),f=nu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),m=u.applyChanges(h,n.isPrimaryClient,f);Cv(n,t,m.ba);const v=new rN(e,t,u);return n.xa.set(e,v),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),m.snapshot}async function uN(n,e,t){const i=Ue(n),o=i.xa.get(e),a=i.Oa.get(o.targetId);if(a.length>1)return i.Oa.set(o.targetId,a.filter(u=>!Ad(u,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await fp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&dm(i.remoteStore,o.targetId),mp(i,o.targetId)}).catch(Ma)):(mp(i,o.targetId),await fp(i.localStore,o.targetId,!0))}async function cN(n,e){const t=Ue(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),dm(t.remoteStore,i.targetId))}async function dN(n,e,t){const i=_N(n);try{const o=await function(u,h){const f=Ue(u),m=zt.now(),v=h.reduce((C,b)=>C.add(b.key),Ge());let w,T;return f.persistence.runTransaction("Locally write mutations","readwrite",C=>{let b=Li(),z=Ge();return f.hs.getEntries(C,v).next(F=>{b=F,b.forEach((W,re)=>{re.isValidDocument()||(z=z.add(W))})}).next(()=>f.localDocuments.getOverlayedDocuments(C,b)).next(F=>{w=F;const W=[];for(const re of h){const ee=A1(re,w.get(re.key).overlayedDocument);ee!=null&&W.push(new js(re.key,ee,Nw(ee.value.mapValue),Lr.exists(!0)))}return f.mutationQueue.addMutationBatch(C,m,W,h)}).next(F=>{T=F;const W=F.applyToLocalDocumentSet(w,z);return f.documentOverlayCache.saveOverlays(C,F.batchId,W)})}).then(()=>({batchId:T.batchId,changes:$w(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(u,h,f){let m=u.qa[u.currentUser.toKey()];m||(m=new At(Xe)),m=m.insert(h,f),u.qa[u.currentUser.toKey()]=m}(i,o.batchId,t),await iu(i,o.changes),await Ld(i.remoteStore)}catch(o){const a=gm(o,"Failed to persist write");t.reject(a)}}async function wT(n,e){const t=Ue(n);try{const i=await Ix(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.La.get(a);u&&(ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Fa=!0:o.modifiedDocuments.size>0?ht(u.Fa):o.removedDocuments.size>0&&(ht(u.Fa),u.Fa=!1))}),await iu(t,i,e)}catch(i){await Ma(i)}}function Rv(n,e,t){const i=Ue(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((a,u)=>{const h=u.view.ea(e);h.snapshot&&o.push(h.snapshot)}),function(u,h){const f=Ue(u);f.onlineState=h;let m=!1;f.queries.forEach((v,w)=>{for(const T of w.J_)T.ea(h)&&(m=!0)}),m&&ym(f)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function hN(n,e,t){const i=Ue(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.La.get(e),a=o&&o.key;if(a){let u=new At(De.comparator);u=u.insert(a,wn.newNoDocument(a,Fe.min()));const h=Ge().add(a),f=new Nd(Fe.min(),new Map,new At(Xe),u,h);await wT(i,f),i.Ba=i.Ba.remove(a),i.La.delete(e),_m(i)}else await fp(i.localStore,e,!1).then(()=>mp(i,e,t)).catch(Ma)}async function fN(n,e){const t=Ue(n),i=e.batch.batchId;try{const o=await Tx(t.localStore,e);IT(t,i,null),TT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await iu(t,o)}catch(o){await Ma(o)}}async function pN(n,e,t){const i=Ue(n);try{const o=await function(u,h){const f=Ue(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,h).next(w=>(ht(w!==null),v=w.keys(),f.mutationQueue.removeMutationBatch(m,w))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(i.localStore,e);IT(i,e,t),TT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await iu(i,o)}catch(o){await Ma(o)}}function TT(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function IT(n,e,t){const i=Ue(n);let o=i.qa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function mp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||ST(n,i)})}function ST(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(dm(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),_m(n))}function Cv(n,e,t){for(const i of t)i instanceof _T?(n.ka.addReference(i.key,e),mN(n,i)):i instanceof vT?(ye("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||ST(n,i.key)):Ve()}function mN(n,e){const t=e.key,i=t.path.canonicalString();n.Ba.get(t)||n.Na.has(i)||(ye("SyncEngine","New document in limbo: "+t),n.Na.add(i),_m(n))}function _m(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new De(St.fromString(e)),i=n.Ka.next();n.La.set(i,new iN(t)),n.Ba=n.Ba.insert(t,i),hT(n.remoteStore,new ws(ii(Fw(t.path)),i,"TargetPurposeLimboResolution",Id.oe))}}async function iu(n,e,t){const i=Ue(n),o=[],a=[],u=[];i.xa.isEmpty()||(i.xa.forEach((h,f)=>{u.push(i.Ua(f,e,t).then(m=>{var v;if((m||t)&&i.isPrimaryClient){const w=m?!m.fromCache:(v=t==null?void 0:t.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(m){o.push(m);const w=cm.zi(f.targetId,m);a.push(w)}}))}),await Promise.all(u),i.Ma.R_(o),await async function(f,m){const v=Ue(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Z.forEach(m,T=>Z.forEach(T.Wi,C=>v.persistence.referenceDelegate.addReference(w,T.targetId,C)).next(()=>Z.forEach(T.Gi,C=>v.persistence.referenceDelegate.removeReference(w,T.targetId,C)))))}catch(w){if(!Va(w))throw w;ye("LocalStore","Failed to update sequence numbers: "+w)}for(const w of m){const T=w.targetId;if(!w.fromCache){const C=v.us.get(T),b=C.snapshotVersion,z=C.withLastLimboFreeSnapshotVersion(b);v.us=v.us.insert(T,z)}}}(i.localStore,a))}async function gN(n,e){const t=Ue(n);if(!t.currentUser.isEqual(e)){ye("SyncEngine","User change. New user:",e.toKey());const i=await lT(t.localStore,e);t.currentUser=e,function(a,u){a.Qa.forEach(h=>{h.forEach(f=>{f.reject(new Ce(se.CANCELLED,u))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await iu(t,i.Ts)}}function yN(n,e){const t=Ue(n),i=t.La.get(e);if(i&&i.Fa)return Ge().add(i.key);{let o=Ge();const a=t.Oa.get(e);if(!a)return o;for(const u of a){const h=t.xa.get(u);o=o.unionWith(h.view.fa)}return o}}function RT(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=wT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hN.bind(null,e),e.Ma.R_=Zx.bind(null,e.eventManager),e.Ma.Wa=eN.bind(null,e.eventManager),e}function _N(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pN.bind(null,e),e}class cd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return wx(this.persistence,new vx,e.initialUser,this.serializer)}ja(e){return new aT(um.ei,this.serializer)}za(e){return new Px}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cd.provider={build:()=>new cd};class vN extends cd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){ht(this.persistence.referenceDelegate instanceof ld);const i=this.persistence.referenceDelegate.garbageCollector;return new ix(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?$n.withCacheSize(this.cacheSizeBytes):$n.DEFAULT;return new aT(i=>ld.ei(i,t),this.serializer)}}class gp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Rv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=gN.bind(null,this.syncEngine),await Gx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Yx}()}createDatastore(e){const t=Dd(e.databaseInfo.databaseId),i=function(a){return new Dx(a)}(e.databaseInfo);return function(a,u,h,f){return new Ox(a,u,h,f)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,u,h){return new Vx(i,o,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>Rv(this.syncEngine,t,0),function(){return Ev.p()?new Ev:new kx}())}createSyncEngine(e,t){return function(o,a,u,h,f,m,v){const w=new sN(o,a,u,h,f,m);return v&&(w.$a=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Ue(o);ye("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await ru(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}gp.provider={build:()=>new gp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):bi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=En.UNAUTHENTICATED,this.clientId=Pw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async u=>{ye("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(ye("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=gm(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Of(n,e){n.asyncQueue.verifyOperationInProgress(),ye("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await lT(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Av(n,e){n.asyncQueue.verifyOperationInProgress();const t=await TN(n);ye("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>wv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>wv(e.remoteStore,o)),n._onlineComponents=e}async function TN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye("FirestoreClient","Using user provided OfflineComponentProvider");try{await Of(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Ca("Error using user provided cache. Falling back to memory cache: "+t),await Of(n,new cd)}}else ye("FirestoreClient","Using default OfflineComponentProvider"),await Of(n,new vN(void 0));return n._offlineComponents}async function CT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye("FirestoreClient","Using user provided OnlineComponentProvider"),await Av(n,n._uninitializedComponentsProvider._online)):(ye("FirestoreClient","Using default OnlineComponentProvider"),await Av(n,new gp))),n._onlineComponents}function IN(n){return CT(n).then(e=>e.syncEngine)}async function SN(n){const e=await CT(n),t=e.eventManager;return t.onListen=oN.bind(null,e.syncEngine),t.onUnlisten=uN.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=aN.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=cN.bind(null,e.syncEngine),t}function RN(n,e,t={}){const i=new Cs;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,m){const v=new EN({next:T=>{v.eu(),u.enqueueAndForget(()=>Jx(a,w)),T.fromCache&&f.source==="server"?m.reject(new Ce(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new tN(h,v,{includeMetadataChanges:!0,ua:!0});return Xx(a,w)}(await SN(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(n,e,t){if(!t)throw new Ce(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function CN(n,e,t,i){if(e===!0&&i===!0)throw new Ce(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function kv(n){if(!De.isDocumentKey(n))throw new Ce(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xv(n){if(De.isDocumentKey(n))throw new Ce(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ve()}function So(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ce(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vm(n);throw new Ce(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ce(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ce(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ce(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ce(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Od{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new bk;switch(i.type){case"firstParty":return new Vk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ce(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Pv.get(t);i&&(ye("ComponentProvider","Removing Datastore"),Pv.delete(t),i.terminate())}(this),Promise.resolve()}}function AN(n,e,t,i={}){var o;const a=(n=So(n,Od))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&Ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),i.mockUserToken){let h,f;if(typeof i.mockUserToken=="string")h=i.mockUserToken,f=En.MOCK_USER;else{h=QR(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new Ce(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new En(m)}n._authCredentials=new Lk(new Aw(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Md(this.firestore,e,this._query)}}class fr{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fr(this.firestore,e,this._key)}}class As extends Md{constructor(e,t,i){super(e,t,Fw(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fr(this.firestore,null,new De(e))}withConverter(e){return new As(this.firestore,e,this._path)}}function Em(n,e,...t){if(n=In(n),PT("collection","path",e),n instanceof Od){const i=St.fromString(e,...t);return xv(i),new As(n,null,i)}{if(!(n instanceof fr||n instanceof As))throw new Ce(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(St.fromString(e,...t));return xv(i),new As(n.firestore,null,i)}}function wm(n,e,...t){if(n=In(n),arguments.length===1&&(e=Pw.newId()),PT("doc","path",e),n instanceof Od){const i=St.fromString(e,...t);return kv(i),new fr(n,null,new De(i))}{if(!(n instanceof fr||n instanceof As))throw new Ce(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(St.fromString(e,...t));return kv(i),new fr(n.firestore,n instanceof As?n.converter:null,new De(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new cT(this,"async_queue_retry"),this.fu=()=>{const i=Lf();i&&ye("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=Lf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=Lf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new Cs;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Va(e))throw e;ye("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(i);throw bi("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=mm.createAndSchedule(this,e,t,i,a=>this.Su(a));return this.Eu.push(o),o}pu(){this.Au&&Ve()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}class su extends Od{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Dv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Dv(e),this._firestoreClient=void 0,await e}}}function PN(n,e){const t=typeof n=="object"?n:ME(),i=typeof n=="string"?n:"(default)",o=$p(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=KR("firestore");a&&AN(o,...a)}return o}function kT(n){if(n._terminated)throw new Ce(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||kN(n),n._firestoreClient}function kN(n){var e,t,i;const o=n._freezeSettings(),a=function(h,f,m,v){return new Jk(h,f,m,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,AT(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new wN(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Da(un.fromBase64String(e))}catch(t){throw new Ce(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Da(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ce(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ce(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ce(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=/^__.*__$/;class NN{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new js(e,this.data,this.fieldMask,t,this.fieldTransforms):new tu(e,this.data,t,this.fieldTransforms)}}class xT{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new js(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function NT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve()}}class Rm{constructor(e,t,i,o,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Rm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Bu(e),o}Lu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return dd(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(NT(this.Mu)&&xN.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class DN{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Dd(e)}$u(e,t,i,o=!1){return new Rm({Mu:e,methodName:t,Ku:i,path:an.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DT(n){const e=n._freezeSettings(),t=Dd(n._databaseId);return new DN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function bN(n,e,t,i,o,a={}){const u=n.$u(a.merge||a.mergeFields?2:0,e,t,o);Cm("Data must be an object, but it was:",u,i);const h=bT(i,u);let f,m;if(a.merge)f=new rr(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const w of a.mergeFields){const T=yp(e,w,t);if(!u.contains(T))throw new Ce(se.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);OT(v,T)||v.push(T)}f=new rr(v),m=u.fieldTransforms.filter(w=>f.covers(w.field))}else f=null,m=u.fieldTransforms;return new NN(new zn(h),f,m)}class Fd extends Tm{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fd}}function LN(n,e,t,i){const o=n.$u(1,e,t);Cm("Data must be an object, but it was:",o,i);const a=[],u=zn.empty();Us(i,(f,m)=>{const v=Am(e,f,t);m=In(m);const w=o.Lu(v);if(m instanceof Fd)a.push(v);else{const T=Ud(m,w);T!=null&&(a.push(v),u.set(v,T))}});const h=new rr(a);return new xT(u,h,o.fieldTransforms)}function ON(n,e,t,i,o,a){const u=n.$u(1,e,t),h=[yp(e,i,t)],f=[o];if(a.length%2!=0)throw new Ce(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)h.push(yp(e,a[T])),f.push(a[T+1]);const m=[],v=zn.empty();for(let T=h.length-1;T>=0;--T)if(!OT(m,h[T])){const C=h[T];let b=f[T];b=In(b);const z=u.Lu(C);if(b instanceof Fd)m.push(C);else{const F=Ud(b,z);F!=null&&(m.push(C),v.set(C,F))}}const w=new rr(m);return new xT(v,w,u.fieldTransforms)}function Ud(n,e){if(LT(n=In(n)))return Cm("Unsupported field value:",e,n),bT(n,e);if(n instanceof Tm)return function(i,o){if(!NT(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const a=[];let u=0;for(const h of i){let f=Ud(h,o.ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=In(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return w1(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=zt.fromDate(i);return{timestampValue:ad(o.serializer,a)}}if(i instanceof zt){const a=new zt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ad(o.serializer,a)}}if(i instanceof Im)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Da)return{bytesValue:eT(o.serializer,i._byteString)};if(i instanceof fr){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:am(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Sm)return function(u,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw h.qu("VectorValues must only contain numeric values.");return rm(h.serializer,f)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${vm(i)}`)}(n,e)}function bT(n,e){const t={};return kw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Us(n,(i,o)=>{const a=Ud(o,e.Ou(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function LT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof zt||n instanceof Im||n instanceof Da||n instanceof fr||n instanceof Tm||n instanceof Sm)}function Cm(n,e,t){if(!LT(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=vm(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function yp(n,e,t){if((e=In(e))instanceof Vd)return e._internalPath;if(typeof e=="string")return Am(n,e);throw dd("Field path arguments must be of type string or ",n,!1,void 0,t)}const MN=new RegExp("[~\\*/\\[\\]]");function Am(n,e,t){if(e.search(MN)>=0)throw dd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Vd(...e.split("."))._internalPath}catch{throw dd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dd(n,e,t,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${i}`),u&&(f+=` in document ${o}`),f+=")"),new Ce(se.INVALID_ARGUMENT,h+n+f)}function OT(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(VT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class VN extends MT{data(){return super.data()}}function VT(n,e){return typeof e=="string"?Am(n,e):e instanceof Vd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ce(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UN{convertValue(e,t="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Us(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(u=>Dt(u.doubleValue));return new Sm(a)}convertGeoPoint(e){return new Im(Dt(e.latitude),Dt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Rd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(jl(e));default:return null}}convertTimestamp(e){const t=Ns(e);return new zt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=St.fromString(e);ht(oT(i));const o=new Bl(i.get(1),i.get(3)),a=new De(i.popFirst(5));return o.isEqual(t)||bi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class BN extends MT{constructor(e,t,i,o,a,u){super(e,t,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(VT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Bc extends BN{data(e={}){return super.data(e)}}class $N{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Sc(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Bc(this._firestore,this._userDataWriter,i.key,i,new Sc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ce(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(h=>{const f=new Bc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Sc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new Bc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Sc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:zN(h.type),doc:f,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function zN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve()}}class HN extends UN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Da(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fr(this.firestore,null,t)}}function FT(n){n=So(n,Md);const e=So(n.firestore,su),t=kT(e),i=new HN(e);return FN(n._query),RN(t,n._query).then(o=>new $N(e,i,n,o))}function WN(n,e,t,...i){n=So(n,fr);const o=So(n.firestore,su),a=DT(o);let u;return u=typeof(e=In(e))=="string"||e instanceof Vd?ON(a,"updateDoc",n._key,e,t,i):LN(a,"updateDoc",n._key,e),Pm(o,[u.toMutation(n._key,Lr.exists(!0))])}function qN(n){return Pm(So(n.firestore,su),[new im(n._key,Lr.none())])}function KN(n,e){const t=So(n.firestore,su),i=wm(n),o=jN(n.converter,e);return Pm(t,[bN(DT(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,Lr.exists(!1))]).then(()=>i)}function Pm(n,e){return function(i,o){const a=new Cs;return i.asyncQueue.enqueueAndForget(async()=>dN(await IN(i),o,a)),a.promise}(kT(n),e)}(function(e,t=!0){(function(o){Oa=o})(ba),Ra(new Eo("firestore",(i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),h=new su(new Ok(i.getProvider("auth-internal")),new Uk(i.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ce(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(m.options.projectId,v)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),Ss(Q_,"4.7.6",e),Ss(Q_,"4.7.6","esm2017")})();const GN={apiKey:"AIzaSyDKN1zi6YWAbSe25CEZ9xmo54zYJvmBXo8",authDomain:"reactblogapp-2190c.firebaseapp.com",projectId:"reactblogapp-2190c",storageBucket:"reactblogapp-2190c.firebasestorage.app",messagingSenderId:"195439262482",appId:"1:195439262482:web:4dd6210229805151c311cb"},UT=OE(GN),Wl=PN(UT),jd=kk(UT);let QN={data:""},YN=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||QN,XN=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,JN=/\/\*[^]*?\*\/|  +/g,bv=/\n+/g,Es=(n,e)=>{let t="",i="",o="";for(let a in n){let u=n[a];a[0]=="@"?a[1]=="i"?t=a+" "+u+";":i+=a[1]=="f"?Es(u,a):a+"{"+Es(u,a[1]=="k"?"":e)+"}":typeof u=="object"?i+=Es(u,e?e.replace(/([^,])+/g,h=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,h):h?h+" "+f:f)):a):u!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Es.p?Es.p(a,u):a+":"+u+";")}return t+(e&&o?e+"{"+o+"}":o)+i},Ci={},jT=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+jT(n[t]);return e}return n},ZN=(n,e,t,i,o)=>{let a=jT(n),u=Ci[a]||(Ci[a]=(f=>{let m=0,v=11;for(;m<f.length;)v=101*v+f.charCodeAt(m++)>>>0;return"go"+v})(a));if(!Ci[u]){let f=a!==n?n:(m=>{let v,w,T=[{}];for(;v=XN.exec(m.replace(JN,""));)v[4]?T.shift():v[3]?(w=v[3].replace(bv," ").trim(),T.unshift(T[0][w]=T[0][w]||{})):T[0][v[1]]=v[2].replace(bv," ").trim();return T[0]})(n);Ci[u]=Es(o?{["@keyframes "+u]:f}:f,t?"":"."+u)}let h=t&&Ci.g?Ci.g:null;return t&&(Ci.g=Ci[u]),((f,m,v,w)=>{w?m.data=m.data.replace(w,f):m.data.indexOf(f)===-1&&(m.data=v?f+m.data:m.data+f)})(Ci[u],e,i,h),u},eD=(n,e,t)=>n.reduce((i,o,a)=>{let u=e[a];if(u&&u.call){let h=u(t),f=h&&h.props&&h.props.className||/^go/.test(h)&&h;u=f?"."+f:h&&typeof h=="object"?h.props?"":Es(h,""):h===!1?"":h}return i+o+(u??"")},"");function Bd(n){let e=this||{},t=n.call?n(e.p):n;return ZN(t.unshift?t.raw?eD(t,[].slice.call(arguments,1),e.p):t.reduce((i,o)=>Object.assign(i,o&&o.call?o(e.p):o),{}):t,YN(e.target),e.g,e.o,e.k)}let BT,_p,vp;Bd.bind({g:1});let Oi=Bd.bind({k:1});function tD(n,e,t,i){Es.p=e,BT=n,_p=t,vp=i}function Bs(n,e){let t=this||{};return function(){let i=arguments;function o(a,u){let h=Object.assign({},a),f=h.className||o.className;t.p=Object.assign({theme:_p&&_p()},h),t.o=/ *go\d+/.test(f),h.className=Bd.apply(t,i)+(f?" "+f:"");let m=n;return n[0]&&(m=h.as||n,delete h.as),vp&&m[0]&&vp(h),BT(m,h)}return o}}var nD=n=>typeof n=="function",hd=(n,e)=>nD(n)?n(e):n,rD=(()=>{let n=0;return()=>(++n).toString()})(),$T=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),iD=20,zT=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,iD)};case 1:return{...n,toasts:n.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:t}=e;return zT(n,{type:n.toasts.find(a=>a.id===t.id)?1:0,toast:t});case 3:let{toastId:i}=e;return{...n,toasts:n.toasts.map(a=>a.id===i||i===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let o=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+o}))}}},$c=[],zc={toasts:[],pausedAt:void 0},xo=n=>{zc=zT(zc,n),$c.forEach(e=>{e(zc)})},sD={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},oD=(n={})=>{let[e,t]=R.useState(zc);R.useEffect(()=>($c.push(t),()=>{let o=$c.indexOf(t);o>-1&&$c.splice(o,1)}),[e]);let i=e.toasts.map(o=>{var a,u,h;return{...n,...n[o.type],...o,removeDelay:o.removeDelay||((a=n[o.type])==null?void 0:a.removeDelay)||(n==null?void 0:n.removeDelay),duration:o.duration||((u=n[o.type])==null?void 0:u.duration)||(n==null?void 0:n.duration)||sD[o.type],style:{...n.style,...(h=n[o.type])==null?void 0:h.style,...o.style}}});return{...e,toasts:i}},aD=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||rD()}),ou=n=>(e,t)=>{let i=aD(e,n,t);return xo({type:2,toast:i}),i.id},xn=(n,e)=>ou("blank")(n,e);xn.error=ou("error");xn.success=ou("success");xn.loading=ou("loading");xn.custom=ou("custom");xn.dismiss=n=>{xo({type:3,toastId:n})};xn.remove=n=>xo({type:4,toastId:n});xn.promise=(n,e,t)=>{let i=xn.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(o=>{let a=e.success?hd(e.success,o):void 0;return a?xn.success(a,{id:i,...t,...t==null?void 0:t.success}):xn.dismiss(i),o}).catch(o=>{let a=e.error?hd(e.error,o):void 0;a?xn.error(a,{id:i,...t,...t==null?void 0:t.error}):xn.dismiss(i)}),n};var lD=(n,e)=>{xo({type:1,toast:{id:n,height:e}})},uD=()=>{xo({type:5,time:Date.now()})},Ol=new Map,cD=1e3,dD=(n,e=cD)=>{if(Ol.has(n))return;let t=setTimeout(()=>{Ol.delete(n),xo({type:4,toastId:n})},e);Ol.set(n,t)},hD=n=>{let{toasts:e,pausedAt:t}=oD(n);R.useEffect(()=>{if(t)return;let a=Date.now(),u=e.map(h=>{if(h.duration===1/0)return;let f=(h.duration||0)+h.pauseDuration-(a-h.createdAt);if(f<0){h.visible&&xn.dismiss(h.id);return}return setTimeout(()=>xn.dismiss(h.id),f)});return()=>{u.forEach(h=>h&&clearTimeout(h))}},[e,t]);let i=R.useCallback(()=>{t&&xo({type:6,time:Date.now()})},[t]),o=R.useCallback((a,u)=>{let{reverseOrder:h=!1,gutter:f=8,defaultPosition:m}=u||{},v=e.filter(C=>(C.position||m)===(a.position||m)&&C.height),w=v.findIndex(C=>C.id===a.id),T=v.filter((C,b)=>b<w&&C.visible).length;return v.filter(C=>C.visible).slice(...h?[T+1]:[0,T]).reduce((C,b)=>C+(b.height||0)+f,0)},[e]);return R.useEffect(()=>{e.forEach(a=>{if(a.dismissed)dD(a.id,a.removeDelay);else{let u=Ol.get(a.id);u&&(clearTimeout(u),Ol.delete(a.id))}})},[e]),{toasts:e,handlers:{updateHeight:lD,startPause:uD,endPause:i,calculateOffset:o}}},fD=Oi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,pD=Oi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,mD=Oi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,gD=Bs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${fD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${pD} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${mD} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,yD=Oi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,_D=Bs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${yD} 1s linear infinite;
`,vD=Oi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ED=Oi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,wD=Bs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${vD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ED} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,TD=Bs("div")`
  position: absolute;
`,ID=Bs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,SD=Oi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,RD=Bs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${SD} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,CD=({toast:n})=>{let{icon:e,type:t,iconTheme:i}=n;return e!==void 0?typeof e=="string"?R.createElement(RD,null,e):e:t==="blank"?null:R.createElement(ID,null,R.createElement(_D,{...i}),t!=="loading"&&R.createElement(TD,null,t==="error"?R.createElement(gD,{...i}):R.createElement(wD,{...i})))},AD=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,PD=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,kD="0%{opacity:0;} 100%{opacity:1;}",xD="0%{opacity:1;} 100%{opacity:0;}",ND=Bs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,DD=Bs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,bD=(n,e)=>{let t=n.includes("top")?1:-1,[i,o]=$T()?[kD,xD]:[AD(t),PD(t)];return{animation:e?`${Oi(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Oi(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},LD=R.memo(({toast:n,position:e,style:t,children:i})=>{let o=n.height?bD(n.position||e||"top-center",n.visible):{opacity:0},a=R.createElement(CD,{toast:n}),u=R.createElement(DD,{...n.ariaProps},hd(n.message,n));return R.createElement(ND,{className:n.className,style:{...o,...t,...n.style}},typeof i=="function"?i({icon:a,message:u}):R.createElement(R.Fragment,null,a,u))});tD(R.createElement);var OD=({id:n,className:e,style:t,onHeightUpdate:i,children:o})=>{let a=R.useCallback(u=>{if(u){let h=()=>{let f=u.getBoundingClientRect().height;i(n,f)};h(),new MutationObserver(h).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[n,i]);return R.createElement("div",{ref:a,className:e,style:t},o)},MD=(n,e)=>{let t=n.includes("top"),i=t?{top:0}:{bottom:0},o=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:$T()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...i,...o}},VD=Bd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Rc=16,FD=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:i,children:o,containerStyle:a,containerClassName:u})=>{let{toasts:h,handlers:f}=hD(t);return R.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Rc,left:Rc,right:Rc,bottom:Rc,pointerEvents:"none",...a},className:u,onMouseEnter:f.startPause,onMouseLeave:f.endPause},h.map(m=>{let v=m.position||e,w=f.calculateOffset(m,{reverseOrder:n,gutter:i,defaultPosition:e}),T=MD(v,w);return R.createElement(OD,{id:m.id,key:m.id,onHeightUpdate:f.updateHeight,className:m.visible?VD:"",style:T},m.type==="custom"?hd(m.message,m):o?o(m):R.createElement(LD,{toast:m,position:v}))}))},Ps=xn;const UD=()=>{const n=Ms(),[e,t]=R.useState(""),[i,o]=R.useState(""),a=async u=>{u.preventDefault(),await gP(jd,e,i).then(h=>{const f=h.user,m=f==null?void 0:f.accessToken;localStorage.setItem("token",m),n("/dashboard"),Ps.success("Login Successfully")}).catch(h=>{const f=h.code,m=h.message;console.log(f,m)})};return x.jsx("div",{className:`${uo.mainOuterContainer} container-fluid`,children:x.jsxs("div",{className:`${uo.container}`,children:[x.jsx("h2",{id:uo.loginHeading,children:"Login"}),x.jsxs("form",{id:uo.login_form,onSubmit:a,children:[x.jsx("div",{className:`${uo.email} mb-3`,children:x.jsx("input",{type:"email",className:"form-control",placeholder:"Enter your email",required:!0,onChange:u=>{t(u.target.value)}})}),x.jsx("div",{className:`${uo.password} mb-3 `,children:x.jsx("input",{type:"password",className:"form-control p-2",placeholder:"Enter your password",required:!0,onChange:u=>{o(u.target.value)}})}),x.jsxs("div",{className:uo.login_signup_btn,children:[x.jsx("button",{type:"submit",className:"btn btn-primary",children:"Login"}),x.jsx(br,{to:"/signup",className:"btn btn-danger",children:"Sign Up"})]})]})]})})},jD="_mainOuterContainer_1nnw8_1",BD="_container_1nnw8_13",$D="_loginHeading_1nnw8_1",zD="_signup_form_1nnw8_1",HD="_login_signup_btn_1nnw8_59",WD="_loginButton_1nnw8_73",qD="_signUpButton_1nnw8_81",hs={mainOuterContainer:jD,container:BD,loginHeading:$D,signup_form:zD,login_signup_btn:HD,loginButton:WD,signUpButton:qD},KD=()=>{const[n,e]=R.useState(),[t,i]=R.useState(),[o,a]=R.useState(),u=Ms(),h=async f=>{f.preventDefault(),console.log(n),console.log(t),t==o?await mP(jd,n,t).then(m=>{console.log(m);const v=m.user;Ps.success("Signup Succesfully",5e3),console.log(v),u("/login")}).catch(m=>{const v=m.code,w=m.message;console.log(v,w),Ps.error(w,{duration:5e3})}):Ps.error("password doesn't Match")};return x.jsxs("div",{className:`${hs.mainOuterContainer} container-fluid`,children:[" ",x.jsxs("div",{className:hs.container,children:[x.jsx("h2",{id:hs.loginHeading,children:"Sign Up"}),x.jsxs("form",{id:hs.signup_form,onSubmit:h,children:[x.jsx("div",{className:`${hs.email} mb-3`,children:x.jsx("input",{type:"email",className:"form-control",placeholder:"Enter your email",required:!0,onChange:f=>{e(f.target.value)}})}),x.jsx("div",{className:`${hs.password} mb-3 `,children:x.jsx("input",{type:"password",className:"form-control p-2",placeholder:"Enter your password",required:!0,onChange:f=>{i(f.target.value)}})}),x.jsx("div",{className:`${hs.password} mb-3 `,children:x.jsx("input",{type:"password",className:"form-control p-2",placeholder:"Confirm your password",required:!0,onChange:f=>{a(f.target.value)}})}),x.jsxs("div",{className:hs.login_signup_btn,children:[x.jsx("button",{type:"submit",className:"btn btn-primary",children:"Sign Up"}),x.jsx(br,{to:"/login",className:"btn btn-danger",children:"Login"})]})]})]})]})},GD="_adminName_1pk17_15",QD="_actions_1pk17_25",Cc={"sidebar-container":"_sidebar-container_1pk17_1",adminName:GD,actions:QD},Ua=!!(typeof window<"u"&&window.document&&window.document.createElement);var Ep=!1,wp=!1;try{var Mf={get passive(){return Ep=!0},get once(){return wp=Ep=!0}};Ua&&(window.addEventListener("test",Mf,Mf),window.removeEventListener("test",Mf,!0))}catch{}function HT(n,e,t,i){if(i&&typeof i!="boolean"&&!wp){var o=i.once,a=i.capture,u=t;!wp&&o&&(u=t.__once||function h(f){this.removeEventListener(e,h,a),t.call(this,f)},t.__once=u),n.addEventListener(e,u,Ep?i:a)}n.addEventListener(e,t,i)}function $d(n){return n&&n.ownerDocument||document}function Tp(n,e,t,i){var o=i&&typeof i!="boolean"?i.capture:i;n.removeEventListener(e,t,o),t.__once&&n.removeEventListener(e,t.__once,o)}var Ac;function Lv(n){if((!Ac&&Ac!==0||n)&&Ua){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Ac=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Ac}function YD(){return R.useState(null)}function XD(n){const e=R.useRef(n);return R.useEffect(()=>{e.current=n},[n]),e}function Ip(n){const e=XD(n);return R.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const Ov=n=>!n||typeof n=="function"?n:e=>{n.current=e};function JD(n,e){const t=Ov(n),i=Ov(e);return o=>{t&&t(o),i&&i(o)}}function WT(n,e){return R.useMemo(()=>JD(n,e),[n,e])}function ZD(n){const e=R.useRef(n);return e.current=n,e}function eb(n){const e=ZD(n);R.useEffect(()=>()=>e.current(),[])}function tb(n){var e=$d(n);return e&&e.defaultView||window}function nb(n,e){return tb(n).getComputedStyle(n,e)}var rb=/([A-Z])/g;function ib(n){return n.replace(rb,"-$1").toLowerCase()}var sb=/^ms-/;function Pc(n){return ib(n).replace(sb,"-ms-")}var ob=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function ab(n){return!!(n&&ob.test(n))}function vo(n,e){var t="",i="";if(typeof e=="string")return n.style.getPropertyValue(Pc(e))||nb(n).getPropertyValue(Pc(e));Object.keys(e).forEach(function(o){var a=e[o];!a&&a!==0?n.style.removeProperty(Pc(o)):ab(o)?i+=o+"("+a+") ":t+=Pc(o)+": "+a+";"}),i&&(t+="transform: "+i+";"),n.style.cssText+=";"+t}function fd(n,e,t,i){return HT(n,e,t,i),function(){Tp(n,e,t,i)}}function lb(n,e,t,i){if(i===void 0&&(i=!0),n){var o=document.createEvent("HTMLEvents");o.initEvent(e,t,i),n.dispatchEvent(o)}}function ub(n){var e=vo(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function cb(n,e,t){t===void 0&&(t=5);var i=!1,o=setTimeout(function(){i||lb(n,"transitionend",!0)},e+t),a=fd(n,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(o),a()}}function qT(n,e,t,i){t==null&&(t=ub(n)||0);var o=cb(n,t,i),a=fd(n,"transitionend",e);return function(){o(),a()}}function Vf(n){n===void 0&&(n=$d());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function Mv(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}function db(){const n=R.useRef(!0),e=R.useRef(()=>n.current);return R.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function hb(n){const e=R.useRef(n);return e.current=n,e}function fb(n){const e=hb(n);R.useEffect(()=>()=>e.current(),[])}function pb(n){const e=R.useRef(null);return R.useEffect(()=>{e.current=n}),e.current}function mb(n){const e=R.useRef(n);return R.useEffect(()=>{e.current=n},[n]),e}function po(n){const e=mb(n);return R.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const gb="data-rr-ui-";function yb(n){return`${gb}${n}`}function _b(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const Vv=yb("modal-open");class km{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:i=!1}={}){this.handleContainerOverflow=t,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return _b(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();e.style={overflow:o.style.overflow,[i]:o.style[i]},e.scrollBarWidth&&(t[i]=`${parseInt(vo(o,i)||"0",10)+e.scrollBarWidth}px`),o.setAttribute(Vv,""),vo(o,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(Vv),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const KT=R.createContext(Ua?window:void 0);KT.Provider;function xm(){return R.useContext(KT)}const Ff=(n,e)=>Ua?n==null?(e||$d()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function vb(n,e){const t=xm(),[i,o]=R.useState(()=>Ff(n,t==null?void 0:t.document));if(!i){const a=Ff(n);a&&o(a)}return R.useEffect(()=>{},[e,i]),R.useEffect(()=>{const a=Ff(n);a!==i&&o(a)},[n,i]),i}const Fv=n=>!n||typeof n=="function"?n:e=>{n.current=e};function Eb(n,e){const t=Fv(n),i=Fv(e);return o=>{t&&t(o),i&&i(o)}}function Nm(n,e){return R.useMemo(()=>Eb(n,e),[n,e])}const wb=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Tb=typeof document<"u",Uv=Tb||wb?R.useLayoutEffect:R.useEffect;function Ib(n){return n.code==="Escape"||n.keyCode===27}function Sb(){const n=R.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function zd(n){if(!n||typeof n=="function")return null;const{major:e}=Sb();return e>=19?n.props.ref:n.ref}function Rb({children:n,in:e,onExited:t,mountOnEnter:i,unmountOnExit:o}){const a=R.useRef(null),u=R.useRef(e),h=po(t);R.useEffect(()=>{e?u.current=!0:h(a.current)},[e,h]);const f=Nm(a,zd(n)),m=R.cloneElement(n,{ref:f});return e?m:o||!u.current&&i?null:m}const Cb=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function Ab(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Pb(n){let{onEnter:e,onEntering:t,onEntered:i,onExit:o,onExiting:a,onExited:u,addEndListener:h,children:f}=n,m=Ab(n,Cb);const v=R.useRef(null),w=Nm(v,zd(f)),T=de=>j=>{de&&v.current&&de(v.current,j)},C=R.useCallback(T(e),[e]),b=R.useCallback(T(t),[t]),z=R.useCallback(T(i),[i]),F=R.useCallback(T(o),[o]),W=R.useCallback(T(a),[a]),re=R.useCallback(T(u),[u]),ee=R.useCallback(T(h),[h]);return Object.assign({},m,{nodeRef:v},e&&{onEnter:C},t&&{onEntering:b},i&&{onEntered:z},o&&{onExit:F},a&&{onExiting:W},u&&{onExited:re},h&&{addEndListener:ee},{children:typeof f=="function"?(de,j)=>f(de,Object.assign({},j,{ref:w})):R.cloneElement(f,{ref:w})})}const kb=["component"];function xb(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const Nb=R.forwardRef((n,e)=>{let{component:t}=n,i=xb(n,kb);const o=Pb(i);return x.jsx(t,Object.assign({ref:e},o))});function Db({in:n,onTransition:e}){const t=R.useRef(null),i=R.useRef(!0),o=po(e);return Uv(()=>{if(!t.current)return;let a=!1;return o({in:n,element:t.current,initial:i.current,isStale:()=>a}),()=>{a=!0}},[n,o]),Uv(()=>(i.current=!1,()=>{i.current=!0}),[]),t}function bb({children:n,in:e,onExited:t,onEntered:i,transition:o}){const[a,u]=R.useState(!e);e&&a&&u(!1);const h=Db({in:!!e,onTransition:m=>{const v=()=>{m.isStale()||(m.in?i==null||i(m.element,m.initial):(u(!0),t==null||t(m.element)))};Promise.resolve(o(m)).then(v,w=>{throw m.in||u(!0),w})}}),f=Nm(h,zd(n));return a&&!e?null:R.cloneElement(n,{ref:f})}function jv(n,e,t){return n?x.jsx(Nb,Object.assign({},t,{component:n})):e?x.jsx(bb,Object.assign({},t,{transition:e})):x.jsx(Rb,Object.assign({},t))}const Lb=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Ob(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}let Uf;function Mb(n){return Uf||(Uf=new km({ownerDocument:n==null?void 0:n.document})),Uf}function Vb(n){const e=xm(),t=n||Mb(e),i=R.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>t.add(i.current),remove:()=>t.remove(i.current),isTopModal:()=>t.isTopModal(i.current),setDialogRef:R.useCallback(o=>{i.current.dialog=o},[]),setBackdropRef:R.useCallback(o=>{i.current.backdrop=o},[])})}const GT=R.forwardRef((n,e)=>{let{show:t=!1,role:i="dialog",className:o,style:a,children:u,backdrop:h=!0,keyboard:f=!0,onBackdropClick:m,onEscapeKeyDown:v,transition:w,runTransition:T,backdropTransition:C,runBackdropTransition:b,autoFocus:z=!0,enforceFocus:F=!0,restoreFocus:W=!0,restoreFocusOptions:re,renderDialog:ee,renderBackdrop:de=nt=>x.jsx("div",Object.assign({},nt)),manager:j,container:le,onShow:N,onHide:S=()=>{},onExit:A,onExited:D,onExiting:M,onEnter:B,onEntering:k,onEntered:at}=n,ze=Ob(n,Lb);const dt=xm(),Be=vb(le),te=Vb(j),_e=db(),he=pb(t),[U,X]=R.useState(!t),fe=R.useRef(null);R.useImperativeHandle(e,()=>te,[te]),Ua&&!he&&t&&(fe.current=Vf(dt==null?void 0:dt.document)),t&&U&&X(!1);const Ae=po(()=>{if(te.add(),st.current=fd(document,"keydown",qe),Le.current=fd(document,"focus",()=>setTimeout($e),!0),N&&N(),z){var nt,Hn;const Wn=Vf((nt=(Hn=te.dialog)==null?void 0:Hn.ownerDocument)!=null?nt:dt==null?void 0:dt.document);te.dialog&&Wn&&!Mv(te.dialog,Wn)&&(fe.current=Wn,te.dialog.focus())}}),ke=po(()=>{if(te.remove(),st.current==null||st.current(),Le.current==null||Le.current(),W){var nt;(nt=fe.current)==null||nt.focus==null||nt.focus(re),fe.current=null}});R.useEffect(()=>{!t||!Be||Ae()},[t,Be,Ae]),R.useEffect(()=>{U&&ke()},[U,ke]),fb(()=>{ke()});const $e=po(()=>{if(!F||!_e()||!te.isTopModal())return;const nt=Vf(dt==null?void 0:dt.document);te.dialog&&nt&&!Mv(te.dialog,nt)&&te.dialog.focus()}),He=po(nt=>{nt.target===nt.currentTarget&&(m==null||m(nt),h===!0&&S())}),qe=po(nt=>{f&&Ib(nt)&&te.isTopModal()&&(v==null||v(nt),nt.defaultPrevented||S())}),Le=R.useRef(),st=R.useRef(),Xt=(...nt)=>{X(!0),D==null||D(...nt)};if(!Be)return null;const Sn=Object.assign({role:i,ref:te.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},ze,{style:a,className:o,tabIndex:-1});let Pt=ee?ee(Sn):x.jsx("div",Object.assign({},Sn,{children:R.cloneElement(u,{role:"document"})}));Pt=jv(w,T,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:A,onExiting:M,onExited:Xt,onEnter:B,onEntering:k,onEntered:at,children:Pt});let cn=null;return h&&(cn=de({ref:te.setBackdropRef,onClick:He}),cn=jv(C,b,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:cn})),x.jsx(x.Fragment,{children:va.createPortal(x.jsxs(x.Fragment,{children:[cn,Pt]}),Be)})});GT.displayName="Modal";const Fb=Object.assign(GT,{Manager:km});function Ub(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function jb(n,e){n.classList?n.classList.add(e):Ub(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}var Bb=Function.prototype.bind.call(Function.prototype.call,[].slice);function ha(n,e){return Bb(n.querySelectorAll(e))}function Bv(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function $b(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=Bv(n.className,e):n.setAttribute("class",Bv(n.className&&n.className.baseVal||"",e))}const fa={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class zb extends km{adjustAndStore(e,t,i){const o=t.style[e];t.dataset[e]=o,vo(t,{[e]:`${parseFloat(vo(t,e))+i}px`})}restore(e,t){const i=t.dataset[e];i!==void 0&&(delete t.dataset[e],vo(t,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(jb(t,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";ha(t,fa.FIXED_CONTENT).forEach(a=>this.adjustAndStore(i,a,e.scrollBarWidth)),ha(t,fa.STICKY_CONTENT).forEach(a=>this.adjustAndStore(o,a,-e.scrollBarWidth)),ha(t,fa.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(o,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();$b(t,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";ha(t,fa.FIXED_CONTENT).forEach(a=>this.restore(i,a)),ha(t,fa.STICKY_CONTENT).forEach(a=>this.restore(o,a)),ha(t,fa.NAVBAR_TOGGLER).forEach(a=>this.restore(o,a))}}let jf;function Hb(n){return jf||(jf=new zb(n)),jf}function Wb(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function Sp(n,e){return Sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},Sp(n,e)}function qb(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Sp(n,e)}var Bf={exports:{}},$f,$v;function Kb(){if($v)return $f;$v=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return $f=n,$f}var zf,zv;function Gb(){if(zv)return zf;zv=1;var n=Kb();function e(){}function t(){}return t.resetWarningCache=e,zf=function(){function i(u,h,f,m,v,w){if(w!==n){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}i.isRequired=i;function o(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},zf}var Hv;function Qb(){return Hv||(Hv=1,Bf.exports=Gb()()),Bf.exports}var Yb=Qb();const Hf=pd(Yb),Wv={disabled:!1},QT=go.createContext(null);var Xb=function(e){return e.scrollTop},kl="unmounted",ho="exited",ps="entering",mo="entered",Rp="exiting",Vi=function(n){qb(e,n);function e(i,o){var a;a=n.call(this,i,o)||this;var u=o,h=u&&!u.isMounting?i.enter:i.appear,f;return a.appearStatus=null,i.in?h?(f=ho,a.appearStatus=ps):f=mo:i.unmountOnExit||i.mountOnEnter?f=kl:f=ho,a.state={status:f},a.nextCallback=null,a}e.getDerivedStateFromProps=function(o,a){var u=o.in;return u&&a.status===kl?{status:ho}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(o){var a=null;if(o!==this.props){var u=this.state.status;this.props.in?u!==ps&&u!==mo&&(a=ps):(u===ps||u===mo)&&(a=Rp)}this.updateStatus(!1,a)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var o=this.props.timeout,a,u,h;return a=u=h=o,o!=null&&typeof o!="number"&&(a=o.exit,u=o.enter,h=o.appear!==void 0?o.appear:u),{exit:a,enter:u,appear:h}},t.updateStatus=function(o,a){if(o===void 0&&(o=!1),a!==null)if(this.cancelNextCallback(),a===ps){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:va.findDOMNode(this);u&&Xb(u)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ho&&this.setState({status:kl})},t.performEnter=function(o){var a=this,u=this.props.enter,h=this.context?this.context.isMounting:o,f=this.props.nodeRef?[h]:[va.findDOMNode(this),h],m=f[0],v=f[1],w=this.getTimeouts(),T=h?w.appear:w.enter;if(!o&&!u||Wv.disabled){this.safeSetState({status:mo},function(){a.props.onEntered(m)});return}this.props.onEnter(m,v),this.safeSetState({status:ps},function(){a.props.onEntering(m,v),a.onTransitionEnd(T,function(){a.safeSetState({status:mo},function(){a.props.onEntered(m,v)})})})},t.performExit=function(){var o=this,a=this.props.exit,u=this.getTimeouts(),h=this.props.nodeRef?void 0:va.findDOMNode(this);if(!a||Wv.disabled){this.safeSetState({status:ho},function(){o.props.onExited(h)});return}this.props.onExit(h),this.safeSetState({status:Rp},function(){o.props.onExiting(h),o.onTransitionEnd(u.exit,function(){o.safeSetState({status:ho},function(){o.props.onExited(h)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(o,a){a=this.setNextCallback(a),this.setState(o,a)},t.setNextCallback=function(o){var a=this,u=!0;return this.nextCallback=function(h){u&&(u=!1,a.nextCallback=null,o(h))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},t.onTransitionEnd=function(o,a){this.setNextCallback(a);var u=this.props.nodeRef?this.props.nodeRef.current:va.findDOMNode(this),h=o==null&&!this.props.addEndListener;if(!u||h){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],m=f[0],v=f[1];this.props.addEndListener(m,v)}o!=null&&setTimeout(this.nextCallback,o)},t.render=function(){var o=this.state.status;if(o===kl)return null;var a=this.props,u=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var h=Wb(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return go.createElement(QT.Provider,{value:null},typeof u=="function"?u(o,h):go.cloneElement(go.Children.only(u),h))},e}(go.Component);Vi.contextType=QT;Vi.propTypes={};function pa(){}Vi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:pa,onEntering:pa,onEntered:pa,onExit:pa,onExiting:pa,onExited:pa};Vi.UNMOUNTED=kl;Vi.EXITED=ho;Vi.ENTERING=ps;Vi.ENTERED=mo;Vi.EXITING=Rp;function qv(n,e){const t=vo(n,e)||"",i=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*i}function Jb(n,e){const t=qv(n,"transitionDuration"),i=qv(n,"transitionDelay"),o=qT(n,a=>{a.target===n&&(o(),e(a))},t+i)}function Zb(n){n.offsetHeight}function eL(n){return n&&"setState"in n?va.findDOMNode(n):n??null}const tL=go.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:o,onExited:a,addEndListener:u,children:h,childRef:f,...m},v)=>{const w=R.useRef(null),T=WT(w,f),C=le=>{T(eL(le))},b=le=>N=>{le&&w.current&&le(w.current,N)},z=R.useCallback(b(n),[n]),F=R.useCallback(b(e),[e]),W=R.useCallback(b(t),[t]),re=R.useCallback(b(i),[i]),ee=R.useCallback(b(o),[o]),de=R.useCallback(b(a),[a]),j=R.useCallback(b(u),[u]);return x.jsx(Vi,{ref:v,...m,onEnter:z,onEntered:W,onEntering:F,onExit:re,onExited:de,onExiting:ee,addEndListener:j,nodeRef:w,children:typeof h=="function"?(le,N)=>h(le,{...N,ref:C}):go.cloneElement(h,{ref:C})})}),nL={[ps]:"show",[mo]:"show"},Dm=R.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:i,...o},a)=>{const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},h=R.useCallback((f,m)=>{Zb(f),i==null||i(f,m)},[i]);return x.jsx(tL,{ref:a,addEndListener:Jb,...u,onEnter:h,childRef:zd(e),children:(f,m)=>R.cloneElement(e,{...m,className:yt("fade",n,e.props.className,nL[f],t[f])})})});Dm.displayName="Fade";const YT=R.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},o)=>(e=Vt(e,"modal-body"),x.jsx(t,{ref:o,className:yt(n,e),...i})));YT.displayName="ModalBody";const XT=R.createContext({onHide(){}}),bm=R.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:i,size:o,fullscreen:a,children:u,scrollable:h,...f},m)=>{n=Vt(n,"modal");const v=`${n}-dialog`,w=typeof a=="string"?`${n}-fullscreen-${a}`:`${n}-fullscreen`;return x.jsx("div",{...f,ref:m,className:yt(v,e,o&&`${n}-${o}`,i&&`${v}-centered`,h&&`${v}-scrollable`,a&&w),children:x.jsx("div",{className:yt(`${n}-content`,t),children:u})})});bm.displayName="ModalDialog";const JT=R.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},o)=>(e=Vt(e,"modal-footer"),x.jsx(t,{ref:o,className:yt(n,e),...i})));JT.displayName="ModalFooter";const rL={"aria-label":Hf.string,onClick:Hf.func,variant:Hf.oneOf(["white"])},Lm=R.forwardRef(({className:n,variant:e,"aria-label":t="Close",...i},o)=>x.jsx("button",{ref:o,type:"button",className:yt("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...i}));Lm.displayName="CloseButton";Lm.propTypes=rL;const iL=R.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:i,children:o,...a},u)=>{const h=R.useContext(XT),f=Ip(()=>{h==null||h.onHide(),i==null||i()});return x.jsxs("div",{ref:u,...a,children:[o,t&&x.jsx(Lm,{"aria-label":n,variant:e,onClick:f})]})}),ZT=R.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:i=!1,...o},a)=>(n=Vt(n,"modal-header"),x.jsx(iL,{ref:a,...o,className:yt(e,n),closeLabel:t,closeButton:i})));ZT.displayName="ModalHeader";const sL=Up("h4"),eI=R.forwardRef(({className:n,bsPrefix:e,as:t=sL,...i},o)=>(e=Vt(e,"modal-title"),x.jsx(t,{ref:o,className:yt(n,e),...i})));eI.displayName="ModalTitle";function oL(n){return x.jsx(Dm,{...n,timeout:null})}function aL(n){return x.jsx(Dm,{...n,timeout:null})}const tI=R.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:i,contentClassName:o,children:a,dialogAs:u=bm,"data-bs-theme":h,"aria-labelledby":f,"aria-describedby":m,"aria-label":v,show:w=!1,animation:T=!0,backdrop:C=!0,keyboard:b=!0,onEscapeKeyDown:z,onShow:F,onHide:W,container:re,autoFocus:ee=!0,enforceFocus:de=!0,restoreFocus:j=!0,restoreFocusOptions:le,onEntered:N,onExit:S,onExiting:A,onEnter:D,onEntering:M,onExited:B,backdropClassName:k,manager:at,...ze},dt)=>{const[Be,te]=R.useState({}),[_e,he]=R.useState(!1),U=R.useRef(!1),X=R.useRef(!1),fe=R.useRef(null),[Ae,ke]=YD(),$e=WT(dt,ke),He=Ip(W),qe=PR();n=Vt(n,"modal");const Le=R.useMemo(()=>({onHide:He}),[He]);function st(){return at||Hb({isRTL:qe})}function Xt(Se){if(!Ua)return;const ft=st().getScrollbarWidth()>0,hn=Se.scrollHeight>$d(Se).documentElement.clientHeight;te({paddingRight:ft&&!hn?Lv():void 0,paddingLeft:!ft&&hn?Lv():void 0})}const Sn=Ip(()=>{Ae&&Xt(Ae.dialog)});eb(()=>{Tp(window,"resize",Sn),fe.current==null||fe.current()});const Pt=()=>{U.current=!0},cn=Se=>{U.current&&Ae&&Se.target===Ae.dialog&&(X.current=!0),U.current=!1},nt=()=>{he(!0),fe.current=qT(Ae.dialog,()=>{he(!1)})},Hn=Se=>{Se.target===Se.currentTarget&&nt()},Wn=Se=>{if(C==="static"){Hn(Se);return}if(X.current||Se.target!==Se.currentTarget){X.current=!1;return}W==null||W()},Fi=Se=>{b?z==null||z(Se):(Se.preventDefault(),C==="static"&&nt())},Fr=(Se,ft)=>{Se&&Xt(Se),D==null||D(Se,ft)},qn=Se=>{fe.current==null||fe.current(),S==null||S(Se)},Ft=(Se,ft)=>{M==null||M(Se,ft),HT(window,"resize",Sn)},Kn=Se=>{Se&&(Se.style.display=""),B==null||B(Se),Tp(window,"resize",Sn)},pr=R.useCallback(Se=>x.jsx("div",{...Se,className:yt(`${n}-backdrop`,k,!T&&"show")}),[T,k,n]),Gn={...t,...Be};Gn.display="block";const dn=Se=>x.jsx("div",{role:"dialog",...Se,style:Gn,className:yt(e,n,_e&&`${n}-static`,!T&&"show"),onClick:C?Wn:void 0,onMouseUp:cn,"data-bs-theme":h,"aria-label":v,"aria-labelledby":f,"aria-describedby":m,children:x.jsx(u,{...ze,onMouseDown:Pt,className:i,contentClassName:o,children:a})});return x.jsx(XT.Provider,{value:Le,children:x.jsx(Fb,{show:w,ref:$e,backdrop:C,container:re,keyboard:!0,autoFocus:ee,enforceFocus:de,restoreFocus:j,restoreFocusOptions:le,onEscapeKeyDown:Fi,onShow:F,onHide:W,onEnter:Fr,onEntering:Ft,onEntered:N,onExit:qn,onExiting:A,onExited:Kn,manager:st(),transition:T?oL:void 0,backdropTransition:T?aL:void 0,renderBackdrop:pr,renderDialog:dn})})});tI.displayName="Modal";const Nn=Object.assign(tI,{Body:YT,Header:ZT,Title:eI,Footer:JT,Dialog:bm,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),lL=({setHideAndShowDisplay:n,hideAndShowDisplay:e})=>{const t=Ms(),[i,o]=R.useState(!1),a=()=>o(!1),u=()=>o(!0),h=()=>{n(!e)},f=async()=>{i&&await cw(jd).then(()=>{Ps.success("Signout Succesful"),localStorage.removeItem("token"),t("/"),console.log("Signed out successfully")}).catch(m=>{Ps.error(m.message)})};return x.jsx(x.Fragment,{children:x.jsxs("div",{className:`${Cc["sidebar-container"]}  navbar bg-primary sticky-top`,children:[x.jsx("h1",{className:Cc.adminName,children:"Hello Admin"}),x.jsxs("div",{className:Cc.actions,children:[x.jsx(br,{className:Cc.dashLinks,to:"/",children:x.jsx(Mt,{variant:"outline-light",children:" Home"})}),e?x.jsx(Mt,{variant:"outline-light",onClick:h,children:"Hide Create Blog"}):x.jsx(Mt,{variant:"outline-light",onClick:h,children:"Create Blog"}),x.jsx(Mt,{variant:"outline-light",onClick:u,children:"Log Out"}),x.jsxs(Nn,{show:i,onHide:a,children:[x.jsx(Nn.Header,{closeButton:!0,children:x.jsx(Nn.Title,{children:"Log out"})}),x.jsx(Nn.Body,{children:"Do you wanna Logout?"}),x.jsxs(Nn.Footer,{children:[x.jsx(Mt,{variant:"secondary",onClick:a,children:"Close"}),x.jsx(Mt,{variant:"primary",onClick:()=>{a(),f()},children:"Log Out"})]})]})]})]})})},uL="_footer_1lc48_1",Kv={footer:uL,"footer-text":"_footer-text_1lc48_1"},nI=()=>x.jsx(x.Fragment,{children:x.jsx("div",{id:Kv.footer,className:"bg-primary",children:x.jsx("p",{id:Kv["footer-text"],children:"@Copyrigth 2025 Rijul sharma"})})}),cL="_blogHeader_6jllb_1",dL={blogHeader:cL},hL="_container_1xtvw_1",fL="_blogTitle_1xtvw_25",pL="_blogimage_1xtvw_39",mL="_blogText_1xtvw_47",Tl={container:hL,blogTitle:fL,blogimage:pL,blogText:mL},gL=({fetchData:n,editBlog:e,editButtonClicked:t,hideAndShowDisplay:i})=>{const[o,a]=R.useState(""),[u,h]=R.useState(""),[f,m]=R.useState("");R.useEffect(()=>{var w,T,C;e&&(a(((w=e[0])==null?void 0:w.title)||""),h(((T=e[0])==null?void 0:T.content)||""),m(((C=e[0])==null?void 0:C.image)||""))},[e]);const v=async w=>{w.preventDefault(),console.log(f);try{if(t&&e){const T=wm(Wl,"blogs",e[0].id);await WN(T,{title:o.slice(0,50),content:u.slice(0,5e3),image:f})}else await KN(Em(Wl,"blogs"),{title:o.slice(0,50),content:u.slice(0,5e3),image:f});a(""),h(""),m(""),n()}catch(T){console.error("Error adding/updating document: ",T),alert("Error processing request.")}};return x.jsx(x.Fragment,{children:i?x.jsx("form",{onSubmit:v,children:x.jsxs("div",{className:Tl.container,children:[x.jsxs("div",{className:Tl.blogTitle,children:[x.jsx("h2",{children:"Add Blog Title"}),x.jsx("input",{type:"text",placeholder:"Add Blog Title",onChange:w=>a(w.target.value),value:o,required:!0})]}),x.jsxs("div",{className:Tl.blogText,children:[x.jsx("h2",{children:"Add Blog Content"}),x.jsx("textarea",{name:"blogContent",id:Tl.blogContent,rows:10,onChange:w=>h(w.target.value),required:!0,value:u})]}),x.jsxs("div",{className:Tl.blogimage,children:[x.jsx("h2",{children:"Enter Image path"}),x.jsx("input",{type:"text",placeholder:"paste you input path here..",className:"w-100 p-2",onChange:w=>{m(w.target.value)},value:f,required:!0})]}),x.jsx("div",{children:x.jsx("button",{type:"submit",className:t?"btn btn-danger container-fluid":"btn btn-primary  container-fluid",children:t?"Update":"Publish"})})]})}):null})},yL=({data:n,fetchData:e,setEditBlog:t,setEditButtonClicked:i,setHideAndShowDisplay:o})=>{const[a,u]=R.useState(!1),[h,f]=R.useState(null),m=()=>u(!1),v=C=>{f(C),u(!0)},w=C=>{let b=n.filter(z=>z.id===C);t(b),i(!0),o(!0),window.scrollTo({top:0,behavior:"smooth"})},T=async()=>{m();try{const C=wm(Wl,"blogs",h);await qN(C)}catch{alert("Failed to delete the document.")}e()};return x.jsx(x.Fragment,{children:x.jsxs("div",{className:"container mt-5 px-5 ",children:[x.jsx("h2",{className:"container text-center mb-5 border  shadow p-3  bg-body rounded",children:"BLOGS DATA"}),x.jsxs("table",{className:"table table-bordered table-hover border-dark mb-4",children:[x.jsx("thead",{className:"table-dark text-center",children:x.jsxs("tr",{children:[x.jsx("th",{scope:"col",children:"#Id"}),x.jsx("th",{scope:"col",children:"Image"}),x.jsx("th",{scope:"col",children:"Title"}),x.jsx("th",{scope:"col",children:"Content"}),x.jsx("th",{scope:"col",children:"Edit"}),x.jsx("th",{scope:"col",children:"Delete"})]})}),x.jsx("tbody",{children:n.map(C=>x.jsxs("tr",{children:[x.jsx("td",{children:C.id}),x.jsx("td",{children:x.jsx("img",{src:C.image,style:{width:"100px"}})}),x.jsx("td",{children:C.title}),x.jsx("td",{children:C.content}),x.jsx("td",{children:x.jsx("button",{className:"btn btn-primary px-4",onClick:()=>{w(C.id)},children:"Edit"})}),x.jsxs("td",{children:[x.jsx(Mt,{variant:"danger",onClick:()=>v(C.id),children:"Delete"}),x.jsxs(Nn,{show:a,onHide:m,children:[x.jsx(Nn.Header,{closeButton:!0,children:x.jsx(Nn.Title,{children:"Delete Data"})}),x.jsx(Nn.Body,{children:"Are you sure to delete blog data?"}),x.jsxs(Nn.Footer,{children:[x.jsx(Mt,{variant:"secondary",onClick:m,children:"Close"}),x.jsx(Mt,{variant:"primary",onClick:T,children:"OK"})]})]})]})]},C.id))})]})]})})},_L=({hideAndShowDisplay:n,setHideAndShowDisplay:e})=>{const[t,i]=R.useState([]),[o,a]=R.useState(),[u,h]=R.useState(!1),f=async()=>{try{const v=(await FT(Em(Wl,"blogs"))).docs.map(w=>({id:w.id,...w.data()}));i(v)}catch(m){console.error("Error fetching data: ",m)}};return R.useEffect(()=>{f()},[]),x.jsx(x.Fragment,{children:x.jsxs("header",{className:dL.blogHeader,children:[x.jsx(gL,{fetchData:f,editBlog:o,editButtonClicked:u,hideAndShowDisplay:n}),x.jsx(yL,{data:t,fetchData:f,setEditBlog:a,setEditButtonClicked:h,setHideAndShowDisplay:e})]})})},vL=()=>{let n=localStorage.getItem("token");const[e,t]=R.useState(!1),i=Ms();return R.useEffect(()=>{n||i("/")},[]),x.jsxs(x.Fragment,{children:[x.jsx(lL,{setHideAndShowDisplay:t,hideAndShowDisplay:e}),x.jsx(_L,{hideAndShowDisplay:e,setHideAndShowDisplay:t}),x.jsx(nI,{})]})},EL="/blog-app-prod/assets/react_logo-18E631Qj.png",wL="_navbar_1s06n_9",TL="_logo_1s06n_41",Qt={navbar:wL,logo:TL,"action-btn":"_action-btn_1s06n_55"};function IL({as:n,bsPrefix:e,className:t,...i}){e=Vt(e,"col");const o=mE(),a=gE(),u=[],h=[];return o.forEach(f=>{const m=i[f];delete i[f];let v,w,T;typeof m=="object"&&m!=null?{span:v,offset:w,order:T}=m:v=m;const C=f!==a?`-${f}`:"";v&&u.push(v===!0?`${e}${C}`:`${e}${C}-${v}`),T!=null&&h.push(`order${C}-${T}`),w!=null&&h.push(`offset${C}-${w}`)}),[{...i,className:yt(t,...u,...h)},{as:n,bsPrefix:e,spans:u}]}const Hc=R.forwardRef((n,e)=>{const[{className:t,...i},{as:o="div",bsPrefix:a,spans:u}]=IL(n);return x.jsx(o,{...i,ref:e,className:yt(t,!u.length&&a)})});Hc.displayName="Col";const rI=R.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:i,...o},a)=>{const u=Vt(n,"container"),h=typeof e=="string"?`-${e}`:"-fluid";return x.jsx(t,{ref:a,...o,className:yt(i,e?`${u}${h}`:u)})});rI.displayName="Container";const Cp=R.forwardRef(({bsPrefix:n,className:e,as:t="div",...i},o)=>{const a=Vt(n,"row"),u=mE(),h=gE(),f=`${a}-cols`,m=[];return u.forEach(v=>{const w=i[v];delete i[v];let T;w!=null&&typeof w=="object"?{cols:T}=w:T=w;const C=v!==h?`-${v}`:"";T!=null&&m.push(`${f}${C}-${T}`)}),x.jsx(t,{ref:o,...i,className:yt(e,a,...m)})});Cp.displayName="Row";const SL=()=>{let n=!!localStorage.getItem("token");const e=Ms(),[t,i]=R.useState(!1),o=()=>i(!1),a=()=>i(!0),u=async()=>{t&&(await cw(jd).then(()=>{Ps.success("Signout Succesful"),localStorage.removeItem("token"),e("/"),console.log("Signed out successfully")}).catch(h=>{Ps.error(h.message)}),o())};return x.jsx(x.Fragment,{children:x.jsx("header",{className:"sticky-top",children:x.jsxs("nav",{className:`${Qt.navbar} bg-primary`,children:[x.jsxs("div",{className:Qt.logo,children:[x.jsx(br,{to:"/",children:x.jsx("img",{id:Qt.logo,src:EL,alt:"react logo"})}),x.jsx("h3",{children:"React Blog App"})]}),x.jsx("div",{className:Qt["action-btn"],children:n?x.jsxs(x.Fragment,{children:[x.jsx(br,{id:Qt.signup,to:"/",children:x.jsx(Mt,{variant:"outline-light  px-3",children:"Home"})}),x.jsx(br,{id:Qt.signup,to:"/dashboard",children:x.jsx(Mt,{variant:"outline-light",children:"Dashboard"})}),x.jsxs(br,{className:Qt.btn,id:"login",to:"/",children:[x.jsx(Mt,{variant:"outline-light px-3",onClick:a,children:"Log Out"}),x.jsxs(Nn,{show:t,onHide:o,children:[x.jsx(Nn.Header,{closeButton:!0,children:x.jsx(Nn.Title,{children:"Log out"})}),x.jsx(Nn.Body,{children:"Do you wanna Logout?"}),x.jsxs(Nn.Footer,{children:[x.jsx(Mt,{variant:"secondary",onClick:o,children:"Close"}),x.jsx(Mt,{variant:"primary",onClick:u,children:"Log Out"})]})]})]})]}):x.jsxs(x.Fragment,{children:[x.jsx(br,{className:({isActive:h})=>`${Qt.btn} ${h?Qt["active-link"]:Qt.btn}`,id:Qt.signup,to:"/",children:x.jsx(Mt,{variant:"outline-light",children:"Home"})}),x.jsx(br,{className:({isActive:h})=>`${Qt.btn}  ${h?Qt["active-link"]:Qt.btn}`,id:"login",to:"/login",children:x.jsx(Mt,{variant:"outline-light",children:"Login"})}),x.jsx(br,{className:({isActive:h})=>`${Qt.btn} ${h?Qt["active-link"]:Qt.btn}`,id:Qt.signup,to:"/signup",children:x.jsx(Mt,{variant:"outline-light",children:"Sign Up"})})]})})]})})})},RL=()=>x.jsxs(x.Fragment,{children:[x.jsx(SL,{}),x.jsx(b0,{}),x.jsx(nI,{})]}),CL="_mainContainer_5l54p_1",AL="_title_5l54p_13",PL="_content_5l54p_21",kL="_image1_5l54p_31",xL={mainContainer:CL,title:AL,content:PL,image1:kL};function NL({data:n}){var C,b,z;let{id:e}=m0();const t=Ms(),[i,o]=R.useState([]),[a,u]=R.useState([]),[h,f]=R.useState(""),[m,v]=R.useState([]),w=()=>{v([...m,h]),f("")};R.useEffect(()=>{const F=n.filter(W=>W.id===e);o(F)},[n,e]),R.useEffect(()=>{const F=n.filter(W=>W.id!==e);u(F)},[n,e]);const T=F=>{window.scrollTo({top:0,behavior:"smooth"}),t(`/displayblog/${F}`)};return x.jsx(x.Fragment,{children:x.jsx(rI,{children:x.jsxs(Cp,{className:" p-3",children:[x.jsxs(Hc,{xs:8,className:"p-2",children:[x.jsx("img",{src:(C=i[0])==null?void 0:C.image,style:{width:"100%",marginBottom:"2rem"}}),x.jsxs("h2",{style:{marginBottom:"1rem"},children:[" ",(b=i[0])==null?void 0:b.title]}),x.jsx("p",{children:(z=i[0])==null?void 0:z.content}),x.jsxs("div",{className:`${xL.commentSection} container-fluid  p-2`,children:[x.jsx("textarea",{className:"w-100 p-2",placeholder:"add your comment",onChange:F=>f(F.target.value),value:h,rows:5}),x.jsx("button",{className:"btn btn-primary mt-2",onClick:w,children:"Post Comment"})]}),x.jsxs("div",{className:"container mt-3",children:[x.jsx("h1",{children:"All Comments here*"}),m.map((F,W)=>x.jsx(x.Fragment,{children:x.jsx("p",{children:F})}))]})]}),x.jsx(Hc,{xs:4,className:"p-3 ",children:a.map(F=>x.jsx(x.Fragment,{children:x.jsx(Cp,{className:"m-2 p-3 w-100 ",children:x.jsx(Hc,{children:x.jsxs(Zr,{style:{width:"100%"},children:[x.jsx(Zr.Img,{variant:"top",src:F.image}),x.jsxs(Zr.Body,{children:[x.jsx(Zr.Title,{children:F.title.slice(0,50)}),x.jsx(Zr.Text,{children:F.content.slice(0,100)}),x.jsx(Mt,{variant:"primary",onClick:()=>T(F.id),children:"Read More"})]})]})})})}))})]})})})}function DL(){const[n,e]=R.useState([]),t=async()=>{try{const a=(await FT(Em(Wl,"blogs"))).docs.map(u=>({id:u.id,...u.data()}));e(a)}catch(o){console.error("Error fetching data: ",o)}};R.useEffect(()=>{t()},[]);const i=iR([{path:"/",element:x.jsx(RL,{}),children:[{path:"/",element:x.jsx(DR,{data:n,fetchData:t})},{path:"/login",element:x.jsx(UD,{})},{path:"/signup",element:x.jsx(KD,{})},{path:"/displayblog/:id",element:x.jsx(NL,{data:n})}]},{path:"/dashboard",element:x.jsx(vL,{})}]);return x.jsx(x.Fragment,{children:x.jsx(mR,{router:i})})}fS.createRoot(document.getElementById("root")).render(x.jsxs(x.Fragment,{children:[x.jsx(DL,{}),x.jsx(FD,{})]}));
